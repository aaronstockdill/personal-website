"use strict";var formatEmailLink,getEmail,preferred_theme,setupEmail,setupNav,switchEmail,switch_theme,indexOf=[].indexOf;preferred_theme=function e(){var t;return(t=window.matchMedia("(prefers-color-scheme: dark)"))&&t.matches?"black":"white"},switch_theme=function e(t){var r=arguments.length>0&&void 0!==t?t:"white";return document.querySelector("#theme").setAttribute("href","/css/".concat(r,".css")),localStorage.setItem("s",r),!1},String.prototype.rotate=function(e){var t,r,a,n,i,o;for(i="",this.toLowerCase(),r=0,a=(n=this).length;r<a;r++)(t=n[r]).match(/[a-z]/)?(o=(t.charCodeAt(0)-97+e)%26+97,i+=String.fromCharCode(o)):i+=t;return i},String.prototype.reverse=function(){return this.split("").reverse().join("")},switchEmail=function e(t){return"mailto:"+t.replace("mailto:","").reverse()},getEmail=function e(t,r){return t.rotate(13)+"@"+r},formatEmailLink=function e(t){return'<a href="mailto:'+t+' " class="borked-email email">'+t+"</a>"},setupEmail=function e(){var t,r,a,n,i,o,s,u,l,c,d,h,m,f,g;for(u=0,d=(o=document.querySelectorAll(".email-holder")).length;u<d;u++)s=(i=o[u]).dataset.beforeAt,r=i.dataset.afterAt,i.innerHTML=formatEmailLink(getEmail(s,r).reverse());for(g=[],l=0,h=(n=document.querySelectorAll(".borked-email")).length;l<h;l++){for((a=n[l]).addEventListener("mouseover",(function(e){if("false"!==e.target.borked&&"true"!==e.target.held)return e.target.href=switchEmail(e.target.href),e.target.borked="false"})),a.addEventListener("mouseout",(function(e){if("false"===e.target.borked&&"true"!==e.target.held)return setTimeout((function(){return e.target.href=switchEmail(e.target.href,500)})),e.target.borked="true"})),c=0,m=(f=["mousedown","touchstart"]).length;c<m;c++)t=f[c],a.addEventListener(t,(function(e){return"false"!==e.target.borked&&(e.target.href=switchEmail(e.target.href),e.target.borked="false"),e.target.held="true"}));g.push(function(){var e,r,n,i;for(i=[],e=0,r=(n=["mouseup","click","dragend","touchend"]).length;e<r;e++)t=n[e],i.push(a.addEventListener(t,(function(e){return"false"===e.target.borked&&(setTimeout((function(){return e.target.href=switchEmail(e.target.href,500)})),e.target.borked="true"),e.target.held="false"})));return i}())}return g},setupNav=function e(){var t,r;return t=document.getElementById("menu-hamburger"),r=document.getElementsByTagName("nav")[0],t.addEventListener("click",(function(e){return indexOf.call(t.classList,"showing")>=0?(t.classList.remove("showing"),r.classList.remove("showing")):(t.classList.add("showing"),r.classList.add("showing"))}))},document.body.onload=function(){return setupEmail(),setupNav()};