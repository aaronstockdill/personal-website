(()=>{var es=Object.create;var $t=Object.defineProperty;var rs=Object.getOwnPropertyDescriptor;var ns=Object.getOwnPropertyNames;var ts=Object.getPrototypeOf,is=Object.prototype.hasOwnProperty;var os=e=>$t(e,"__esModule",{value:!0});var Wt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var us=(e,r,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of ns(r))!is.call(e,t)&&t!=="default"&&$t(e,t,{get:()=>r[t],enumerable:!(n=rs(r,t))||n.enumerable});return e},as=e=>us(os($t(e!=null?es(ts(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var la=Wt((_W,fa)=>{"use strict";var ca=Object.getOwnPropertySymbols,sf=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable;function ff(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function lf(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;var t=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(t.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}fa.exports=lf()?Object.assign:function(e,r){for(var n,t=ff(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var u in n)sf.call(n,u)&&(t[u]=n[u]);if(ca){i=ca(n);for(var a=0;a<i.length;a++)cf.call(n,i[a])&&(t[i[a]]=n[i[a]])}}return t}});var Ja=Wt(q=>{"use strict";var fi=la(),Yr=60103,pa=60106;q.Fragment=60107;q.StrictMode=60108;q.Profiler=60114;var da=60109,_a=60110,va=60112;q.Suspense=60113;var ma=60115,ha=60116;typeof Symbol=="function"&&Symbol.for&&(Me=Symbol.for,Yr=Me("react.element"),pa=Me("react.portal"),q.Fragment=Me("react.fragment"),q.StrictMode=Me("react.strict_mode"),q.Profiler=Me("react.profiler"),da=Me("react.provider"),_a=Me("react.context"),va=Me("react.forward_ref"),q.Suspense=Me("react.suspense"),ma=Me("react.memo"),ha=Me("react.lazy"));var Me,ba=typeof Symbol=="function"&&Symbol.iterator;function pf(e){return e===null||typeof e!="object"?null:(e=ba&&e[ba]||e["@@iterator"],typeof e=="function"?e:null)}function On(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ra={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$a={};function en(e,r,n){this.props=e,this.context=r,this.refs=$a,this.updater=n||Ra}en.prototype.isReactComponent={};en.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(On(85));this.updater.enqueueSetState(this,e,r,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wa(){}Wa.prototype=en.prototype;function li(e,r,n){this.props=e,this.context=r,this.refs=$a,this.updater=n||Ra}var pi=li.prototype=new Wa;pi.constructor=li;fi(pi,en.prototype);pi.isPureReactComponent=!0;var di={current:null},ya=Object.prototype.hasOwnProperty,ga={key:!0,ref:!0,__self:!0,__source:!0};function Aa(e,r,n){var t,i={},o=null,u=null;if(r!=null)for(t in r.ref!==void 0&&(u=r.ref),r.key!==void 0&&(o=""+r.key),r)ya.call(r,t)&&!ga.hasOwnProperty(t)&&(i[t]=r[t]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(t in a=e.defaultProps,a)i[t]===void 0&&(i[t]=a[t]);return{$$typeof:Yr,type:e,key:o,ref:u,props:i,_owner:di.current}}function df(e,r){return{$$typeof:Yr,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function _i(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function _f(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var Oa=/\/+/g;function vi(e,r){return typeof e=="object"&&e!==null&&e.key!=null?_f(""+e.key):r.toString(36)}function dt(e,r,n,t,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Yr:case pa:u=!0}}if(u)return u=e,i=i(u),e=t===""?"."+vi(u,0):t,Array.isArray(i)?(n="",e!=null&&(n=e.replace(Oa,"$&/")+"/"),dt(i,r,n,"",function(c){return c})):i!=null&&(_i(i)&&(i=df(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Oa,"$&/")+"/")+e)),r.push(i)),1;if(u=0,t=t===""?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){o=e[a];var s=t+vi(o,a);u+=dt(o,r,n,s,i)}else if(s=pf(e),typeof s=="function")for(e=s.call(e),a=0;!(o=e.next()).done;)o=o.value,s=t+vi(o,a++),u+=dt(o,r,n,s,i);else if(o==="object")throw r=""+e,Error(On(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r));return u}function _t(e,r,n){if(e==null)return e;var t=[],i=0;return dt(e,t,"","",function(o){return r.call(n,o,i++)}),t}function vf(e){if(e._status===-1){var r=e._result;r=r(),e._status=0,e._result=r,r.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var Sa={current:null};function er(){var e=Sa.current;if(e===null)throw Error(On(321));return e}var mf={ReactCurrentDispatcher:Sa,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:di,IsSomeRendererActing:{current:!1},assign:fi};q.Children={map:_t,forEach:function(e,r,n){_t(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return _t(e,function(){r++}),r},toArray:function(e){return _t(e,function(r){return r})||[]},only:function(e){if(!_i(e))throw Error(On(143));return e}};q.Component=en;q.PureComponent=li;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mf;q.cloneElement=function(e,r,n){if(e==null)throw Error(On(267,e));var t=fi({},e.props),i=e.key,o=e.ref,u=e._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,u=di.current),r.key!==void 0&&(i=""+r.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(s in r)ya.call(r,s)&&!ga.hasOwnProperty(s)&&(t[s]=r[s]===void 0&&a!==void 0?a[s]:r[s])}var s=arguments.length-2;if(s===1)t.children=n;else if(1<s){a=Array(s);for(var c=0;c<s;c++)a[c]=arguments[c+2];t.children=a}return{$$typeof:Yr,type:e.type,key:i,ref:o,props:t,_owner:u}};q.createContext=function(e,r){return r===void 0&&(r=null),e={$$typeof:_a,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:da,_context:e},e.Consumer=e};q.createElement=Aa;q.createFactory=function(e){var r=Aa.bind(null,e);return r.type=e,r};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:va,render:e}};q.isValidElement=_i;q.lazy=function(e){return{$$typeof:ha,_payload:{_status:-1,_result:e},_init:vf}};q.memo=function(e,r){return{$$typeof:ma,type:e,compare:r===void 0?null:r}};q.useCallback=function(e,r){return er().useCallback(e,r)};q.useContext=function(e,r){return er().useContext(e,r)};q.useDebugValue=function(){};q.useEffect=function(e,r){return er().useEffect(e,r)};q.useImperativeHandle=function(e,r,n){return er().useImperativeHandle(e,r,n)};q.useLayoutEffect=function(e,r){return er().useLayoutEffect(e,r)};q.useMemo=function(e,r){return er().useMemo(e,r)};q.useReducer=function(e,r,n){return er().useReducer(e,r,n)};q.useRef=function(e){return er().useRef(e)};q.useState=function(e){return er().useState(e)};q.version="17.0.2"});var Ba=Wt((mW,Ea)=>{"use strict";Ea.exports=Ja()});function yt(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function Pe(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,u=n.length,a=o-u|0;if(a===0)return t.apply(null,n);if(a>=0)return function(s,c){return function(f){return Pe(s,c.concat([f]))}}(t,n);r=yt(n,o,-a|0),e=t.apply(null,yt(n,0,o))}}function Ue(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,u){return e(r,t,i,o,u)};case 6:return function(t,i,o,u,a){return e(r,t,i,o,u,a)};case 7:return function(t,i,o,u,a,s){return e(r,t,i,o,u,a,s)};default:return Pe(e,[r])}}function En(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return Pe(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,u){return e(r,n,i,o,u)};case 6:return function(i,o,u,a){return e(r,n,i,o,u,a)};case 7:return function(i,o,u,a,s){return e(r,n,i,o,u,a,s)};default:return Pe(e,[r,n])}}function Wi(e,r,n,t,i,o,u){var a=e.length;if(a===6)return e(r,n,t,i,o,u);switch(a){case 1:return Pe(e(r),[n,t,i,o,u]);case 2:return Pe(e(r,n),[t,i,o,u]);case 3:return Pe(e(r,n,t),[i,o,u]);case 4:return Pe(e(r,n,t,i),[o,u]);case 5:return Pe(e(r,n,t,i,o),[u]);case 6:return e(r,n,t,i,o,u);case 7:return function(s){return e(r,n,t,i,o,u,s)};default:return Pe(e,[r,n,t,i,o,u])}}function We(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function yi(e){if(e!==void 0)return We(e)}function gt(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function N(e,r){if(r in e)return We(e[r])}function H(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function V(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return We(e)}function gi(e){if(Array.isArray(e))return e}function z(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function Ai(e){if(e!==void 0)return z(e)}function X(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function tn(e){if(typeof e=="string")return e}function At(e){if(typeof e=="number")return e}function Oi(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return z(e)}function Or(e){if(Array.isArray(e))return e}function Si(e){if(typeof e=="boolean")return e}function Ot(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function vr(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,u=n.length,a=o-u|0;if(a===0)return t.apply(null,n);if(a>=0)return function(s,c){return function(f){return vr(s,c.concat([f]))}}(t,n);r=Ot(n,o,-a|0),e=t.apply(null,Ot(n,0,o))}}function p(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,u){return e(r,t,i,o,u)};case 6:return function(t,i,o,u,a){return e(r,t,i,o,u,a)};case 7:return function(t,i,o,u,a,s){return e(r,t,i,o,u,a,s)};default:return vr(e,[r])}}function re(e){var r=e.length;return r===1?e:function(n){return p(e,n)}}function Ji(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return vr(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,u){return e(r,n,i,o,u)};case 6:return function(i,o,u,a){return e(r,n,i,o,u,a)};case 7:return function(i,o,u,a,s){return e(r,n,i,o,u,a,s)};default:return vr(e,[r,n])}}function ye(e){var r=e.length;return r===2?e:function(n,t){return Ji(e,n,t)}}function ss(e,r,n,t){var i=e.length;if(i===3)return e(r,n,t);switch(i){case 1:return vr(e(r),[n,t]);case 2:return vr(e(r,n),[t]);case 3:return e(r,n,t);case 4:return function(o){return e(r,n,t,o)};case 5:return function(o,u){return e(r,n,t,o,u)};case 6:return function(o,u,a){return e(r,n,t,o,u,a)};case 7:return function(o,u,a,s){return e(r,n,t,o,u,a,s)};default:return vr(e,[r,n,t])}}function nr(e){var r=e.length;return r===3?e:function(n,t,i){return ss(e,n,t,i)}}var St={contents:0};function Bn(e){return St.contents=St.contents+1|0,e+("/"+St.contents)}function Jt(e,r){return e<r?-1:e===r?0:1}function Ei(e,r){return e?r?0:1:r?-1:0}function Gn(e,r){return e===r?0:e<r?-1:1}function Bi(e,r){if(!(r>=0&&r<e.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error};return e[r]}function Sr(e,r){for(var n=e.length,t=r.length,i=new Array(n+t|0),o=0;o<n;++o)i[o]=e[o];for(var u=0;u<t;++u)i[n+u|0]=r[u];return i}function Gi(e,r){for(var n=0,t=e.length;n<t;++n)r(e[n])}function Ci(e,r){return Gi(e,re(r))}function wi(e,r){for(var n=e.length,t=new Array(n),i=0;i<n;++i)t[i]=r(e[i]);return t}function on(e,r){return wi(e,re(r))}function Li(e,r){for(var n=e.length,t=new Array(n),i=0,o=0;o<n;++o){var u=e[o],a=r(u);a!==void 0&&(t[i]=X(a),i=i+1|0)}return t.length=i,t}function Ti(e,r){return Li(e,re(r))}function Ui(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i]);return t}function un(e,r,n){return Ui(e,r,ye(n))}function ji(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i],i);return t}function Mi(e,r,n){return ji(e,r,nr(n))}function ls(e,r,n,t,i){for(;;){var o=n,u=r;if(o>=t)return o;var a=e[o];if(!i(a,u))return o;n=o+1|0,r=a}}function Jr(e,r){var n=e.length;if(n===0||n===1)return n;var t=e[0],i=e[1];if(r(t,i))for(var o=i,u=2;;){var a=u,s=o;if(a>=n)return a;var c=e[a];if(!r(s,c))return a;u=a+1|0,o=c}else return r(i,t)?-ls(e,i,2,n,r)|0:1}function Cn(e,r){return{hd:r,tl:e}}function vs(e,r){for(;;){var n=r,t=e;if(!t)return n;var i={hd:t.hd,tl:0};n.tl=i,r=i,e=t.tl}}function ms(e,r,n){for(;;){var t=r,i=e;if(!i)return;var o={hd:n(i.hd),tl:0};t.tl=o,r=o,e=i.tl}}function ki(e,r){if(!e)return r;var n={hd:e.hd,tl:0};return vs(e.tl,n).tl=r,n}function Di(e,r){if(!e)return 0;var n={hd:r(e.hd),tl:0};return ms(e.tl,n,r),n}function wn(e,r){return Di(e,re(r))}function Et(e){for(var r=e,n=0;;){var t=n,i=r;if(!i)return t;n=t+1|0,r=i.tl}}function hs(e,r,n){for(;;){var t=n,i=r;if(!t)return;e[i]=t.hd,n=t.tl,r=i+1|0}}function Er(e){for(var r=e.length-1|0,n=0;;){var t=n,i=r;if(i<0)return t;n={hd:e[i],tl:t},r=i-1|0}}function an(e){var r=Et(e),n=new Array(r);return hs(n,0,e),n}function Ni(e,r,n){for(;;){var t=r,i=e;if(!i)return t;r=n(t,i.hd),e=i.tl}}function Ln(e,r,n){return Ni(e,r,ye(n))}function Ii(e){if(e!==void 0)return X(e);throw{RE_EXN_ID:"Not_found",Error:new Error}}function Vi(e,r){if(e!==void 0)return z(r(X(e)))}function Br(e,r){return Vi(e,re(r))}function xi(e,r){if(e!==void 0)return r(X(e))}function Tn(e,r){return xi(e,re(r))}function Fi(e,r){return e!==void 0?X(e):r}function qi(e){return e!==void 0}function Pi(e){return e===void 0}var Un=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var u=n[i-1];for(t=0;t<u.length;++t)o.push(u[t]);return e[r].apply(e,o)};var De=Bn("Rpc-RepWeb.RpcError"),bs={},Rs={},$s={},Ws={},ys={};function gs(e,r){return p(e.reader,r)}function As(e,r){return p(e.writer,r)}function Os(e){return e.name}function Ne(e,r,n,t){return{reader:function(i){return p(n,p(e.reader,i))},writer:function(i){return p(e.writer,p(t,i))},name:r}}function Ss(e,r){return{reader:e.reader,writer:e.writer,name:r}}function Js(e){return{reader:function(r){return p(p(e,void 0).reader,r)},writer:function(r){return p(p(e,void 0).writer,r)},name:"<rec>"}}var Es=new Uint8Array([]);function Bs(e){}function Gs(e){return Es}var Hi={reader:Bs,writer:Gs,name:"unit"};function Cs(e){var r=e[0];if(r===0)return!1;if(r===1)return!0;throw{RE_EXN_ID:De,Error:new Error}}function ws(e){return e?new Uint8Array([1]):new Uint8Array([0])}var Ls={reader:Cs,writer:ws,name:"bool"};function Ki(e,r,n){for(;;){var t=n,i=r;if(i===0)return t;n=p(e,t),r=i-1|0}}function jn(e){var r=function(f,l){return Ki(function(d){return d/2|0},l,f)%256},n=r(e,0),t=r(e,8),i=r(e,16),o=r(e,24),u=r(e,32),a=r(e,40),s=r(e,48),c=r(e,56);return new Uint8Array([c,s,a,u,o,i,t,n])}function Mn(e){var r=function(f,l){return Ki(function(d){return d<<1},l,f)},n=e[7],t=e[6],i=e[5],o=e[4],u=e[3],a=e[2],s=e[1],c=e[0];return((((((n+r(t,8)|0)+r(i,16)|0)+r(o,24)|0)+r(u,32)|0)+r(a,40)|0)+r(s,48)|0)+r(c,56)|0}var Ts={reader:Mn,writer:jn,name:"int"};function Us(e){return new Float64Array(e.reverse().buffer)[0]}function js(e){var r=new Float64Array(1);return r.set([e]),new Uint8Array(r.buffer).reverse()}var Ms={reader:Us,writer:js,name:"float"};function ks(e){var r=[];return e.forEach(function(n){r.push(String.fromCharCode(n))}),Un("","concat",[r])}function Ds(e){return new Uint8Array(e.split("").map(function(r){return r.charCodeAt(0)|0}))}var Ns={reader:ks,writer:Ds,name:"string"};function Gr(e,r,n){return e.subarray(r,r+n|0)}function kn(e){var r=e.reduce(function(i,o){return i+o.length|0},0),n=new Uint8Array(r),t={contents:0};return e.forEach(function(i){n.set(i,t.contents),t.contents=t.contents+i.length|0}),n}function Cr(e){var r=function(t){for(var i=function(d,h,m){for(;;){var R=m,$=h,v=d;if(v===0)return R;var W=Mn(Gr(t,$,8));m=R.concat([W]),h=$+8|0,d=v-1|0}},o=i(e,0,[]),u=e<<3,a=[];;){var s=a,c=u,f=o.shift();if(f===void 0)return s;var l=Gr(t,c,f);a=s.concat([l]),u=c+f|0}},n=function(t){var i=t.map(function(o){return jn(o.length)});return kn(i.concat(t))};return{reader:r,writer:n,name:"tuple"}}function Is(e,r){return Ne(Cr(2),"".concat("(",e.name,", ",r.name,")"),function(n){if(n.length!==2)throw{RE_EXN_ID:De,Error:new Error};var t=n[0],i=n[1];return[p(e.reader,t),p(r.reader,i)]},function(n){return[p(e.writer,n[0]),p(r.writer,n[1])]})}function Vs(e,r,n){return Ne(Cr(3),"".concat("(",e.name,", ",r.name,", ",n.name,")"),function(t){if(t.length!==3)throw{RE_EXN_ID:De,Error:new Error};var i=t[0],o=t[1],u=t[2];return[p(e.reader,i),p(r.reader,o),p(n.reader,u)]},function(t){return[p(e.writer,t[0]),p(r.writer,t[1]),p(n.writer,t[2])]})}function xs(e,r,n,t){return Ne(Cr(4),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,")"),function(i){if(i.length!==4)throw{RE_EXN_ID:De,Error:new Error};var o=i[0],u=i[1],a=i[2],s=i[3];return[p(e.reader,o),p(r.reader,u),p(n.reader,a),p(t.reader,s)]},function(i){return[p(e.writer,i[0]),p(r.writer,i[1]),p(n.writer,i[2]),p(t.writer,i[3])]})}function Fs(e,r,n,t,i){return Ne(Cr(5),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,")"),function(o){if(o.length!==5)throw{RE_EXN_ID:De,Error:new Error};var u=o[0],a=o[1],s=o[2],c=o[3],f=o[4];return[p(e.reader,u),p(r.reader,a),p(n.reader,s),p(t.reader,c),p(i.reader,f)]},function(o){return[p(e.writer,o[0]),p(r.writer,o[1]),p(n.writer,o[2]),p(t.writer,o[3]),p(i.writer,o[4])]})}function qs(e,r,n,t,i,o){return Ne(Cr(6),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,")"),function(u){if(u.length!==6)throw{RE_EXN_ID:De,Error:new Error};var a=u[0],s=u[1],c=u[2],f=u[3],l=u[4],d=u[5];return[p(e.reader,a),p(r.reader,s),p(n.reader,c),p(t.reader,f),p(i.reader,l),p(o.reader,d)]},function(u){return[p(e.writer,u[0]),p(r.writer,u[1]),p(n.writer,u[2]),p(t.writer,u[3]),p(i.writer,u[4]),p(o.writer,u[5])]})}function Ps(e){var r=e.length-1|0;return[e[0],Gr(e,1,r)]}function Hs(e){return kn([new Uint8Array([e[0]]),e[1]])}var wr={reader:Ps,writer:Hs,name:"either"};function zi(e,r){return Ne(wr,"Rpc.Datatype.Either2.t".concat("<",e.name,", ",r.name,">"),function(n){var t=n[1],i=n[0];if(i===0)return{TAG:0,_0:p(e.reader,t)};if(i!==1)throw{RE_EXN_ID:De,Error:new Error};return{TAG:1,_0:p(r.reader,t)}},function(n){return n.TAG===0?[0,p(e.writer,n._0)]:[1,p(r.writer,n._0)]})}function Ks(e,r,n){return Ne(wr,"Rpc.Datatype.Either3.t".concat("<",e.name,", ",r.name,", ",n.name,">"),function(t){var i=t[1];switch(t[0]){case 0:return{TAG:0,_0:p(e.reader,i)};case 1:return{TAG:1,_0:p(r.reader,i)};case 2:return{TAG:2,_0:p(n.reader,i)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(t){switch(t.TAG|0){case 0:return[0,p(e.writer,t._0)];case 1:return[1,p(r.writer,t._0)];case 2:return[2,p(n.writer,t._0)]}})}function zs(e,r,n,t){return Ne(wr,"Rpc.Datatype.Either4.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,">"),function(i){var o=i[1];switch(i[0]){case 0:return{TAG:0,_0:p(e.reader,o)};case 1:return{TAG:1,_0:p(r.reader,o)};case 2:return{TAG:2,_0:p(n.reader,o)};case 3:return{TAG:3,_0:p(t.reader,o)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(i){switch(i.TAG|0){case 0:return[0,p(e.writer,i._0)];case 1:return[1,p(r.writer,i._0)];case 2:return[2,p(n.writer,i._0)];case 3:return[3,p(t.writer,i._0)]}})}function Xs(e,r,n,t,i){return Ne(wr,"Rpc.Datatype.Either5.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,">"),function(o){var u=o[1];switch(o[0]){case 0:return{TAG:0,_0:p(e.reader,u)};case 1:return{TAG:1,_0:p(r.reader,u)};case 2:return{TAG:2,_0:p(n.reader,u)};case 3:return{TAG:3,_0:p(t.reader,u)};case 4:return{TAG:4,_0:p(i.reader,u)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(o){switch(o.TAG|0){case 0:return[0,p(e.writer,o._0)];case 1:return[1,p(r.writer,o._0)];case 2:return[2,p(n.writer,o._0)];case 3:return[3,p(t.writer,o._0)];case 4:return[4,p(i.writer,o._0)]}})}function Qs(e,r,n,t,i,o){return Ne(wr,"Rpc.Datatype.Either6.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,">"),function(u){var a=u[1];switch(u[0]){case 0:return{TAG:0,_0:p(e.reader,a)};case 1:return{TAG:1,_0:p(r.reader,a)};case 2:return{TAG:2,_0:p(n.reader,a)};case 3:return{TAG:3,_0:p(t.reader,a)};case 4:return{TAG:4,_0:p(i.reader,a)};case 5:return{TAG:5,_0:p(o.reader,a)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(u){switch(u.TAG|0){case 0:return[0,p(e.writer,u._0)];case 1:return[1,p(r.writer,u._0)];case 2:return[2,p(n.writer,u._0)];case 3:return[3,p(t.writer,u._0)];case 4:return[4,p(i.writer,u._0)];case 5:return[5,p(o.writer,u._0)]}})}function Zs(e){var r=zi(e,Hi),n=r.writer,t=r.reader;return{reader:function(i){var o=p(t,i);if(o.TAG===0)return z(o._0)},writer:function(i){return i!==void 0?p(n,{TAG:0,_0:X(i)}):p(n,{TAG:1,_0:void 0})},name:"option<"+e.name+">"}}function Xi(e){var r=function(t){var i=Mn(Gr(t,0,8)),o=[],u=function(a,s){for(;;){var c=s,f=a;if(f===0)return;var l=Mn(Gr(t,c,8)),d=p(e.reader,Gr(t,c+8|0,l));o.push(d),s=(c+8|0)+l|0,a=f-1|0}};return u(i,8),o},n=function(t){var i=jn(t.length),o=on(t,function(u){var a=p(e.writer,u),s=jn(a.length);return kn([s,a])});return kn(Sr([i],o))};return{reader:r,writer:n,name:"array<"+e.name+">"}}function Ys(e){var r=Xi(e),n=r.writer,t=r.reader;return{reader:function(i){return Er(p(t,i))},writer:function(i){return p(n,an(i))},name:"list<"+e.name+">"}}var ge={Either2:bs,Either3:Rs,Either4:$s,Either5:Ws,Either6:ys,read:gs,write:As,name:Os,convert:Ne,alias:Ss,recur:Js,unit_:Hi,bool_:Ls,int_:Ts,float_:Ms,string_:Ns,option_:Zs,array_:Xi,list_:Ys,tuple2_:Is,tuple3_:Vs,tuple4_:xs,tuple5_:Fs,tuple6_:qs,tupleN_:Cr,either2_:zi,either3_:Ks,either4_:zs,either5_:Xs,either6_:Qs,eitherN_:wr};var Qi=function(e,r){for(var n in e)r(n)};function Lr(e,r){if(e===r)return 0;var n=typeof e,t=typeof r;switch(n){case"boolean":if(t==="boolean")return Ei(e,r);break;case"function":if(t==="function")throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if(t==="number")return Jt(e,r);break;case"string":return t==="string"?Gn(e,r):1;case"undefined":return-1;default:}switch(t){case"string":return-1;case"undefined":return 1;default:if(n==="boolean")return 1;if(t==="boolean")return-1;if(n==="function")return 1;if(t==="function")return-1;if(n==="number")return r===null||r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(t==="number")return e===null||e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e===null)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(r===null)return e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?Zi(e,r):-1;var i=e.TAG|0,o=r.TAG|0;if(i===248)return Jt(e[1],r[1]);if(i===251)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(i!==o)return i<o?-1:1;var u=e.length|0,a=r.length|0;if(u===a)if(Array.isArray(e))for(var s=0;;){var c=s;if(c===u)return 0;var f=Lr(e[c],r[c]);if(f!==0)return f;s=c+1|0}else return e instanceof Date&&r instanceof Date?e-r:Zi(e,r);else if(u<a)for(var l=0;;){var d=l;if(d===u)return-1;var h=Lr(e[d],r[d]);if(h!==0)return h;l=d+1|0}else for(var m=0;;){var R=m;if(R===a)return 1;var $=Lr(e[R],r[R]);if($!==0)return $;m=R+1|0}}}function Zi(e,r){var n={contents:void 0},t={contents:void 0},i=function(l,d){var h=l[2],m=l[1];if(!m.hasOwnProperty(d)||Lr(l[0][d],m[d])>0){var R=h.contents;if(!(R!==void 0&&d>=R)){h.contents=d;return}}},o=[e,r,t],u=function(l){return i(o,l)},a=[r,e,n],s=function(l){return i(a,l)};Qi(e,u),Qi(r,s);var c=n.contents,f=t.contents;return c!==void 0?f!==void 0?Gn(c,f):-1:f!==void 0?1:0}function Yi(e,r){return Lr(e,r)>0}function eo(e,r){return Lr(e,r)<0}function ec(e){return e}function rc(e){return"TAG: ".concat(e)}function nc(e){return e}function Tr(e,r){return e.concat(r)}function ro(e){return Ln(e,[],Tr)}function no(e,r){return e.concat([{TAG:1,_0:r}])}function Dn(e){return[{TAG:0,_0:e}]}function Nn(e){return[{TAG:0,_0:Un("","concat",[e])}]}function Ur(e,r){return r.map(function(n){return{TAG:1,_0:n}}).concat(e)}function jr(e,r){return e.concat(r.map(function(n){return{TAG:1,_0:n}}))}var to={toString:rc,fromString:ec,toJson:nc,fromJson:tn};function ne(e){return{TAG:0,_0:e,_1:[]}}function Mr(e){return{TAG:1,_0:Dn(e)}}function Ie(e){return{TAG:1,_0:Nn(e)}}function M(e,r){return e.TAG===0?{TAG:0,_0:e._0,_1:e._1.concat([to.fromString(r)])}:{TAG:1,_0:no(e._0,r)}}function S(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0),_1:e._1}:{TAG:1,_0:e._0}}function _(e,r){if(e.TAG===0){var n=p(r,e._0),t=e._1;return n.TAG===0?{TAG:0,_0:n._0,_1:t.concat(n._1)}:{TAG:1,_0:Ur(n._0,t)}}else return{TAG:1,_0:e._0}}function In(e,r){if(e.TAG===0)return p(r,e._0)}function ve(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;return n.TAG===0?{TAG:0,_0:[r._0,n._0],_1:t.concat(n._1)}:{TAG:1,_0:Ur(n._0,t)}}var i=e[1],o=r._0;return i.TAG===0?{TAG:1,_0:jr(o,i._1)}:{TAG:1,_0:Tr(o,i._0)}}function ae(e){if(!e)return{TAG:0,_0:0,_1:[]};var r=ve([e.hd,ae(e.tl)]);if(r.TAG!==0)return{TAG:1,_0:r._0};var n=r._0;return{TAG:0,_0:Cn(n[1],n[0]),_1:r._1}}function te(e){if(!e)return{TAG:0,_0:void 0,_1:[]};var r=ve([e.hd,te(e.tl)]);return r.TAG===0?{TAG:0,_0:void 0,_1:r._1}:{TAG:1,_0:r._0}}function io(e,r){return e!==void 0?{TAG:0,_0:X(e),_1:[]}:{TAG:1,_0:r}}function C(e,r){return io(e,Dn(r))}function k(e,r){return io(e,Nn(r))}function oo(e,r){return e?{TAG:0,_0:void 0,_1:[]}:{TAG:1,_0:r}}function uo(e,r){return oo(e,Dn(r))}function Ke(e,r){return oo(e,Nn(r))}function Se(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;if(n.TAG===0){var i=e[2],o=n._1;return i.TAG===0?{TAG:0,_0:[r._0,n._0,i._0],_1:t.concat(o,i._1)}:{TAG:1,_0:Ur(i._0,t.concat(o))}}var u=e[2],a=n._0;return u.TAG===0?{TAG:1,_0:jr(Ur(a,t),u._1)}:{TAG:1,_0:Ur(Tr(a,u._0),t)}}var s=e[1],c=r._0;if(s.TAG===0){var f=e[2],l=s._1;return f.TAG===0?{TAG:1,_0:jr(c,l.concat(f._1))}:{TAG:1,_0:Tr(jr(c,l),f._0)}}var d=e[2],h=s._0;return d.TAG===0?{TAG:1,_0:jr(Tr(c,h),d._1)}:{TAG:1,_0:ro({hd:c,tl:{hd:h,tl:{hd:d._0,tl:0}}})}}function ze(e){return S(ve([ve([e[0],e[1]]),ve([e[2],e[3]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1]]})}function sn(e){return S(ve([ve([e[0],e[1]]),Se([e[2],e[3],e[4]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1],n[2]]})}function kr(e){return S(ve([Se([e[0],e[1],e[2]]),Se([e[3],e[4],e[5]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2]]})}function Bt(e){return S(ve([Se([e[0],e[1],e[2]]),ze([e[3],e[4],e[5],e[6]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2],n[3]]})}function ao(e){return S(ve([ze([e[0],e[1],e[2],e[3]]),sn([e[4],e[5],e[6],e[7],e[8]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3],n[4]]})}function so(e){return S(ve([sn([e[0],e[1],e[2],e[3],e[4]]),sn([e[5],e[6],e[7],e[8],e[9]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],t[4],n[0],n[1],n[2],n[3],n[4]]})}function Gt(e){return S(Se([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),Se([e[8],e[9],e[10]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2]]})}function co(e){return S(Se([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),ze([e[8],e[9],e[10],e[11]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3]]})}function Dr(e){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:e._0}}var r_=ge.array_,mr=on;function hr(e,r){return _(C(Or(e),"JSON is not a valid array (reading array)"),function(n){return un(n,ne([]),function(t,i){return _(t,function(o){return S(p(r,i),function(u){return Sr(o,[u])})})})})}function cn(e,r){return e.filter(re(r))}function Vn(e,r){return Ai(e.find(re(r)))}function Ct(e,r){return un(e,[],function(n,t){var i=p(r,t);return i!==void 0?Sr(n,[X(i)]):n})}var xn=e=>[...new Set(e)];var fo=Bi;var fn=Sr;var br=Ci;var Nr=on;var Fn=Ti;var Ir=un;var lo=Mi;function Ae(e){return e!==void 0?e.h:0}function Ge(e,r,n,t){var i=Ae(e),o=Ae(t);return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t}}function me(e,r){return{k:e,v:r,h:1,l:void 0,r:void 0}}function po(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function ln(e,r){return e.v===r?e:{k:e.k,v:r,h:e.h,l:e.l,r:e.r}}function Oe(e,r,n,t){var i=e!==void 0?e.h:0,o=t!==void 0?t.h:0;if(i>(o+2|0)){var u=e.l,a=e.r;return Ae(u)>=Ae(a)?Ge(u,e.k,e.v,Ge(a,r,n,t)):Ge(Ge(u,e.k,e.v,a.l),a.k,a.v,Ge(a.r,r,n,t))}if(o<=(i+2|0))return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t};var s=t.l,c=t.r;return Ae(c)>=Ae(s)?Ge(Ge(e,r,n,s),t.k,t.v,c):Ge(Ge(e,r,n,s.l),s.k,s.v,Ge(s.r,t.k,t.v,c))}function Rr(e,r,n){var t=e.l;return t!==void 0?Oe(Rr(t,r,n),e.k,e.v,e.r):(r.contents=e.k,n.contents=e.v,e.r)}function wt(e){return e===void 0}function qn(e,r){for(;;){var n=e;if(n===void 0)return;qn(n.l,r),r(n.k,n.v),e=n.r}}function pn(e,r){if(e!==void 0){var n=pn(e.l,r),t=r(e.v),i=pn(e.r,r);return{k:e.k,v:t,h:e.h,l:n,r:i}}}function dn(e,r){if(e!==void 0){var n=e.k,t=dn(e.l,r),i=r(n,e.v),o=dn(e.r,r);return{k:n,v:i,h:e.h,l:t,r:o}}}function _o(e,r,n){return e!==void 0?Oe(_o(e.l,r,n),e.k,e.v,e.r):me(r,n)}function vo(e,r,n){return e!==void 0?Oe(e.l,e.k,e.v,vo(e.r,r,n)):me(r,n)}function Xe(e,r,n,t){if(e===void 0)return _o(t,r,n);if(t===void 0)return vo(e,r,n);var i=e.k,o=e.v,u=e.h,a=e.l,s=e.r,c=t.k,f=t.v,l=t.h,d=t.l,h=t.r;return u>(l+2|0)?Oe(a,i,o,Xe(s,r,n,t)):l>(u+2|0)?Oe(Xe(e,r,n,d),c,f,h):Ge(e,r,n,t)}function mo(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.k},t={contents:r.v},i=Rr(r,n,t);return Xe(e,n.contents,t.contents,i)}function Pn(e,r,n,t){return n!==void 0?Xe(e,r,X(n),t):mo(e,t)}function _n(e,r){if(e!==void 0){var n=e.k,t=e.v,i=_n(e.l,r),o=r(n,t),u=_n(e.r,r);return o!==void 0?Xe(i,n,X(o),u):mo(i,u)}}function vn(e){var r=e.l,n=e.r,t=r!==void 0?vn(r):0,i=n!==void 0?vn(n):0;return(1+t|0)+i|0}function ho(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;var i=t.k,o=t.v,u=t.l,a=t.r;r={hd:[i,o],tl:ho(a,n)},e=u}}function Lt(e){return ho(e,0)}function bo(e,r,n){for(;;){var t=r,i=e,o=i.k,u=i.l,a=i.r,s=u!==void 0?bo(u,t,n):t;n[s]=o;var c=s+1|0;if(a===void 0)return c;r=c,e=a}}function Ro(e,r,n){for(;;){var t=r,i=e,o=i.l,u=i.r,a=o!==void 0?Ro(o,t,n):t;n[a]=i.v;var s=a+1|0;if(u===void 0)return s;r=s,e=u}}function $o(e,r,n){for(;;){var t=r,i=e,o=i.l,u=i.k,a=i.r,s=o!==void 0?$o(o,t,n):t;n[s]=[u,i.v];var c=s+1|0;if(a===void 0)return c;r=c,e=a}}function Tt(e){if(e===void 0)return[];var r=vn(e),n=new Array(r);return $o(e,0,n),n}function Ut(e){if(e===void 0)return[];var r=vn(e),n=new Array(r);return bo(e,0,n),n}function jt(e){if(e===void 0)return[];var r=vn(e),n=new Array(r);return Ro(e,0,n),n}function mn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return me(t[0],t[1]);case 2:var i=e[r],o=e[r-1|0],u=o,a=i;return{k:u[0],v:u[1],h:2,l:me(a[0],a[1]),r:void 0};case 3:var s=e[r],c=e[r-1|0],f=e[r-2|0],l=f,d=c,h=s;return{k:d[0],v:d[1],h:2,l:me(h[0],h[1]),r:me(l[0],l[1])};default:var m=n/2|0,R=mn(e,r,m),$=e[r-m|0],v=mn(e,(r-m|0)-1|0,(n-m|0)-1|0);return Ge(R,$[0],$[1],v)}}function hn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return me(t[0],t[1]);case 2:var i=e[r],o=e[r+1|0],u=o,a=i;return{k:u[0],v:u[1],h:2,l:me(a[0],a[1]),r:void 0};case 3:var s=e[r],c=e[r+1|0],f=e[r+2|0],l=f,d=c,h=s;return{k:d[0],v:d[1],h:2,l:me(h[0],h[1]),r:me(l[0],l[1])};default:var m=n/2|0,R=hn(e,r,m),$=e[r+m|0],v=hn(e,(r+m|0)+1|0,(n-m|0)-1|0);return Ge(R,$[0],$[1],v)}}function Wo(e,r,n){for(;;){var t=e;if(t===void 0)return;var i=t.k,o=n(r,i);if(o===0)return z(t.v);e=o<0?t.l:t.r}}function yo(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.k,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function Mt(e){var r=e.l;e.l=r.r,r.r=e;var n=Ae(e.l),t=Ae(e.r);e.h=(n>t?n:t)+1|0;var i=Ae(r.l),o=e.h;return r.h=(i>o?i:o)+1|0,r}function kt(e){var r=e.r;e.r=r.l,r.l=e;var n=Ae(e.l),t=Ae(e.r);e.h=(n>t?n:t)+1|0;var i=Ae(r.r),o=e.h;return r.h=(i>o?i:o)+1|0,r}function tc(e){var r=e.l,n=kt(r);return e.l=n,Mt(e)}function ic(e){var r=e.r,n=Mt(r);return e.r=n,kt(e)}function Hn(e){var r=Ae(e.l),n=Ae(e.r);return e.h=(r>n?r:n)+1|0,e}function Dt(e){var r=e.l,n=e.r,t=Ae(r),i=Ae(n);if(t>(2+i|0)){var o=r.l,u=r.r;return po(o,u)?Hn(Mt(e)):Hn(tc(e))}if(i>(2+t|0)){var a=n.l,s=n.r;return po(s,a)?Hn(kt(e)):Hn(ic(e))}return e.h=(t>i?t:i)+1|0,e}function Nt(e,r,n,t){if(e===void 0)return me(r,n);var i=e.k,o=t(r,i);if(o===0)return e.v=n,e;var u=e.l,a=e.r;if(o<0){var s=Nt(u,r,n,t);e.l=s}else e.r=Nt(a,r,n,t);return Dt(e)}function go(e,r){var n=e.length;if(n!==0){var t=Jr(e,function(a,s){return r(a[0],s[0])<0}),i;t>=0?i=hn(e,0,t):(t=-t|0,i=mn(e,t-1|0,t));for(var o=t;o<n;++o){var u=e[o];i=Nt(i,u[0],u[1],r)}return i}}function It(e,r,n){if(e===void 0)return me(r,n);var t=e.k;if(r===t)return e.k=r,e.v=n,e;var i=e.l,o=e.r;if(r<t){var u=It(i,r,n);e.l=u}else e.r=It(o,r,n);return Dt(e)}function Oo(e){var r=e.length;if(r!==0){var n=Jr(e,function(u,a){return u[0]<a[0]}),t;n>=0?t=hn(e,0,n):(n=-n|0,t=mn(e,n-1|0,n));for(var i=n;i<r;++i){var o=e[i];t=It(t,o[0],o[1])}return t}}var So=Oo;var M_=ge.string_;function g(e){return e}function A(e){return k(tn(e),["Not a JSON string: ",String(e)])}var k_=So([[" ",.3],["!",.33],[".",.33],[",",.33],[";",.33],[":",.33],['"',.4],["'",.25],["/",.35],["\\",.35],["@",1.2],["#",.66],["$",.66],["\xC2\xA3",.66],["&",.8],["*",.45],["(",.4],[")",.4],["[",.4],["]",.4],["{",.4],["}",.4],["|",.3],["+",.7],["-",.4],["\xE2\x80\x93",.66],["\xE2\x80\x94",1.15],["=",.7],["_",.66],["0",.66],["1",.6],["2",.66],["3",.66],["4",.66],["5",.66],["6",.66],["7",.66],["8",.66],["9",.66],["a",.66],["b",.66],["c",.6],["d",.66],["e",.66],["f",.33],["g",.66],["h",.66],["i",.25],["j",.25],["k",.66],["l",.25],["m",1],["n",.66],["o",.66],["p",.66],["q",.66],["r",.4],["s",.66],["t",.33],["u",.66],["v",.65],["w",.9],["x",.66],["y",.66],["z",.66],["A",.8],["B",.8],["C",.85],["D",.85],["E",.8],["F",.75],["G",.95],["H",.85],["I",.33],["J",.6],["K",.8],["L",.66],["M",1],["N",.85],["O",.95],["P",.8],["Q",.95],["R",.85],["S",.8],["T",.65],["U",.85],["V",.8],["W",1.15],["X",.8],["Y",.8],["Z",.75]]);var tr=g,ir=A;function Bc(e){switch(e){case 0:return"Semantic";case 1:return"Auxiliary";case 2:return"Arbitrary"}}function Gc(e){switch(e){case"Arbitrary":return 2;case"Auxiliary":return 1;case"Semantic":return 0;default:return}}function Ce(e){return g(Bc(e))}function we(e){return _(A(e),function(r){return k(Gc(r),["Function '",r,"' is not one of Semantic, Auxiliary, or Arbitrary"])})}function Jo(e){var r=e.cmp,n=ye(r);return{cmp:n}}function Eo(e){for(var r=Object.keys(e),n=r.length,t=new Array(n),i=0;i<n;++i){var o=r[i];t[i]=[o,e[o]]}return t}function Bo(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function Kn(e,r,n,t){if(e===void 0)return me(r,n);var i=e.k,o=t(r,i);if(o===0)return ln(e,n);var u=e.l,a=e.r,s=e.v;return o<0?Oe(Kn(u,r,n,t),i,s,a):Oe(u,i,s,Kn(a,r,n,t))}function zn(e,r,n,t){if(e!==void 0){var i=e.k,o=t(r,i);if(o===0){var u=n(z(e.v));if(u!==void 0)return ln(e,X(u));var a=e.l,s=e.r;if(a===void 0)return s;if(s===void 0)return a;var c={contents:s.k},f={contents:s.v},l=Rr(s,c,f);return Oe(a,c.contents,f.contents,l)}var d=e.l,h=e.r,m=e.v;if(o<0){var R=zn(d,r,n,t);return d===R?e:Oe(R,i,m,h)}var $=zn(h,r,n,t);return h===$?e:Oe(d,i,m,$)}var v=n(void 0);return v!==void 0?me(r,X(v)):e}function Vt(e,r,n){var t=e.k,i=e.l,o=e.r,u=n(r,t);if(u===0){if(i===void 0)return o;if(o===void 0)return i;var a={contents:o.k},s={contents:o.v},c=Rr(o,a,s);return Oe(i,a.contents,s.contents,c)}if(u<0){if(i===void 0)return e;var f=Vt(i,r,n);return f===i?e:Oe(f,t,e.v,o)}if(o===void 0)return e;var l=Vt(o,r,n);return l===o?e:Oe(i,t,e.v,l)}function Go(e,r,n){if(e!==void 0)return Vt(e,r,n)}function Xn(e,r,n,t){var i=e.k,o=e.v,u=e.l,a=e.r,s=t(r,i);if(s===0)return n.contents=z(o),[u,a];if(s<0){if(u===void 0)return[void 0,e];var c=Xn(u,r,n,t);return[c[0],Xe(c[1],i,o,a)]}if(a===void 0)return[e,void 0];var f=Xn(a,r,n,t);return[Xe(u,i,o,f[0]),f[1]]}function Vr(e,r,n,t){if(e===void 0)return r!==void 0?_n(r,function(y,E){return n(y,void 0,z(E))}):void 0;if(r===void 0)return _n(e,function(y,E){return n(y,z(E),void 0)});if(e.h>=r.h){var i=e.k,o=e.v,u=e.l,a=e.r,s={contents:void 0},c=Xn(r,i,s,t),f=s.contents,l=Vr(u,c[0],n,t),d=n(i,z(o),f),h=Vr(a,c[1],n,t);return Pn(l,i,d,h)}var m=r.k,R=r.v,$=r.l,v=r.r,W={contents:void 0},b=Xn(e,m,W,t),T=W.contents,j=Vr(b[0],$,n,t),K=n(m,T,z(R)),w=Vr(b[1],v,n,t);return Pn(j,m,K,w)}var Co=wt,wo=yo;var Lo=qn;var To=Lt,Uo=Tt,jo=go,Mo=Ut,ko=jt;var Do=Wo;var No=pn;var Io=dn;function Vo(e,r){var n=r.cmp;return{cmp:n,data:jo(e,n)}}function xo(e,r){var n=e.data,t=e.cmp,i=Go(n,r,t);return i===n?e:{cmp:t,data:i}}function xt(e,r,n){var t=e.cmp;return{cmp:t,data:Kn(e.data,r,n,t)}}function Cc(e,r,n){var t=e.cmp;return{cmp:t,data:zn(e.data,r,n,t)}}function Fo(e,r,n){return Cc(e,r,re(n))}function wc(e,r,n){var t=e.cmp;return{cmp:t,data:Vr(e.data,r.data,n,t)}}function qo(e,r,n){return wc(e,r,nr(n))}function Ft(e){return{cmp:e.cmp,data:void 0}}function Po(e){return Co(e.data)}function Ho(e,r){return Lo(e.data,ye(r))}function Lc(e,r){return{cmp:e.cmp,data:No(e.data,r)}}function Ko(e,r){return Lc(e,re(r))}function Tc(e,r){return{cmp:e.cmp,data:Io(e.data,r)}}function zo(e,r){return Tc(e,ye(r))}function qt(e){return To(e.data)}function Xo(e){return Uo(e.data)}function Qo(e){return Mo(e.data)}function Zo(e){return ko(e.data)}function Yo(e,r){return Do(e.data,r,e.cmp)}function eu(e,r){return wo(e.data,r,e.cmp)}function Le(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n}}function Te(e){return{v:e,h:1,l:void 0,r:void 0}}function Qn(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function Ve(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;if(t>(i+2|0)){var o=e.l,u=e.r;return Qn(o,u)?Le(o,e.v,Le(u,r,n)):Le(Le(o,e.v,u.l),u.v,Le(u.r,r,n))}if(i<=(t+2|0))return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n};var a=n.l,s=n.r;return Qn(s,a)?Le(Le(e,r,a),n.v,s):Le(Le(e,r,a.l),a.v,Le(a.r,n.v,s))}function Zn(e,r){var n=e.l;return n!==void 0?Ve(Zn(n,r),e.v,e.r):(r.contents=e.v,e.r)}function ru(e){return e===void 0}function nu(e,r){return e!==void 0?Ve(nu(e.l,r),e.v,e.r):Te(r)}function tu(e,r){return e!==void 0?Ve(e.l,e.v,tu(e.r,r)):Te(r)}function xe(e,r,n){if(e===void 0)return nu(n,r);if(n===void 0)return tu(e,r);var t=e.h,i=n.h;return t>(i+2|0)?Ve(e.l,e.v,xe(e.r,r,n)):i>(t+2|0)?Ve(xe(e,r,n.l),n.v,n.r):Le(e,r,n)}function iu(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.v},t=Zn(r,n);return xe(e,n.contents,t)}function Yn(e){var r=e.l,n=e.r,t=r!==void 0?Yn(r):0,i=n!==void 0?Yn(n):0;return(1+t|0)+i|0}function ou(e){return e!==void 0?Yn(e):0}function uu(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;r={hd:t.v,tl:uu(t.r,n)},e=t.l}}function au(e){return uu(e,0)}function su(e,r,n){for(;;){var t=r,i=e,o=i.v,u=i.l,a=i.r,s=u!==void 0?su(u,t,n):t;n[s]=o;var c=s+1|0;if(a===void 0)return c;r=c,e=a}}function cu(e){if(e===void 0)return[];var r=Yn(e),n=new Array(r);return su(e,0,n),n}function Pt(e,r,n){switch(n){case 0:return;case 1:return Te(e[r]);case 2:var t=e[r],i=e[r-1|0];return{v:i,h:2,l:Te(t),r:void 0};case 3:var o=e[r],u=e[r-1|0],a=e[r-2|0];return{v:u,h:2,l:Te(o),r:Te(a)};default:var s=n/2|0,c=Pt(e,r,s),f=e[r-s|0],l=Pt(e,(r-s|0)-1|0,(n-s|0)-1|0);return Le(c,f,l)}}function Ht(e,r,n){switch(n){case 0:return;case 1:return Te(e[r]);case 2:var t=e[r],i=e[r+1|0];return{v:i,h:2,l:Te(t),r:void 0};case 3:var o=e[r],u=e[r+1|0],a=e[r+2|0];return{v:u,h:2,l:Te(o),r:Te(a)};default:var s=n/2|0,c=Ht(e,r,s),f=e[r+s|0],l=Ht(e,(r+s|0)+1|0,(n-s|0)-1|0);return Le(c,f,l)}}function fu(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.v,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function Kt(e){var r=e.l;e.l=r.r,r.r=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var u=r.l,a=u!==void 0?u.h:0,s=e.h;return r.h=(a>s?a:s)+1|0,r}function zt(e){var r=e.r;e.r=r.l,r.l=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var u=r.r,a=u!==void 0?u.h:0,s=e.h;return r.h=(a>s?a:s)+1|0,r}function Uc(e){var r=e.l,n=zt(r);return e.l=n,Kt(e)}function jc(e){var r=e.r,n=Kt(r);return e.r=n,zt(e)}function et(e){var r=e.l,n=r!==void 0?r.h:0,t=e.r,i=t!==void 0?t.h:0;return e.h=(n>i?n:i)+1|0,e}function Mc(e){var r=e.l,n=e.r,t=r!==void 0?r.h:0,i=n!==void 0?n.h:0;if(t>(2+i|0)){var o=r.l,u=r.r;return Qn(o,u)?et(Kt(e)):et(Uc(e))}if(i>(2+t|0)){var a=n.l,s=n.r;return Qn(s,a)?et(zt(e)):et(jc(e))}return e.h=(t>i?t:i)+1|0,e}function Xt(e,r,n){if(r===void 0)return Te(n);var t=r.v,i=e(n,t);if(i===0)return r;var o=r.l,u=r.r;if(i<0){var a=Xt(e,o,n);r.l=a}else r.r=Xt(e,u,n);return Mc(r)}function lu(e,r){var n=e.length;if(n!==0){var t=Jr(e,function(u,a){return r(u,a)<0}),i;t>=0?i=Ht(e,0,t):(t=-t|0,i=Pt(e,t-1|0,t));for(var o=t;o<n;++o)i=Xt(r,i,e[o]);return i}}function xr(e,r,n){if(e===void 0)return Te(r);var t=e.v,i=n(r,t);if(i===0)return e;var o=e.l,u=e.r;if(i<0){var a=xr(o,r,n);return a===o?e:Ve(a,t,u)}var s=xr(u,r,n);return s===u?e:Ve(o,t,s)}function rt(e,r,n){if(e===void 0)return e;var t=e.v,i=e.l,o=e.r,u=n(r,t);if(u===0){if(i===void 0)return o;if(o===void 0)return i;var a={contents:o.v},s=Zn(o,a);return Ve(i,a.contents,s)}if(u<0){var c=rt(i,r,n);return c===i?e:Ve(c,t,o)}var f=rt(o,r,n);return f===o?e:Ve(i,t,f)}function nt(e,r,n){var t=r.v,i=r.l,o=r.r,u=e(n,t);if(u===0)return[i,o];if(u<0){if(i===void 0)return[void 0,r];var a=nt(e,i,n);return[a[0],xe(a[1],t,o)]}if(o===void 0)return[r,void 0];var s=nt(e,o,n);return[xe(i,t,s[0]),s[1]]}function Qt(e,r,n,t){var i=r.v,o=r.l,u=r.r,a=e(n,i);if(a===0)return t.contents=!0,[o,u];if(a<0){if(o===void 0)return[void 0,r];var s=Qt(e,o,n,t);return[s[0],xe(s[1],i,u)]}if(u===void 0)return[r,void 0];var c=Qt(e,u,n,t);return[xe(o,i,c[0]),c[1]]}function Fr(e,r,n){if(e===void 0)return r;if(r===void 0)return e;var t=e.h,i=r.h;if(t>=i){if(i===1)return xr(e,r.v,n);var o=e.v,u=e.l,a=e.r,s=nt(n,r,o);return xe(Fr(u,s[0],n),o,Fr(a,s[1],n))}if(t===1)return xr(r,e.v,n);var c=r.v,f=r.l,l=r.r,d=nt(n,e,c);return xe(Fr(d[0],f,n),c,Fr(d[1],l,n))}function tt(e,r,n){if(e!==void 0&&r!==void 0){var t=e.v,i=e.l,o=e.r,u={contents:!1},a=Qt(n,r,t,u),s=tt(i,a[0],n),c=tt(o,a[1],n);return u.contents?xe(s,t,c):iu(s,c)}}var pu=lu;var du=ru,_u=fu;var vu=ou,mu=au,hu=cu;function bu(e,r){var n=r.cmp;return{cmp:n,data:pu(e,n)}}function Ru(e,r){var n=e.data,t=e.cmp,i=rt(n,r,t);return i===n?e:{cmp:t,data:i}}function Zt(e,r){var n=e.data,t=e.cmp,i=xr(n,r,t);return i===n?e:{cmp:t,data:i}}function $u(e,r){var n=e.cmp;return{cmp:n,data:Fr(e.data,r.data,n)}}function Wu(e,r){var n=e.cmp;return{cmp:n,data:tt(e.data,r.data,n)}}function yu(e){return{cmp:e.cmp,data:void 0}}function gu(e){return du(e.data)}function Au(e){return vu(e.data)}function Yt(e){return mu(e.data)}function Ou(e){return hu(e.data)}function Su(e,r){return _u(e.data,r,e.cmp)}var Im=ge.int_;function $r(e){return e}function Wr(e){return S(C(At(e),"JSON is not a number (reading Int)"),function(r){return r|0})}function Ju(e,r){return e.toString(r)}function Eu(e,r){return parseInt(e,r)}var oh=ge.option_;function Bu(e){var r=e[1];return Tn(e[0],function(n){return Br(r,function(t){return[n,t]})})}function ie(e,r){return e!==void 0?p(r,X(e)):null}function oe(e,r){return e===null?ne(void 0):S(p(r,e),function(n){return z(n)})}var yr=Ii;var qr=Br;var bn=Fi,Gu=qi,or=Pi;var Nb=ge.list_;function Cu(e){return!e}function Q(e,r){return an(wn(e,r))}function Z(e,r){return _(C(Or(e),"JSON is not a valid array (reading list)"),function(n){return ae(wn(Er(n),r))})}var it=Et;var je=Cn;var wu=ki;var L=wn;var fe=Er;var Pr=Ln;var ur=0;var r0=ge.int_,ei={counter:Date.now()|0};function Lu(e){var r=ei.counter;return ei.counter=ei.counter+1|0,r}function Tu(e){return Ir(e,0,function(r,n){return(r<<1)+n|0})}function U(e){return Ju(e,16)}function Hr(e){return Eu(e,16)}function x(e){return g(U(e))}function F(e){return S(A(e),Hr)}function Ic(e,r){return Yi(e,r)?1:eo(e,r)?-1:0}var Rn=Jo({cmp:Ic}),Uu=yu(Rn);function ju(e){return Pr(e,Uu,Zt)}function Vc(e){return bu(e,Rn)}function xc(e){return Q(Yt(e),x)}function Fc(e){return S(Z(e,F),ju)}function qc(e){return Ft(Rn)}function Mu(e){return Pr(e,Ft(Rn),function(r,n){return xt(r,n[0],n[1])})}function Pc(e){return Vo(e,Rn)}function Hc(e,r){return Bo(L(qt(e),function(n){return[U(n[0]),p(r,n[1])]}))}function Kc(e,r){return _(C(Oi(e),"JSON is not an object (reading UUID)"),function(n){return S(ae(fe(Nr(Eo(n),function(t){var i=t[0];return S(p(r,t[1]),function(o){return[Hr(i),o]})}))),Mu)})}var Je={toJson:xc,fromJson:Fc,empty:Uu,isEmpty:gu,has:Su,add:Zt,remove:Ru,union:$u,intersect:Wu,size:Au,toList:Yt,fromList:ju,toArray:Ou,fromArray:Vc},J={toJson:Hc,fromJson:Kc,empty:qc,isEmpty:Po,has:eu,set:xt,get:Yo,remove:xo,update:Fo,map:Ko,mapWithKey:zo,forEach:Ho,merge:qo,keys:Qo,values:Zo,toList:qt,toArray:Xo,fromList:Mu,fromArray:Pc};var u0=ge.bool_;function le(e){return e}function pe(e){return C(Si(e),"JSON is not a valid boolean")}function de(e,r,n,t,i){return Pr(e,[r,n],function(o,u){var a=o[1],s=o[0];if(Je.has(a,Ue(t,u)))return[s,a];var c=En(i,u,a);return[wu(s,c[0]),Je.union(a,c[1])]})}function _e(e,r,n,t,i,o,u,a){return _(e,function(s){return Pr(s,ne([i,o,u,a]),function(c,f){var l=function(d,h,m){return h!==void 0?We(gt(h)):m!==void 0?We(gt(m)):void 0};return _(c,function(d){var h=d[3],m=d[2],R=d[1],$=d[0],v;switch(t){case 0:v=J.has($,f);break;case 1:v=J.has(R,f);break;case 2:v=J.has(m,f);break;case 3:v=J.has(h,f);break}return v?ne([$,R,m,h]):S(Wi(r,n,f,$,R,m,h),function(W){return[J.merge($,W[0],l),J.merge(R,W[1],l),J.merge(m,W[2],l),J.merge(h,W[3],l)]})})})})}function ku(e,r,n){var t=function(c){return c.id},i=function(c){return te({hd:Ke(c.explicit===!or(c.graphic),["Token '",U(c.id),"' must be explicit iff it has a graphic instance"]),tl:{hd:te(L(c.sub_tokens,i)),tl:{hd:te(L(c.anchored_tokens,i)),tl:{hd:te(L(c.anchored_dimensions,e.validate)),tl:{hd:te(L(c.anchored_schemes,r.validate)),tl:{hd:te(L(c.anchored_representations,n.validate)),tl:0}}}}}})},o=function(c,f){var l=Je.add(f,c.id),d=de(c.sub_tokens,ur,l,t,o),h=de(c.anchored_tokens,d[0],d[1],t,o),m=de(c.anchored_dimensions,h[0],h[1],e.id,e._toJsonHelper),R=de(c.anchored_schemes,m[0],m[1],r.id,r._toJsonHelper),$=de(c.anchored_representations,R[0],R[1],n.id,n._toJsonHelper);return[je($[0],[c.id,H({hd:["concept",g(c.concept)],tl:{hd:["graphic",ie(c.graphic,tr)],tl:{hd:["is_class",le(c.is_class)],tl:{hd:["function",Ce(c.function)],tl:{hd:["explicit",le(c.explicit)],tl:{hd:["sub_tokens",Q(L(c.sub_tokens,t),x)],tl:{hd:["anchored_tokens",Q(L(c.anchored_tokens,t),x)],tl:{hd:["anchored_dimensions",Q(L(c.anchored_dimensions,e.id),x)],tl:{hd:["anchored_schemes",Q(L(c.anchored_schemes,r.id),x)],tl:{hd:["anchored_representations",Q(L(c.anchored_representations,n.id),x)],tl:0}}}}}}}}}})]),$[1]]},u=function(c){return H(je(L(o(c,Je.empty)[0],function(f){return[U(f[0]),f[1]]}),["start",x(c.id)]))},a=function(c,f,l,d,h,m){return _(M(M(k(N(c,U(f)),["Cannot find object matching ID '",U(f),"'"]),"Reading Schema.Token.t"),"Reading ID ".concat(U(f))),function(R){return _(C(V(R),"JSON is not a valid object"),function($){var v=function(B,Y){return _(k(N($,B),["Unable to find key '",B,"'"]),Y)},W=v("concept",A),b=v("graphic",function(B){return oe(B,ir)}),T=v("is_class",pe),j=v("function",we),K=v("explicit",pe),w=v("sub_tokens",function(B){return Z(B,F)}),y=v("anchored_tokens",function(B){return Z(B,F)}),E=v("anchored_dimensions",function(B){return Z(B,F)}),O=v("anchored_schemes",function(B){return Z(B,F)}),P=v("anchored_representations",function(B){return Z(B,F)});return _(_e(M(w,"Reading sub-tokens"),a,c,3,l,d,h,m),function(B){return _(_e(M(y,"Reading anchored tokens"),a,c,3,B[0],B[1],B[2],B[3]),function(Y){return _(_e(M(E,"Reading anchored dimensions"),e._fromJsonHelper,c,2,Y[0],Y[1],Y[2],Y[3]),function(be){return _(_e(M(O,"Reading anchored schemes"),r._fromJsonHelper,c,1,be[0],be[1],be[2],be[3]),function(Re){var Be=Re[3],Fe=Re[2],He=Re[1],rr=Re[0];return _(_e(M(P,"Reading anchored schemes"),n._fromJsonHelper,c,0,rr,He,Fe,Be),function(qe){var G=qe[3],I=qe[2],fr=qe[1],lr=qe[0],ke=function(ee,$e){return k(J.get(ee,$e),["Unable to find value with ID '",U($e),"' (reading Schema.Token.t)"])},pr=_(M(w,"Loading sub-tokens"),function(ee){return ae(L(ee,function($e){return ke(G,$e)}))}),dr=_(M(y,"Loading anchored tokens"),function(ee){return ae(L(ee,function($e){return ke(G,$e)}))}),_r=_(M(E,"Loading anchored dimensions"),function(ee){return ae(L(ee,function($e){return ke(I,$e)}))}),rn=_(M(O,"Loading anchored schemes"),function(ee){return ae(L(ee,function($e){return ke(fr,$e)}))}),nn=_(M(P,"Loading anchored representations"),function(ee){return ae(L(ee,function($e){return ke(lr,$e)}))});return _(so([W,b,T,j,K,pr,dr,_r,rn,nn]),function(ee){var $e=ee[0],bt=ee[1],Rt=ee[2],Pa=ee[3],Ha=ee[4],Ka=ee[5],za=ee[6],Xa=ee[7],Qa=ee[8],Za=ee[9],Ya={id:f,concept:$e,graphic:bt,is_class:Rt,function:Pa,explicit:Ha,sub_tokens:Ka,anchored_tokens:za,anchored_dimensions:Xa,anchored_schemes:Qa,anchored_representations:Za};return M(ne([rr,He,Fe,J.set(Be,f,Ya)]),"Successfully read Token with ID ".concat(U(f)))})})})})})})})})},s=function(c){return _(C(V(c),"JSON is not a valid object (reading Schema.Token.t)"),function(f){var l=_(C(N(f,"start"),"Unable to find start of model (reading Schema.Token.t)"),F);return _(l,function(d){return _(a(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return C(J.get(h[3],d),"Missing start of model (reading Schema.Token.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:u,_fromJsonHelper:a,fromJson:s}}var Du=function(e,r){var n;if(Array.isArray(r)){for(n=0;n<r.length;++n)e[n]=r[n];r.TAG!==void 0&&(e.TAG=r.TAG)}else for(var n in r)e[n]=r[n]};function zc(e){switch(e){case"Global":return 0;case"Local":return 1;default:return}}function Qe(e){return g(e?"Local":"Global")}function Ze(e){return _(A(e),function(r){return k(zc(r),["Scope '",r,"' is not one of Global or Local"])})}function Xc(e){return{TAG:0,_0:e}}function ri(e){if(!!e){var r=e.tl,n=e.hd;return r?{TAG:1,_0:n,_1:yr(ri(r))}:{TAG:0,_0:n}}}function ar(e){return e.TAG===0?{hd:e._0,tl:0}:{hd:e._0,tl:ar(e._1)}}function Nu(e){return ri(fe(e))}function ni(e){return e.TAG===0?1:1+ni(e._1)|0}function Kr(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0)}:{TAG:1,_0:p(r,e._0),_1:Kr(e._1,r)}}function ti(e){return e.TAG===0?S(e._0,Xc):S(ve([e._0,ti(e._1)]),function(r){return{TAG:1,_0:r[0],_1:r[1]}})}function Iu(e,r){return Q(ar(e),r)}function Vu(e,r){return _(Z(e,r),function(n){return C(ri(n),"Non-empty list is empty when reading JSON")})}function xu(e,r){var n=function(s){return s.id},t=function(s){return te({hd:Ke(s.explicit===!or(s.graphic_structure),["Scheme '",U(s.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:Ke(ni(s.dimensions)>2||!Cu(s.tokens),["Scheme '",U(s.id),"' must have either at least two dimensions, or at least one dimension and one token"]),tl:{hd:te(L(s.tokens,r.validate)),tl:{hd:te(ar(Kr(s.dimensions,e.validate))),tl:{hd:te(L(s.schemes,t)),tl:0}}}}})},i=function(s,c){var f=Je.add(c,s.id),l=de(s.tokens,ur,f,r.id,r._toJsonHelper),d=de(ar(s.dimensions),l[0],l[1],e.id,e._toJsonHelper),h=de(s.schemes,d[0],d[1],n,i);return[je(h[0],[s.id,H({hd:["concept_structure",g(s.concept_structure)],tl:{hd:["graphic_structure",ie(s.graphic_structure,tr)],tl:{hd:["function",Ce(s.function)],tl:{hd:["explicit",le(s.explicit)],tl:{hd:["scope",Qe(s.scope)],tl:{hd:["tokens",Q(L(s.tokens,r.id),x)],tl:{hd:["dimensions",Iu(Kr(s.dimensions,e.id),x)],tl:{hd:["schemes",Q(L(s.schemes,n),x)],tl:{hd:["organisation",g(s.organisation)],tl:0}}}}}}}}})]),h[1]]},o=function(s){return H(je(L(i(s,Je.empty)[0],function(c){return[U(c[0]),c[1]]}),["start",x(s.id)]))},u=function(s,c,f,l,d,h){return _(M(M(k(N(s,U(c)),["Cannot find object matching ID '",U(c),"'"]),"Reading Schema.Scheme.t"),"Reading ID ".concat(U(c))),function(m){return _(C(V(m),"JSON is not a valid object (reading Scheme.Scheme.t)"),function(R){var $=function(O,P){return _(k(N(R,O),["Unable to find key '",O,"' (reading Schema.Scheme.t)"]),P)},v=$("concept_structure",A),W=$("graphic_structure",function(O){return oe(O,ir)}),b=$("function",we),T=$("explicit",pe),j=$("scope",Ze),K=$("organisation",A),w=$("tokens",function(O){return Z(O,F)}),y=$("dimensions",function(O){return Vu(O,F)}),E=$("schemes",function(O){return Z(O,F)});return _(_e(M(w,"Reading tokens"),r._fromJsonHelper,s,3,f,l,d,h),function(O){return _(_e(S(M(y,"Reading dimensions"),ar),e._fromJsonHelper,s,2,O[0],O[1],O[2],O[3]),function(P){return _(_e(M(E,"Reading schemes"),u,s,1,P[0],P[1],P[2],P[3]),function(B){var Y=B[3],be=B[2],Re=B[1],Be=B[0],Fe=function(G,I){return k(J.get(G,I),["Unable to find value with ID '",U(I),"' (reading Schema.Scheme.t)"])},He=_(M(w,"Loading tokens"),function(G){return ae(L(G,function(I){return Fe(Y,I)}))}),rr=_(M(y,"Loading dimensions"),function(G){return ti(Kr(G,function(I){return Fe(be,I)}))}),qe=_(M(E,"Loading schemes"),function(G){return ae(L(G,function(I){return Fe(Re,I)}))});return _(ao([v,W,b,T,j,He,rr,qe,K]),function(G){var I=G[0],fr=G[1],lr=G[2],ke=G[3],pr=G[4],dr=G[5],_r=G[6],rn=G[7],nn=G[8],ee={id:c,concept_structure:I,graphic_structure:fr,function:lr,explicit:ke,scope:pr,tokens:dr,dimensions:_r,schemes:rn,organisation:nn};return M(ne([Be,J.set(Re,c,ee),be,Y]),"Successfully read Scheme with ID ".concat(U(c)))})})})})})})},a=function(s){return _(C(V(s),"JSON is not a valid object (reading Schema.Scheme.t)"),function(c){var f=_(C(N(c,"start"),"Unable to find start of model (reading Schema.Scheme.t)"),F);return _(f,function(l){return _(u(c,l,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(d){return C(J.get(d[1],l),"Missing start of model (reading Schema.Scheme.t)")})})})};return{id:n,validate:t,_toJsonHelper:i,toJson:o,_fromJsonHelper:u,fromJson:a}}function $n(e,r){var n=function(u){throw{RE_EXN_ID:"Undefined_recursive_module",_1:e,Error:new Error}},t=function(u,a,s){if(typeof u=="number")switch(u){case 0:a[s]=n;return;case 1:a[s]={LAZY_DONE:!0,VAL:n};return;case 2:a[s]=[n,n,n,0];return}else{if(u.TAG===0){var c=u._0,f={};a[s]=f;for(var l=c.length,d=0;d<l;++d){var h=c[d];t(h[0],f,h[1])}return}a[s]=u._0;return}},i={},o="dummy";return t(r,i,o),i[o]}function Wn(e,r,n){var t=function(c,f,l,d,h){if(typeof c=="number")switch(c){case 0:d[h]=l;return;case 1:case 2:return Du(f,l)}else{if(c.TAG!==0)return;for(var m=c._0,R=0,$=m.length;R<$;++R){var v=m[R],W=v[1];t(v[0],f[W],l[W],f,W)}return}};if(typeof e=="number")throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error};if(e.TAG===0){for(var i=e._0,o=0,u=i.length;o<u;++o){var a=i[o],s=a[1];t(a[0],r[s],n[s],r,s)}return}throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error}}function Qc(e){switch(e){case 0:return"Nominal";case 1:return"Ordinal";case 2:return"Interval";case 3:return"Ratio"}}function Zc(e){switch(e){case"Interval":return 2;case"Nominal":return 0;case"Ordinal":return 1;case"Ratio":return 3;default:return}}function sr(e){return g(Qc(e))}function cr(e){return _(A(e),function(r){return k(Zc(r),["Quantity scale '",r,"' is not one of Nominal, Ordinal, Interval, or Ratio"])})}var ot=g,ut=A;var at=g,st=A;function Fu(e){var r=function(a){return a.id},n=function(a){return te({hd:uo(a.concept!=="","Dimension concept cannot be empty"),tl:{hd:Ke(a.explicit===!or(a.graphic),["Dimension '",U(a.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:te(L(a.dimensions,n)),tl:{hd:te(L(a.tokens,e.validate)),tl:0}}}})},t=function(a,s){var c=Je.add(s,a.id),f=de(a.dimensions,ur,c,r,t),l=de(a.tokens,f[0],f[1],e.id,e._toJsonHelper);return[je(l[0],[a.id,H({hd:["concept",g(a.concept)],tl:{hd:["concept_scale",sr(a.concept_scale)],tl:{hd:["concept_attributes",Q(a.concept_attributes,ot)],tl:{hd:["graphic",ie(a.graphic,tr)],tl:{hd:["graphic_scale",sr(a.graphic_scale)],tl:{hd:["graphic_attributes",Q(a.graphic_attributes,at)],tl:{hd:["function",Ce(a.function)],tl:{hd:["scope",Qe(a.scope)],tl:{hd:["explicit",le(a.explicit)],tl:{hd:["dimensions",Q(L(a.dimensions,r),x)],tl:{hd:["tokens",Q(L(a.tokens,e.id),x)],tl:{hd:["organisation",g(a.organisation)],tl:0}}}}}}}}}}}})]),l[1]]},i=function(a){return H(je(L(t(a,Je.empty)[0],function(s){return[U(s[0]),s[1]]}),["start",x(a.id)]))},o=function(a,s,c,f,l,d){return _(M(M(k(N(a,U(s)),["Cannot find object matching ID '",U(s),"'"]),"Reading Schema.Dimension.t"),"Reading ID ".concat(U(s))),function(h){return _(C(V(h),"JSON is not a valid object"),function(m){var R=function(B,Y){return _(k(N(m,B),["Unable to find key '",B,"'"]),Y)},$=R("concept",A),v=R("concept_scale",cr),W=R("concept_attributes",function(B){return Z(B,ut)}),b=R("graphic",function(B){return oe(B,ir)}),T=R("graphic_scale",cr),j=R("graphic_attributes",function(B){return Z(B,st)}),K=R("function",we),w=R("scope",Ze),y=R("explicit",pe),E=R("organisation",A),O=R("dimensions",function(B){return Z(B,F)}),P=R("tokens",function(B){return Z(B,F)});return _(_e(M(O,"Reading dimensions"),o,a,2,c,f,l,d),function(B){return _(_e(M(P,"Reading tokens"),e._fromJsonHelper,a,3,B[0],B[1],B[2],B[3]),function(Y){var be=Y[3],Re=Y[2],Be=Y[1],Fe=Y[0],He=function(G,I){return k(J.get(G,I),["Unable to find value with ID '",U(I),"' (reading Schema.Scheme.t)"])},rr=_(M(O,"Loading dimensions"),function(G){return ae(L(G,function(I){return He(Re,I)}))}),qe=_(M(P,"Loading tokens"),function(G){return ae(L(G,function(I){return He(be,I)}))});return _(co([$,v,W,b,T,j,K,w,y,rr,qe,E]),function(G){var I=G[0],fr=G[1],lr=G[2],ke=G[3],pr=G[4],dr=G[5],_r=G[6],rn=G[7],nn=G[8],ee=G[9],$e=G[10],bt=G[11],Rt={id:s,concept:I,concept_scale:fr,concept_attributes:lr,graphic:ke,graphic_scale:pr,graphic_attributes:dr,function:_r,scope:rn,explicit:nn,dimensions:ee,tokens:$e,organisation:bt};return M(ne([Fe,Be,J.set(Re,s,Rt),be]),"Successfully read Dimension with ID ".concat(U(s)))})})})})})},u=function(a){return _(C(V(a),"JSON is not a valid object (reading Schema.Dimension.t)"),function(s){var c=_(C(N(s,"start"),"Unable to find start of model (reading Schema.Dimension.t)"),F);return _(c,function(f){return _(o(s,f,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(l){return C(J.get(l[2],f),"Missing start of model (reading Schema.Dimension.t)")})})})};return{id:r,validate:n,_toJsonHelper:t,toJson:i,_fromJsonHelper:o,fromJson:u}}function qu(e,r,n){var t=function(c){return c.id},i=function(c){return te({hd:Ke(it(c.tokens)>0||it(c.dimensions)>0||it(c.schemes)>0,["Representation '",U(c.id),"' must have at least one token, dimension, or scheme"]),tl:{hd:te(L(c.tokens,e.validate)),tl:{hd:te(L(c.dimensions,r.validate)),tl:{hd:te(L(c.schemes,n.validate)),tl:{hd:te(L(c.subrepresentations,i)),tl:0}}}}})},o=function(c,f){var l=Je.add(f,c.id),d=de(c.tokens,ur,l,e.id,e._toJsonHelper),h=de(c.dimensions,d[0],d[1],r.id,r._toJsonHelper),m=de(c.schemes,h[0],h[1],n.id,n._toJsonHelper),R=de(c.subrepresentations,m[0],m[1],t,o);return[je(R[0],[c.id,H({hd:["domain",g(c.domain)],tl:{hd:["display",tr(c.display)],tl:{hd:["tokens",Q(L(c.tokens,e.id),x)],tl:{hd:["dimensions",Q(L(c.dimensions,r.id),x)],tl:{hd:["schemes",Q(L(c.schemes,n.id),x)],tl:{hd:["subrepresentations",Q(L(c.subrepresentations,t),x)],tl:0}}}}}})]),R[1]]},u=function(c){return H(je(L(o(c,Je.empty)[0],function(f){return[U(f[0]),f[1]]}),["start",x(c.id)]))},a=function(c,f,l,d,h,m){return _(M(M(k(N(c,U(f)),["Cannot find object matching ID '",U(f),"'"]),"Reading Schema.Representation.t"),"Reading ID ".concat(U(f))),function(R){return _(C(V(R),"JSON is not a valid object"),function($){var v=function(y,E){return _(k(N($,y),["Unable to find key '",y,"'"]),E)},W=v("domain",A),b=v("display",ir),T=v("tokens",function(y){return Z(y,F)}),j=v("dimensions",function(y){return Z(y,F)}),K=v("schemes",function(y){return Z(y,F)}),w=v("subrepresentations",function(y){return Z(y,F)});return _(_e(M(T,"Reading tokens"),e._fromJsonHelper,c,3,l,d,h,m),function(y){return _(_e(M(j,"Reading dimensions"),r._fromJsonHelper,c,2,y[0],y[1],y[2],y[3]),function(E){return _(_e(M(K,"Reading schemes"),n._fromJsonHelper,c,1,E[0],E[1],E[2],E[3]),function(O){return _(_e(M(w,"Reading subrepresentations"),a,c,0,O[0],O[1],O[2],O[3]),function(P){var B=P[3],Y=P[2],be=P[1],Re=P[0],Be=function(G,I){return k(J.get(G,I),["Unable to find value with ID '",U(I),"'"])},Fe=_(M(T,"Loading tokens"),function(G){return ae(L(G,function(I){return Be(B,I)}))}),He=_(M(j,"Loading dimensions"),function(G){return ae(L(G,function(I){return Be(Y,I)}))}),rr=_(M(K,"Loading schemes"),function(G){return ae(L(G,function(I){return Be(be,I)}))}),qe=_(M(w,"Loading subrepresentations"),function(G){return ae(L(G,function(I){return Be(Re,I)}))});return _(kr([W,b,Fe,He,rr,qe]),function(G){var I=G[0],fr=G[1],lr=G[2],ke=G[3],pr=G[4],dr=G[5],_r={id:f,domain:I,display:fr,tokens:lr,dimensions:ke,schemes:pr,subrepresentations:dr};return M(ne([J.set(Re,f,_r),be,Y,B]),"Successfully read Representation with ID ".concat(U(f)))})})})})})})})},s=function(c){return _(C(V(c),"JSON is not a valid object (reading Schema.Representation.t)"),function(f){var l=_(C(N(f,"start"),"Unable to find start of model (reading Schema.Representation.t)"),F);return _(l,function(d){return _(a(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return C(J.get(h[0],d),"Missing start of model (reading Schema.Representation.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:u,_fromJsonHelper:a,fromJson:s}}var Pu=$n(["Schema.res",18,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ct=$n(["Schema.res",43,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ii=$n(["Schema.res",65,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ft=$n(["Schema.res",88,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),zr=qu(ft,ct,ii);Wn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},Pu,{id:zr.id,validate:zr.validate,toJson:zr.toJson,fromJson:zr.fromJson,_toJsonHelper:zr._toJsonHelper,_fromJsonHelper:zr._fromJsonHelper});var Xr=Fu(ft);Wn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ct,{id:Xr.id,validate:Xr.validate,toJson:Xr.toJson,fromJson:Xr.fromJson,_toJsonHelper:Xr._toJsonHelper,_fromJsonHelper:Xr._fromJsonHelper});var Qr=xu(ct,ft);Wn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ii,{id:Qr.id,validate:Qr.validate,toJson:Qr.toJson,fromJson:Qr.fromJson,_toJsonHelper:Qr._toJsonHelper,_fromJsonHelper:Qr._fromJsonHelper});var Zr=ku(ct,ii,Pu);Wn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ft,{id:Zr.id,validate:Zr.validate,toJson:Zr.toJson,fromJson:Zr.fromJson,_toJsonHelper:Zr._toJsonHelper,_fromJsonHelper:Zr._fromJsonHelper});function lt(e){return H({hd:["id",x(e.id)],tl:{hd:["nodes",mr(e.nodes,x)],tl:{hd:["message",g(e.message)],tl:{hd:["details",g(e.details)],tl:{hd:["suggestion",ie(e.suggestion,g)],tl:0}}}}})}function pt(e){return _(C(V(e),"Unable to parse object for ModelError"),function(r){var n=function(s,c){return _(k(N(r,s),["Unable to find key '",s,"'"]),c)},t=n("id",F),i=n("nodes",function(s){return hr(s,F)}),o=n("message",A),u=n("details",A),a=n("suggestion",function(s){return oe(s,A)});return S(sn([t,i,o,u,a]),function(s){return{id:s[0],nodes:s[1],message:s[2],details:s[3],suggestion:s[4]}})})}function Yc(e,r){var n=String(lo(Array.from(r,function(t){return yr(t.codePointAt(0))}),0,function(t,i,o){return o%5==0&&o<60?(t<<1)+(i-32|0)|0:t}));return Hr(U(Tu(e))+n+"1")}function se(e,r,n,t,i){return{id:Yc(e,r),nodes:e,message:r,details:n,suggestion:t}}var Hu=lt,Ku=pt,Ye=se;function zu(e,r){return e.TAG===0?{TAG:0,_0:r(e._0)}:{TAG:1,_0:e._0}}function gr(e,r){return zu(e,re(r))}function Xu(e,r){return e.TAG===0?r(e._0):{TAG:1,_0:e._0}}function Qu(e,r){return Xu(e,re(r))}function Zu(e,r){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:p(r,e._0)}}function Ee(e,r){return e!==void 0?{TAG:0,_0:X(e)}:{TAG:1,_0:p(r,void 0)}}function yn(e,r,n){return e.TAG===0?{TAG:1,_0:r}:{TAG:1,_0:p(n,[e._0,r])}}function ue(e,r){var n=[],t=[];return br(e,function(i){if(i.TAG===0){n.push(i._0);return}t.push(i._0)}),t.length!==0?{TAG:1,_0:p(r,t)}:{TAG:0,_0:n}}function he(e,r){var n=[];return br(e,function(t){t.TAG!==0&&n.push(t._0)}),n.length!==0?{TAG:1,_0:p(r,n)}:{TAG:0,_0:void 0}}function Yu(e,r){return gr(ue([e[0],e[1],e[2],e[3],e[4],e[5],e[6]],r),function(n){return n})}function ea(e,r){return gr(ue([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]],r),function(n){return n})}function ra(e,r){return gr(ue([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]],r),function(n){return n})}function na(e,r){return gr(ue([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]],r),function(n){return n})}function ta(e,r){return gr(ue([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]],r),function(n){return n})}var ce=gr;var oi=Qu;function ia(e,r,n){return{first:e,second:r,kind:n}}function gn(e,r){return se([],"Internal Error: "+e,r,"Notify Aaron about this so he can fix it :-) ",void 0)}function oa(e){return se(e,"Schema has no parent, but it needs one.","All schemas, except for Representation schemas, must either be in the hierarchy, or be anchored below a R-symbol in the hierarchy. This schema is neither in the hierarchy, nor anchored.","Connect this schema below another schema.",void 0)}function ui(e){return se(e,'Missing "Function" of schema.','This schema requires a "Function", whether it is semantic, auxiliary, or arbitrary. This has not been set.','Select the appropriate "Function" from the dropdown menu.',void 0)}function ai(e){return se(e,'Missing whether schema is "Explicit".','This schema needs to be marked as "Explicit", or not, depending on whether it is explicit in the representation. This has not been set.','Select the appropriate "Explicit" value (Yes or No) from the dropdown menu.',void 0)}function ua(e){return se(e,'Missing the "Scope" of the schema.','This schema is either "Global" or "Local" in "Scope". This has not been set.','Select the appropriate "Scope" value (Global or Local) from the dropdown menu.',void 0)}function aa(e,r){return se(e,'Missing the "'+r+' Scale" of the R-dimension.',`This R-dimension's "`+r+' Scale" must be one of "Nominal", "Ordinal", "Interval", or "Ratio". This has not been set.','Select the appropriate "'+r+' Scale" value from the dropdown menu.',void 0)}function An(e,r,n){return Ye(e,n+" is using default "+r+".","We give each "+n+" the default "+r+' "#Ref#", but this is intended only as a placeholder.',"Replace this "+n+"schema's "+r+".",void 0)}function D(e){return Ir(e,[[],[]],function(r,n){return[fn(r[0],n[0]),fn(r[1],n[1])]})}function rf(e,r){var n=[],t=cn(e,function(s){return s[2]!==2}),i=cn(r,function(s){return or(Vn(t,function(c){return s===c[1]}))}),o=i.slice(0),u=function(s){for(;;){var c=s;if(i.length===0)return;var f=yr(yi(i.pop()));n.push(f),s=cn(c,function(l,d){return function(h){if(h[0]!==d)return!0;var m=h[1],R=cn(l,function(W){return m===W[1]}),$=R.length;if($!==1)$!==0||i.push(m);else{var v=R[0];v===h&&i.push(m)}return!1}}(c,f))}};if(u(t),o.length!==0)return[o,n,[]];var a=se([],"Model has a cycle.","Models should not contain cycles: that is, the hierarchy and anchoring links should always connect a higher schema to a lower schema. We have found a situation where a lower schema is connected to a higher schema.","We've detected a cycle. Find the link going the 'wrong way', and remove it.",void 0);return[o,n,[a]]}function Ar(e,r,n,t,i){var o=e!==void 0?e:!0;return Ct(r,function(u){var a=J.get(n,u);if(a===void 0)return{TAG:1,_0:[[gn("MISSING","Expected node with ID "+U(u)+" is missing")],[]]};var s=a[0];if(s===t||s===4&&o)return En(i,u,a[1])})}function si(e,r,n,t){if(r.length===0)return{TAG:0,_0:void 0};var i=he(Ct(r,function(u){return qr(J.get(n,u),function(a){var s=a[1];return s.TAG===0?{TAG:0,_0:void 0}:{TAG:1,_0:s._0}})}),D),o={TAG:1,_0:[[se([e],t+" schema has unexpected anchored children.","Anchoring is a type of link that is uniquely below R-symbol schemas. However, this node is a "+t+" schema.","(1) Make this schema an R-symbol. (2) Connect the children using hierarchy. (3) Remove the children.",void 0)],[]]};return he([i,o],D)}function nf(e,r,n,t,i){var o=function(R,$,v){var W=R!==void 0?R:!0;return Ar(W,t,n,$,v)},u=r.domain,a=u==="#Rep#"?{TAG:1,_0:[[],[Ye([e],"Representation is using default domain.",'We give each Representation the default name "#Rep#", but this is intended only as a placeholder.',"Replace this Representation schema's domain.",void 0)]]}:{TAG:0,_0:u},s=r.display,c=s==="#Ref#"?{TAG:1,_0:[[],[An([e],"display","Representation")]]}:{TAG:0,_0:s},f=ce(ue(o(void 0,3,function(R,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===3)return{TAG:0,_0:v._0}}),D),fe),l=ce(ue(o(void 0,2,function(R,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===2)return{TAG:0,_0:v._0}}),D),fe),d=ce(ue(o(void 0,1,function(R,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===1)return{TAG:0,_0:v._0}}),D),fe),h=ce(ue(o(void 0,0,function(R,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===0)return{TAG:0,_0:v._0}}),D),fe),m=si(e,i,n,"Representation");return ce(Yu([a,c,f,l,d,h,m],D),function(R){return{TAG:0,_0:{id:e,domain:R[0],display:R[1],tokens:R[2],dimensions:R[3],schemes:R[4],subrepresentations:R[5]}}})}function tf(e,r,n,t,i){var o=function(b,T,j){var K=b!==void 0?b:!0;return Ar(K,t,n,T,j)},u=r.concept_structure,a=u==="#Sch#"?{TAG:1,_0:[[],[Ye([e],"R-Scheme is using default concept structure.",'We give each R-Scheme the default concept structure "#Sch#", but this is intended only as a placeholder.',"Replace this R-Scheme schema's concept structure.",void 0)]]}:{TAG:0,_0:u},s=r.graphic_structure,c=s==="#Ref#"?{TAG:1,_0:[[],[An([e],"graphic structure","R-scheme")]]}:{TAG:0,_0:s},f=Ee(r.function,function(b){return[[ui([e])],[]]}),l=Ee(r.explicit,function(b){return[[ai([e])],[]]}),d=Ee(r.scope,function(b){return[[ua([e])],[]]}),h={TAG:0,_0:r.organisation},m=ce(ue(o(void 0,3,function(b,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var j=T._0;if(j.TAG===3)return{TAG:0,_0:j._0}}),D),fe),R=oi(ue(o(void 0,2,function(b,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var j=T._0;if(j.TAG===2)return{TAG:0,_0:j._0}}),D),function(b){return Ee(Nu(b),function(T){return[[se([e],"R-scheme has no R-dimension below it.","This R-scheme has no immediate children that are R-dimensions. However, an R-scheme must directly encapsulate at least one R-dimension.","Add an R-dimension, or replace this R-scheme with another schema.",void 0)],[]]})}),$=ce(ue(o(void 0,1,function(b,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var j=T._0;if(j.TAG===1)return{TAG:0,_0:j._0}}),D),fe),v=he(o(!1,0,function(b,T){return{TAG:1,_0:[[se([e,b],"R-scheme has a Representation below it.","R-scheme schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),W=si(e,i,n,"R-scheme");return ce(ra([a,c,f,l,d,m,R,$,h,v,W],D),function(b){return{TAG:1,_0:{id:e,concept_structure:b[0],graphic_structure:b[1],function:b[2],explicit:b[3],scope:b[4],tokens:b[5],dimensions:b[6],schemes:b[7],organisation:b[8]}}})}function of(e,r,n,t,i){var o=function(O,P,B){var Y=O!==void 0?O:!0;return Ar(Y,t,n,P,B)},u=r.concept,a=u==="#Dim#"?{TAG:1,_0:[[],[Ye([e],"R-dimension is using default concept.",'We give each R-dimension the default concept "#Dim#", but this is intended only as a placeholder.',"Replace this R-dimension schema's concept.",void 0)]]}:{TAG:0,_0:u},s=Ee(r.concept_scale,function(O){return[[aa([e],"Concept")],[]]}),c={TAG:0,_0:r.concept_attributes},f=r.graphic,l=f==="#Ref#"?{TAG:1,_0:[[],[An([e],"graphic","R-dimension")]]}:{TAG:0,_0:f},d=Ee(r.concept_scale,function(O){return[[aa([e],"Graphic")],[]]}),h={TAG:0,_0:r.graphic_attributes},m=Ee(r.function,function(O){return[[ui([e])],[]]}),R=Ee(r.explicit,function(O){return[[ai([e])],[]]}),$=Ee(r.scope,function(O){return[[ua([e])],[]]}),v={TAG:0,_0:r.organisation},W={contents:0},b={contents:0},T=ce(ue(o(void 0,3,function(O,P){if(P.TAG===0){var B=P._0;return B.TAG!==3?void 0:(W.contents=W.contents+1|0,{TAG:0,_0:B._0})}return W.contents=W.contents+1|0,{TAG:1,_0:P._0}}),D),fe),j=ce(ue(o(void 0,2,function(O,P){if(P.TAG===0){var B=P._0;return B.TAG!==2?void 0:(b.contents=b.contents+1|0,{TAG:0,_0:B._0})}return b.contents=b.contents+1|0,{TAG:1,_0:P._0}}),D),fe),K=he(o(!1,0,function(O,P){return{TAG:1,_0:[[se([e,O],"R-dimension has a Representation below it.","R-dimension schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),w=he(o(!1,1,function(O,P){return{TAG:1,_0:[[se([e,O],"R-dimensions has an R-scheme below it.","R-dimension schemas cannot have R-scheme schemas as direct descendants.","Remove this R-scheme schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),y=si(e,i,n,"R-dimension"),E=(W.contents+b.contents|0)>=1?{TAG:0,_0:void 0}:{TAG:1,_0:[[se([e],"R-dimensions must have at least one child.","R-dimensions must contain at least one R-symbol, or the must split into sub-R-dimensions (or do both). This R-dimension has no R-symbol children and no sub-R-dimensions.","Add an R-symbol or a sub-R-dimension below this R-dimension.",void 0)],[]]};return ce(ta([a,s,c,l,d,h,m,R,$,T,j,v,K,w,y,E],D),function(O){return{TAG:2,_0:{id:e,concept:O[0],concept_scale:O[1],concept_attributes:O[2],graphic:O[3],graphic_scale:O[4],graphic_attributes:O[5],function:O[6],scope:O[8],explicit:O[7],dimensions:O[10],tokens:O[9],organisation:O[11]}}})}function uf(e,r,n,t,i){var o=function(w,y){return Ar(void 0,i,n,w,y)},u=function(w,y,E){var O=w!==void 0?w:!0;return Ar(O,t,n,y,E)},a=r.concept,s=a==="#Sym#"?{TAG:1,_0:[[],[Ye([e],"R-symbol is using default concept.",'We give each R-symbol the default concept "#Sym#", but this is intended only as a placeholder.',"Replace this R-symbol schema's concept.",void 0)]]}:{TAG:0,_0:a},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[An([e],"graphic","R-symbol")]]}:{TAG:0,_0:c},l=Ee(r.is_class,function(w){return[[se([e],'Unspecified if R-symbol is a "class" R-symbol.','R-symbols can be "standard" or "class": that is, they can stand in for more than one actual thing in the representation. This has not been specified.','Select whether this token is a class using the "Is class?" dropdown.',void 0)],[]]}),d=Ee(r.function,function(w){return[[ui([e])],[]]}),h=Ee(r.explicit,function(w){return[[ai([e])],[]]}),m=function(w,y,E){return se([e,w],(y.startsWith("R-")?"An ":"A ")+y+" schema below an R-symbol must be anchored.","Children of R-symbols must either be a sub-R-symbol, or it must be an anchored schema. This schema is not anchored, but it is not a sub-R-symbol: it is "+(y.startsWith("R-")?"an ":"a ")+y+".",E?"Replace this connection with an anchoring connection.":"Remove this schema, or place it elsewhere in the hierarchy.",void 0)},R=ce(ue(u(void 0,3,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var E=y._0;if(E.TAG===3)return{TAG:0,_0:E._0}}),D),fe),$=he(u(!1,2,function(w,y){return{TAG:1,_0:[[m(w,"R-dimension",!0)],[]]}}),D),v=he(u(!1,1,function(w,y){return{TAG:1,_0:[[m(w,"R-scheme",!0)],[]]}}),D),W=he(u(!1,0,function(w,y){return{TAG:1,_0:[[m(w,"Representation",!1)],[]]}}),D),b=ce(ue(o(3,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var E=y._0;if(E.TAG===3)return{TAG:0,_0:E._0}}),D),fe),T=ce(ue(o(2,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var E=y._0;if(E.TAG===2)return{TAG:0,_0:E._0}}),D),fe),j=ce(ue(o(1,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var E=y._0;if(E.TAG===1)return{TAG:0,_0:E._0}}),D),fe),K=ce(ue(o(0,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var E=y._0;if(E.TAG===0)return{TAG:0,_0:E._0}}),D),fe);return ce(na([s,f,l,d,h,R,b,T,j,K,$,v,W],D),function(w){return{TAG:3,_0:{id:e,concept:w[0],graphic:w[1],is_class:w[2],function:w[3],explicit:w[4],sub_tokens:w[5],anchored_tokens:w[6],anchored_dimensions:w[7],anchored_schemes:w[8],anchored_representations:w[9]}}})}function af(e,r,n,t,i){var o=function(W,b,T){var j=W!==void 0?W:!0;return Ar(j,i,n,b,T)},u=function(W,b,T){var j=W!==void 0?W:!0;return Ar(j,t,n,b,T)},a=r.description,s=a==="#Placeholder#"?{TAG:1,_0:[[],[An([e],"description","Placeholder")]]}:{TAG:0,_0:a},c=Ee(r.isIntensional,function(W){return[[se([e],"Unspecified why Placeholder is included.","Placeholders can be included because the substructure is not understood, or because it is understood but has chosen not to be modelled. You must indicate which case this is.",'Select whether this Placeholder is understood using the "Omitted but understood?" dropdown.',void 0)],[]]}),f=he(u(!0,0,function(W,b){return b.TAG===0?b._0.TAG===0?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),l=he(u(!1,1,function(W,b){return b.TAG===0?b._0.TAG===1?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),d=he(u(!1,2,function(W,b){return b.TAG===0?b._0.TAG===2?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),h=he(u(!1,3,function(W,b){return b.TAG===0?b._0.TAG===3?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),m=he(o(!0,0,function(W,b){return b.TAG===0?b._0.TAG===0?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),R=he(o(!1,1,function(W,b){return b.TAG===0?b._0.TAG===1?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),$=he(o(!1,2,function(W,b){return b.TAG===0?b._0.TAG===2?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D),v=he(o(!1,3,function(W,b){return b.TAG===0?b._0.TAG===3?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:b._0}}),D);return oi(ea([s,c,f,l,d,h,m,R,$,v],D),function(W){return{TAG:1,_0:[[],[]]}})}function sa(e,r){var n=rf(r,J.keys(e)),t=n[2],i=n[1],o=n[0];if(t.length!==0)return{TAG:1,_0:[t,[]]};var u=function(m,R){for(;;){var $=R,v=m;if($<0)return v;var W=fo(i,$),b=Fn(r,function(y){return function(E){if(E[0]===y&&E[2]===0)return We(E[1])}}(W)),T=Fn(r,function(y){return function(E){if(E[0]===y&&E[2]===1)return We(E[1])}}(W)),j=J.get(e,W),K;if(j!==void 0)switch(j.TAG|0){case 0:K=[0,nf(W,j._0,v,b,T)];break;case 1:K=[1,tf(W,j._0,v,b,T)];break;case 2:K=[2,of(W,j._0,v,b,T)];break;case 3:K=[3,uf(W,j._0,v,b,T)];break;case 4:K=[4,af(W,j._0,v,b,T)];break}else K=[4,{TAG:1,_0:[[gn("BAD LINK","Node with ID "+U(W)+" missing.")],[]]}];var w=J.set(v,W,[K[0],K[1]]);R=$-1|0,m=w}},a=u(J.empty(void 0),i.length-1|0),s=function(m,R){var $=J.get(a,m);if($!==void 0){var v=$[1];if(v.TAG===0){var W=v._0;if(W.TAG===0){var b=ue(Fn(r,function(E){if(E[2]===2){var O=E[1],P=E[0],B=J.get(a,P),Y=J.get(a,O);if(B!==void 0){var be=B[1];if(be.TAG===0){if(Y!==void 0){var Re=Y[1];if(Re.TAG===0)return{TAG:0,_0:ia(be._0,Re._0,{_0:"Automatic conversion"})}}}else if(Y!==void 0&&Y[1].TAG!==0)return}var Be=gn("REL MISSING","A relation link should be between two nodes ("+U(P)+", "+U(O)+"), but I can't find them!");return{TAG:1,_0:[[Be],[]]}}}),D);return ce(b,function(E){return{root:W,relations:E}})}var T=oa([m]);return{TAG:1,_0:[[T],[]]}}var j=J.get(e,m);if(j!==void 0)switch(j.TAG|0){case 0:case 4:return v;default:var K=oa([m]);return yn(v,[[K],[]],D)}else{var w=gn("EXTRA ROOT","We have found an ID ("+U(m)+"), but have no idea what it's for!");return yn(v,[[w],[]],D)}}else{var y=gn("LOST ROOT"+(R?" MULTI":""),"We know what the root should be ("+U(m)+"), but somehow never found it!");return yn(ue(Nr(J.values(a),function(E){return E[1]}),D),[[y],[]],D)}},c=o.length;if(c!==1){if(c!==0){var f=Nr(o,function(m){return s(m,!0)}),l=Ye(o,"More than one model detected.","There are multiple models in this file, or a model with multiple roots.",void 0,void 0);return yn(ue(f,D),[[],[l]],D)}if(J.isEmpty(e))return{TAG:1,_0:[[],[]]};var d=se([],"Could not determine root of model.","Each model should have a root. Somehow, we failed to find a root!",void 0,void 0);return{TAG:1,_0:[[d],[]]}}var h=o[0];return s(h,!1)}var ci=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var u=n[i-1];for(t=0;t<u.length;++t)o.push(u[t]);return e[r].apply(e,o)};var gf=as(Ba());var AW=ge.float_;var vt=e=>{if(e===null)return null;if(e===void 0)return;let r={};for(let[n,t]of Object.entries(e))typeof t=="function"?r[n]=t:t===void 0?r[n]=void 0:t===null?r[n]=null:typeof t=="object"?t instanceof Array?r[n]=t.map(vt):r[n]=vt(t):typeof t=="symbol"?r[n]=t:r[n]=JSON.parse(JSON.stringify(t));return r},Ga=(e,r)=>e[r];var Ca=e=>{var r=vt(e);return Object.keys(r).forEach(n=>{r[n]===void 0&&delete r[n]}),r};function Sn(e,r){return Ga(e,r)}function mi(e){return Ca(e)}function Af(e,r,n,t,i,o,u,a,s,c,f,l,d,h,m,R,$,v,W,b,T,j,K,w,y,E){return mi({color:e,fontColor:r,fontSize:n,fontScaling:t,fontWeight:i,highlightColor:o,highlightFontColor:u,highlightFontSize:a,highlightFontWeight:s,labelProperty:c,mouseCursor:f,opacity:l,renderLabel:d,semanticStrokeWidth:h,strokeWidth:m,markerStart:R,markerEnd:$,markerHeight:v,markerWidth:W,type:b,strokeDasharray:T,strokeDashoffset:j,strokeLinecap:K,offsetSource:w,offsetTarget:y})}var mt={create:Af};var hi={contents:0};function wa(e){return hi.contents=hi.contents+1|0,e+("/"+hi.contents)}var Of=wa("Color-ReactD3Graph.DOMAIN_ERROR");function Sf(e){return/^#(([0-9a-f])|([0-9A-F])){6}$/.test(e)}function Jf(e){var r=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7);return[r,n,t]}function bi(e){return Number("0x".concat(e))/255}function Ef(e){if(Sf(e)){var r=Jf(e);return{red:bi(r[0]),green:bi(r[1]),blue:bi(r[2])}}throw{RE_EXN_ID:Of,Error:new Error}}function Bf(e){return"#".concat((e.red*255|0).toString(16),(e.green*255|0).toString(16),(e.blue*255|0).toString(16))}function ht(e){return Bf(Ef(e))}function Gf(e){var r;switch(e){case 0:r="Hierarchy";break;case 1:r="Anchor";break;case 2:r="Relation";break}return g(r)}function Cf(e){return _(A(e),function(r){switch(r){case"Anchor":return ne(1);case"Hierarchy":return ne(0);case"Relation":return ne(2);default:return Ie(["Unknown relation value '",r,"'"])}})}var wf={toJson:Gf,fromJson:Cf},Lf={V1:wf},Ri={Stable:Lf};var Zy=mt.create(We(ht("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0),Yy=mt.create(We(ht("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,"arrowheadCircle",void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0);function La(e,r){return bn(qr(Bu([e,r]),function(n){var t=n[1],i=n[0],o=i.x,u=i.y,a=t.x,s=t.y,c=Sn(i,"size"),f=a-o,l=s-u,d;if(Math.abs(f/l)>c.width/c.height){var h=c.width/20*Math.sign(f),m=l*h/f;d=[h,m]}else{var R=c.height/20*Math.sign(l),$=f*R/l;d=[$,R]}var v=d[1],W=d[0],b=Sn(i,"payload"),T=b.kind;if(T!==2)return{dx:W-1,dy:v};if(Math.abs(W-c.width/20*Math.sign(f))>=1e-4)return{dx:W-1,dy:v};var j=c.height/10-v+c.height/20,K=(-8+8*j/(c.height/10))*-1*Math.sign(W);return{dx:W+K-1,dy:v}}),{dx:0,dy:0})}var eg=mt.create(We(ht("#808080")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,4,void 0,void 0,void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return La(e,r)},function(e,r,n){return La(r,e)},void 0);function Ta(e,r){var n=function(a,s){a.addEventListener("message",function(c){return In(p(r.fromJson,JSON.parse(c.data)),s)})},t=function(a,s){var c=JSON.stringify(p(e.toJson,s));a.postMessage(c)},i=function(a){this.onmessage=function(s){return In(p(e.fromJson,JSON.parse(s.data)),a)}},o=function(a){postMessage(JSON.stringify(p(r.toJson,a)))},u=function(a){var s=function(c){var f=p(a,c);postMessage(JSON.stringify(p(r.toJson,f)))};this.onmessage=function(c){return In(p(e.fromJson,JSON.parse(c.data)),s)}};return{create:function(a){return new Worker(a)},listen:n,post:t,terminate:function(a){a.terminate()},WorkerThread:{create:u,listen:i,respond:o}}}function Ua(e){return H({hd:["domain",g(e.domain)],tl:{hd:["display",g(e.display)],tl:{hd:["notes",g(e.notes)],tl:0}}})}function ja(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(u,a){return _(k(N(r,u),["Unable to find key '",u,"'"]),a)},t=n("domain",A),i=n("display",A),o=n("notes",A);return S(Se([t,i,o]),function(u){return{domain:u[0],display:u[1],notes:u[2]}})})}var Tf={domain:"#Rep#",display:"#Ref#",notes:""};function Uf(e){return H({hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function Ma(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(f,l){return _(k(N(r,f),["Unable to find key '",f,"'"]),l)},t=n("concept_structure",A),i=n("graphic_structure",A),o=n("function",we),u=n("explicit",pe),a=n("scope",Ze),s=n("organisation",A),c=n("notes",A);return S(Bt([t,i,o,u,a,s,c]),function(f){return{concept_structure:f[0],graphic_structure:f[1],function:f[2],explicit:f[3],scope:f[4],organisation:f[5],notes:f[6]}})})}function ka(e){return{concept_structure:e.concept_structure,graphic_structure:e.graphic_structure,function:e.function,explicit:e.explicit,scope:e.scope,organisation:e.organisation,notes:e.notes}}function jf(e){return H({hd:["version",$r(2)],tl:{hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["scope",ie(e.scope,Qe)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}})}function Mf(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(h,m){return _(k(N(r,h),["Unable to find key '",h,"'"]),m)},t=n("version",Wr),i=Dr(t);if(i.TAG!==0)return S(Ma(e),ka);var o=i._0;if(o!==2)return Ie(["Unrecognised version of InspectorState.Scheme: ",String(o)]);var u=n("concept_structure",A),a=n("graphic_structure",A),s=n("function",function(h){return oe(h,we)}),c=n("explicit",function(h){return oe(h,pe)}),f=n("scope",function(h){return oe(h,Ze)}),l=n("organisation",A),d=n("notes",A);return S(Bt([u,a,s,c,f,l,d]),function(h){return{concept_structure:h[0],graphic_structure:h[1],function:h[2],explicit:h[3],scope:h[4],organisation:h[5],notes:h[6]}})})}var kf={concept_structure:"#Sch#",graphic_structure:"#Ref#",function:void 0,explicit:void 0,scope:void 0,organisation:"",notes:""};function Df(e){return H({hd:["concept",g(e.concept)],tl:{hd:["concept_scale",sr(e.concept_scale)],tl:{hd:["concept_attributes",Q(e.concept_attributes,ot)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",sr(e.graphic_scale)],tl:{hd:["graphic_attributes",Q(e.graphic_attributes,at)],tl:{hd:["function",Ce(e.function)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}})}function Da(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(m,R){return _(k(N(r,m),["Unable to find key '",m,"'"]),R)},t=n("concept",A),i=n("concept_scale",cr),o=n("concept_attributes",function(m){return Z(m,ut)}),u=n("graphic",A),a=n("graphic_scale",cr),s=n("graphic_attributes",function(m){return Z(m,st)}),c=n("function",we),f=n("scope",Ze),l=n("explicit",pe),d=n("organisation",A),h=n("notes",A);return S(Gt([t,i,o,u,a,s,c,f,l,d,h]),function(m){return{concept:m[0],concept_scale:m[1],concept_attributes:m[2],graphic:m[3],graphic_scale:m[4],graphic_attributes:m[5],function:m[6],scope:m[7],explicit:m[8],organisation:m[9],notes:m[10]}})})}function Na(e){return{concept:e.concept,concept_scale:e.concept_scale,concept_attributes:e.concept_attributes,graphic:e.graphic,graphic_scale:e.graphic_scale,graphic_attributes:e.graphic_attributes,function:e.function,scope:e.scope,explicit:e.explicit,organisation:e.organisation,notes:e.notes}}function Nf(e){return H({hd:["version",$r(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["concept_scale",ie(e.concept_scale,sr)],tl:{hd:["concept_attributes",Q(e.concept_attributes,g)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",ie(e.graphic_scale,sr)],tl:{hd:["graphic_attributes",Q(e.graphic_attributes,g)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["scope",ie(e.scope,Qe)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}}})}function If(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(v,W){return _(k(N(r,v),["Unable to find key '",v,"'"]),W)},t=n("version",Wr),i=Dr(t);if(i.TAG!==0)return S(Da(e),Na);var o=i._0;if(o!==2)return Ie(["Unknown version for InspectorState.Dimension: ",String(o)]);var u=n("concept",A),a=n("concept_scale",function(v){return oe(v,cr)}),s=n("concept_attributes",function(v){return Z(v,A)}),c=n("graphic",A),f=n("graphic_scale",function(v){return oe(v,cr)}),l=n("graphic_attributes",function(v){return Z(v,A)}),d=n("function",function(v){return oe(v,we)}),h=n("scope",function(v){return oe(v,Ze)}),m=n("explicit",function(v){return oe(v,pe)}),R=n("organisation",A),$=n("notes",A);return S(Gt([u,a,s,c,f,l,d,h,m,R,$]),function(v){return{concept:v[0],concept_scale:v[1],concept_attributes:v[2],graphic:v[3],graphic_scale:v[4],graphic_attributes:v[5],function:v[6],scope:v[7],explicit:v[8],organisation:v[9],notes:v[10]}})})}var Vf={concept:"#Dim#",concept_scale:void 0,concept_attributes:0,graphic:"#Ref#",graphic_scale:void 0,graphic_attributes:0,function:void 0,scope:void 0,explicit:void 0,organisation:"",notes:""};function xf(e){return H({hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",le(e.is_class)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}})}function Ia(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return _(k(N(r,c),["Unable to find key '",c,"'"]),f)},t=n("concept",A),i=n("graphic",A),o=n("is_class",pe),u=n("function",we),a=n("explicit",pe),s=n("notes",A);return S(kr([t,i,o,u,a,s]),function(c){return{concept:c[0],graphic:c[1],is_class:c[2],function:c[3],explicit:c[4],notes:c[5]}})})}function Va(e){return{concept:e.concept,graphic:e.graphic,is_class:e.is_class,function:e.function,explicit:e.explicit,notes:e.notes}}function Ff(e){return H({hd:["version",$r(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",ie(e.is_class,le)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function qf(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(d,h){return _(k(N(r,d),["Unable to find key '",d,"'"]),h)},t=n("version",Wr),i=Dr(t);if(i.TAG!==0)return S(Ia(e),Va);var o=i._0;if(o!==2)return Ie(["Unknown version for InspectorState.Token: ",String(o)]);var u=n("concept",A),a=n("graphic",A),s=n("is_class",function(d){return oe(d,pe)}),c=n("function",function(d){return oe(d,we)}),f=n("explicit",function(d){return oe(d,pe)}),l=n("notes",A);return S(kr([u,a,s,c,f,l]),function(d){return{concept:d[0],graphic:d[1],is_class:d[2],function:d[3],explicit:d[4],notes:d[5]}})})}var Pf={concept:"#Sym#",graphic:"#Ref#",is_class:void 0,function:void 0,explicit:void 0,notes:""};function Hf(e){return H({hd:["version",$r(1)],tl:{hd:["description",g(e.description)],tl:{hd:["isIntensional",ie(e.isIntensional,le)],tl:{hd:["notes",g(e.notes)],tl:0}}}})}function Kf(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return _(k(N(r,c),["Unable to find key '",c,"'"]),f)},t=n("version",Wr),i=Dr(t);if(i.TAG!==0)return Mr("Unable to determine InspectorState.Placeholder version");var o=i._0;if(o!==1)return Ie(["Unknown InspectorState.Placeholder version ",String(o)]);var u=n("description",A),a=n("isIntensional",function(c){return oe(c,pe)}),s=n("notes",A);return S(Se([u,a,s]),function(c){return{description:c[0],isIntensional:c[1],notes:c[2]}})})}function zf(e){var r;switch(e.TAG|0){case 0:r=["representation",Ua(e._0)];break;case 1:r=["scheme",Uf(e._0)];break;case 2:r=["dimension",Df(e._0)];break;case 3:r=["token",xf(e._0)];break}return H({hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}})}function xa(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(o,u){return _(k(N(r,o),["Unable to find key '",o,"'"]),u)},t=n("kind",A),i=n("value",ne);return _(ve([t,i]),function(o){var u=o[1],a=o[0];switch(a){case"dimension":return S(Da(u),function(s){return{TAG:2,_0:s}});case"representation":return S(ja(u),function(s){return{TAG:0,_0:s}});case"scheme":return S(Ma(u),function(s){return{TAG:1,_0:s}});case"token":return S(Ia(u),function(s){return{TAG:3,_0:s}});default:return Ie(["Unknown Schema slot kind '",a,"'"])}})})}var Xf={toJson:zf,fromJson:xa};function Fa(e){switch(e.TAG|0){case 0:return{TAG:0,_0:e._0};case 1:return{TAG:1,_0:ka(e._0)};case 2:return{TAG:2,_0:Na(e._0)};case 3:return{TAG:3,_0:Va(e._0)}}}function Qf(e){var r;switch(e.TAG|0){case 0:r=["representation",Ua(e._0)];break;case 1:r=["scheme",jf(e._0)];break;case 2:r=["dimension",Nf(e._0)];break;case 3:r=["token",Ff(e._0)];break;case 4:r=["placeholder",Hf(e._0)];break}return H({hd:["version",$r(2)],tl:{hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}}})}function Zf(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(s,c){return _(k(N(r,s),["Unable to find key '",s,"'"]),c)},t=n("version",Wr),i=Dr(t);if(i.TAG!==0)return S(xa(e),Fa);var o=i._0;if(o!==2)return Ie(["Unknown InspectorState version ",String(o)]);var u=n("kind",A),a=n("value",ne);return _(ve([u,a]),function(s){var c=s[1],f=s[0];switch(f){case"dimension":return S(If(c),function(l){return{TAG:2,_0:l}});case"placeholder":return S(Kf(c),function(l){return{TAG:4,_0:l}});case"representation":return S(ja(c),function(l){return{TAG:0,_0:l}});case"scheme":return S(Mf(c),function(l){return{TAG:1,_0:l}});case"token":return S(qf(c),function(l){return{TAG:3,_0:l}});default:return Ie(["Unknown Schema slot kind '",f,"'"])}})})}function Yf(e){switch(e){case 0:return{TAG:0,_0:Tf};case 1:return{TAG:1,_0:kf};case 2:return{TAG:2,_0:Vf};case 3:return{TAG:3,_0:Pf};case 4:return{TAG:4,_0:{description:"#Placeholder#",isIntensional:void 0,notes:""}}}}function el(e){switch(e.TAG|0){case 0:return e._0.domain;case 1:return e._0.concept_structure;case 2:case 3:return e._0.concept;case 4:return e._0.description}}function rl(e){switch(e.TAG|0){case 0:return e._0.display;case 1:return e._0.graphic_structure;case 2:return e._0.graphic;case 3:return e._0.graphic;case 4:return""}}var nl={V1:Xf,V2:{toJson:Qf,fromJson:Zf,v1_to_v2:Fa}},$i={empty:Yf,name:el,reference:rl,Stable:nl};function tl(e){return H({hd:["id",x(e.id)],tl:{hd:["slots",J.toJson(e.slots,$i.Stable.V2.toJson)],tl:{hd:["links",mr(e.links,function(r){var n=x,t=x,i=Ri.Stable.V1.toJson;return[Ue(n,r[0]),Ue(t,r[1]),Ue(i,r[2])]})],tl:0}}})}function il(e){return _(C(V(e),"Failed to decode Request state object JSON"),function(r){var n=function(u,a){return _(k(N(r,u),["Unable to find key '",u,"'"]),a)},t=n("id",F),i=n("slots",function(u){return J.fromJson(u,$i.Stable.V2.fromJson)}),o=n("links",function(u){return hr(u,function(a){var s=F,c=F,f=Ri.Stable.V1.fromJson,l=bn(gi(a),[]);if(l.length!==3)return Mr("Not a triple");var d=l[0],h=l[1],m=l[2];return Se([Ue(s,d),Ue(c,h),Ue(f,m)])})});return S(Se([t,i,o]),function(u){return{id:u[0],slots:u[1],links:u[2]}})})}function ol(e){return H({hd:["id",x(e.id)],tl:{hd:["warnings",mr(e.warnings,Hu)],tl:{hd:["errors",mr(e.errors,lt)],tl:0}}})}function ul(e){return _(C(V(e),"Failed to decode Response state object JSON"),function(r){var n=function(u,a){return _(k(N(r,u),["Unable to find key '",u,"'"]),a)},t=n("id",F),i=n("warnings",function(u){return hr(u,Ku)}),o=n("errors",function(u){return hr(u,pt)});return S(Se([t,i,o]),function(u){return{id:u[0],warnings:u[1],errors:u[2]}})})}var al=Lu(void 0),sl=[],cl=[],fl={id:al,warnings:sl,errors:cl},ll={toJson:ol,fromJson:ul,empty:fl},pl={toJson:tl,fromJson:il},dl=Ta,Jn=function(e){return dl(pl,e)}(ll);var Cg=Jn.create,wg=Jn.listen,Lg=Jn.post,Tg=Jn.terminate,qa=Jn.WorkerThread;Ue(qa.create,function(e){var r=e.slots,n=e.links,t=[],i=[],o=sa(r,n);Zu(o,function(s){ci(t,"push",[s[0]]),ci(i,"push",[s[1]])}),br(n,function(s){var c=s[2],f=s[1],l=s[0];return br(n,function(d){if(s!==d&&f===d[0]&&c===0&&d[2]===0){var h=d[1],m=Vn(n,function(b){return l===b[0]&&h===b[1]&&b[2]===0&&s!==b?d!==b:!1});if(Gu(m)){var R=[l,f,h],$="Transitive hierarchical connections",v="Connections in the hierarchy are transitive, so normally you do not connect a grandparent schema to its grandchildren schemas.",W="Remove the transitive connection.";i.push(Ye(R,$,v,W,void 0));return}}})});var u=xn(t),a=xn(i);return{id:e.id,warnings:a,errors:u}});var Fg;})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
