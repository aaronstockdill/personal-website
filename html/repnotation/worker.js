(()=>{var Zu=Object.create;var $t=Object.defineProperty;var Yu=Object.getOwnPropertyDescriptor;var es=Object.getOwnPropertyNames;var rs=Object.getPrototypeOf,ns=Object.prototype.hasOwnProperty;var ts=e=>$t(e,"__esModule",{value:!0});var Wt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var is=(e,r,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of es(r))!ns.call(e,t)&&t!=="default"&&$t(e,t,{get:()=>r[t],enumerable:!(n=Yu(r,t))||n.enumerable});return e},os=e=>is(ts($t(e!=null?Zu(rs(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var cu=Wt((lW,su)=>{"use strict";var uu=Object.getOwnPropertySymbols,of=Object.prototype.hasOwnProperty,af=Object.prototype.propertyIsEnumerable;function uf(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function sf(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;var t=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(t.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}su.exports=sf()?Object.assign:function(e,r){for(var n,t=uf(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)of.call(n,a)&&(t[a]=n[a]);if(uu){i=uu(n);for(var u=0;u<i.length;u++)af.call(n,i[u])&&(t[i[u]]=n[i[u]])}}return t}});var Ou=Wt(V=>{"use strict";var si=cu(),Zr=60103,fu=60106;V.Fragment=60107;V.StrictMode=60108;V.Profiler=60114;var lu=60109,pu=60110,du=60112;V.Suspense=60113;var _u=60115,vu=60116;typeof Symbol=="function"&&Symbol.for&&(Ue=Symbol.for,Zr=Ue("react.element"),fu=Ue("react.portal"),V.Fragment=Ue("react.fragment"),V.StrictMode=Ue("react.strict_mode"),V.Profiler=Ue("react.profiler"),lu=Ue("react.provider"),pu=Ue("react.context"),du=Ue("react.forward_ref"),V.Suspense=Ue("react.suspense"),_u=Ue("react.memo"),vu=Ue("react.lazy"));var Ue,mu=typeof Symbol=="function"&&Symbol.iterator;function cf(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}function An(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bu={};function Yr(e,r,n){this.props=e,this.context=r,this.refs=bu,this.updater=n||hu}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(An(85));this.updater.enqueueSetState(this,e,r,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=Yr.prototype;function ci(e,r,n){this.props=e,this.context=r,this.refs=bu,this.updater=n||hu}var fi=ci.prototype=new Ru;fi.constructor=ci;si(fi,Yr.prototype);fi.isPureReactComponent=!0;var li={current:null},$u=Object.prototype.hasOwnProperty,Wu={key:!0,ref:!0,__self:!0,__source:!0};function yu(e,r,n){var t,i={},o=null,a=null;if(r!=null)for(t in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(o=""+r.key),r)$u.call(r,t)&&!Wu.hasOwnProperty(t)&&(i[t]=r[t]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(t in u=e.defaultProps,u)i[t]===void 0&&(i[t]=u[t]);return{$$typeof:Zr,type:e,key:o,ref:a,props:i,_owner:li.current}}function ff(e,r){return{$$typeof:Zr,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function pi(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zr}function lf(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var gu=/\/+/g;function di(e,r){return typeof e=="object"&&e!==null&&e.key!=null?lf(""+e.key):r.toString(36)}function pt(e,r,n,t,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zr:case fu:a=!0}}if(a)return a=e,i=i(a),e=t===""?"."+di(a,0):t,Array.isArray(i)?(n="",e!=null&&(n=e.replace(gu,"$&/")+"/"),pt(i,r,n,"",function(c){return c})):i!=null&&(pi(i)&&(i=ff(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gu,"$&/")+"/")+e)),r.push(i)),1;if(a=0,t=t===""?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var s=t+di(o,u);a+=pt(o,r,n,s,i)}else if(s=cf(e),typeof s=="function")for(e=s.call(e),u=0;!(o=e.next()).done;)o=o.value,s=t+di(o,u++),a+=pt(o,r,n,s,i);else if(o==="object")throw r=""+e,Error(An(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r));return a}function dt(e,r,n){if(e==null)return e;var t=[],i=0;return pt(e,t,"","",function(o){return r.call(n,o,i++)}),t}function pf(e){if(e._status===-1){var r=e._result;r=r(),e._status=0,e._result=r,r.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var Au={current:null};function rr(){var e=Au.current;if(e===null)throw Error(An(321));return e}var df={ReactCurrentDispatcher:Au,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:li,IsSomeRendererActing:{current:!1},assign:si};V.Children={map:dt,forEach:function(e,r,n){dt(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return dt(e,function(){r++}),r},toArray:function(e){return dt(e,function(r){return r})||[]},only:function(e){if(!pi(e))throw Error(An(143));return e}};V.Component=Yr;V.PureComponent=ci;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=df;V.cloneElement=function(e,r,n){if(e==null)throw Error(An(267,e));var t=si({},e.props),i=e.key,o=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,a=li.current),r.key!==void 0&&(i=""+r.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in r)$u.call(r,s)&&!Wu.hasOwnProperty(s)&&(t[s]=r[s]===void 0&&u!==void 0?u[s]:r[s])}var s=arguments.length-2;if(s===1)t.children=n;else if(1<s){u=Array(s);for(var c=0;c<s;c++)u[c]=arguments[c+2];t.children=u}return{$$typeof:Zr,type:e.type,key:i,ref:o,props:t,_owner:a}};V.createContext=function(e,r){return r===void 0&&(r=null),e={$$typeof:pu,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:lu,_context:e},e.Consumer=e};V.createElement=yu;V.createFactory=function(e){var r=yu.bind(null,e);return r.type=e,r};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:du,render:e}};V.isValidElement=pi;V.lazy=function(e){return{$$typeof:vu,_payload:{_status:-1,_result:e},_init:pf}};V.memo=function(e,r){return{$$typeof:_u,type:e,compare:r===void 0?null:r}};V.useCallback=function(e,r){return rr().useCallback(e,r)};V.useContext=function(e,r){return rr().useContext(e,r)};V.useDebugValue=function(){};V.useEffect=function(e,r){return rr().useEffect(e,r)};V.useImperativeHandle=function(e,r,n){return rr().useImperativeHandle(e,r,n)};V.useLayoutEffect=function(e,r){return rr().useLayoutEffect(e,r)};V.useMemo=function(e,r){return rr().useMemo(e,r)};V.useReducer=function(e,r,n){return rr().useReducer(e,r,n)};V.useRef=function(e){return rr().useRef(e)};V.useState=function(e){return rr().useState(e)};V.version="17.0.2"});var Ju=Wt((dW,Su)=>{"use strict";Su.exports=Ou()});function yt(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function Pe(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,a=n.length,u=o-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return Pe(s,c.concat([f]))}}(t,n);r=yt(n,o,-u|0),e=t.apply(null,yt(n,0,o))}}function je(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,a){return e(r,t,i,o,a)};case 6:return function(t,i,o,a,u){return e(r,t,i,o,a,u)};case 7:return function(t,i,o,a,u,s){return e(r,t,i,o,a,u,s)};default:return Pe(e,[r])}}function Sn(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return Pe(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,a){return e(r,n,i,o,a)};case 6:return function(i,o,a,u){return e(r,n,i,o,a,u)};case 7:return function(i,o,a,u,s){return e(r,n,i,o,a,u,s)};default:return Pe(e,[r,n])}}function Ri(e,r,n,t,i,o,a){var u=e.length;if(u===6)return e(r,n,t,i,o,a);switch(u){case 1:return Pe(e(r),[n,t,i,o,a]);case 2:return Pe(e(r,n),[t,i,o,a]);case 3:return Pe(e(r,n,t),[i,o,a]);case 4:return Pe(e(r,n,t,i),[o,a]);case 5:return Pe(e(r,n,t,i,o),[a]);case 6:return e(r,n,t,i,o,a);case 7:return function(s){return e(r,n,t,i,o,a,s)};default:return Pe(e,[r,n,t,i,o,a])}}function ae(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function $i(e){if(e!==void 0)return ae(e)}function nn(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function U(e,r){if(r in e)return ae(e[r])}function x(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function D(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return ae(e)}function Wi(e){if(Array.isArray(e))return e}function H(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function yi(e){if(e!==void 0)return H(e)}function K(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function tn(e){if(typeof e=="string")return e}function gt(e){if(typeof e=="number")return e}function gi(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return H(e)}function Or(e){if(Array.isArray(e))return e}function Ai(e){if(typeof e=="boolean")return e}function At(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function mr(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,a=n.length,u=o-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return mr(s,c.concat([f]))}}(t,n);r=At(n,o,-u|0),e=t.apply(null,At(n,0,o))}}function p(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,a){return e(r,t,i,o,a)};case 6:return function(t,i,o,a,u){return e(r,t,i,o,a,u)};case 7:return function(t,i,o,a,u,s){return e(r,t,i,o,a,u,s)};default:return mr(e,[r])}}function Y(e){var r=e.length;return r===1?e:function(n){return p(e,n)}}function Oi(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return mr(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,a){return e(r,n,i,o,a)};case 6:return function(i,o,a,u){return e(r,n,i,o,a,u)};case 7:return function(i,o,a,u,s){return e(r,n,i,o,a,u,s)};default:return mr(e,[r,n])}}function We(e){var r=e.length;return r===2?e:function(n,t){return Oi(e,n,t)}}function as(e,r,n,t){var i=e.length;if(i===3)return e(r,n,t);switch(i){case 1:return mr(e(r),[n,t]);case 2:return mr(e(r,n),[t]);case 3:return e(r,n,t);case 4:return function(o){return e(r,n,t,o)};case 5:return function(o,a){return e(r,n,t,o,a)};case 6:return function(o,a,u){return e(r,n,t,o,a,u)};case 7:return function(o,a,u,s){return e(r,n,t,o,a,u,s)};default:return mr(e,[r,n,t])}}function tr(e){var r=e.length;return r===3?e:function(n,t,i){return as(e,n,t,i)}}var Ot={contents:0};function Jn(e){return Ot.contents=Ot.contents+1|0,e+("/"+Ot.contents)}function St(e,r){return e<r?-1:e===r?0:1}function Si(e,r){return e?r?0:1:r?-1:0}function En(e,r){return e===r?0:e<r?-1:1}function Ji(e,r){if(!(r>=0&&r<e.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error};return e[r]}function Sr(e,r){for(var n=e.length,t=r.length,i=new Array(n+t|0),o=0;o<n;++o)i[o]=e[o];for(var a=0;a<t;++a)i[n+a|0]=r[a];return i}function Ei(e,r){for(var n=0,t=e.length;n<t;++n)r(e[n])}function Bi(e,r){return Ei(e,Y(r))}function Ci(e,r){for(var n=e.length,t=new Array(n),i=0;i<n;++i)t[i]=r(e[i]);return t}function on(e,r){return Ci(e,Y(r))}function Gi(e,r){for(var n=e.length,t=new Array(n),i=0,o=0;o<n;++o){var a=e[o],u=r(a);u!==void 0&&(t[i]=K(u),i=i+1|0)}return t.length=i,t}function wi(e,r){return Gi(e,Y(r))}function Li(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i]);return t}function Bn(e,r,n){return Li(e,r,We(n))}function Ti(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i],i);return t}function ji(e,r,n){return Ti(e,r,tr(n))}function cs(e,r,n,t,i){for(;;){var o=n,a=r;if(o>=t)return o;var u=e[o];if(!i(u,a))return o;n=o+1|0,r=u}}function Jr(e,r){var n=e.length;if(n===0||n===1)return n;var t=e[0],i=e[1];if(r(t,i))for(var o=i,a=2;;){var u=a,s=o;if(u>=n)return u;var c=e[u];if(!r(s,c))return u;a=u+1|0,o=c}else return r(i,t)?-cs(e,i,2,n,r)|0:1}function Cn(e,r){return{hd:r,tl:e}}function ds(e,r){for(;;){var n=r,t=e;if(!t)return n;var i={hd:t.hd,tl:0};n.tl=i,r=i,e=t.tl}}function _s(e,r,n){for(;;){var t=r,i=e;if(!i)return;var o={hd:n(i.hd),tl:0};t.tl=o,r=o,e=i.tl}}function ki(e,r){if(!e)return r;var n={hd:e.hd,tl:0};return ds(e.tl,n).tl=r,n}function Ui(e,r){if(!e)return 0;var n={hd:r(e.hd),tl:0};return _s(e.tl,n,r),n}function Gn(e,r){return Ui(e,Y(r))}function Jt(e){for(var r=e,n=0;;){var t=n,i=r;if(!i)return t;n=t+1|0,r=i.tl}}function vs(e,r,n){for(;;){var t=n,i=r;if(!t)return;e[i]=t.hd,n=t.tl,r=i+1|0}}function Er(e){for(var r=e.length-1|0,n=0;;){var t=n,i=r;if(i<0)return t;n={hd:e[i],tl:t},r=i-1|0}}function an(e){var r=Jt(e),n=new Array(r);return vs(n,0,e),n}function Mi(e,r,n){for(;;){var t=r,i=e;if(!i)return t;r=n(t,i.hd),e=i.tl}}function wn(e,r,n){return Mi(e,r,We(n))}function Di(e){if(e!==void 0)return K(e);throw{RE_EXN_ID:"Not_found",Error:new Error}}function Ni(e,r){if(e!==void 0)return H(r(K(e)))}function Br(e,r){return Ni(e,Y(r))}function Ii(e,r){if(e!==void 0)return r(K(e))}function Et(e,r){return Ii(e,Y(r))}function Vi(e,r){return e!==void 0?K(e):r}function xi(e){return e!==void 0}function Fi(e){return e===void 0}var Ln=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var a=n[i-1];for(t=0;t<a.length;++t)o.push(a[t]);return e[r].apply(e,o)};var De=Jn("Rpc-RepWeb.RpcError"),ms={},hs={},bs={},Rs={},$s={};function Ws(e,r){return p(e.reader,r)}function ys(e,r){return p(e.writer,r)}function gs(e){return e.name}function Ne(e,r,n,t){return{reader:function(i){return p(n,p(e.reader,i))},writer:function(i){return p(e.writer,p(t,i))},name:r}}function As(e,r){return{reader:e.reader,writer:e.writer,name:r}}function Os(e){return{reader:function(r){return p(p(e,void 0).reader,r)},writer:function(r){return p(p(e,void 0).writer,r)},name:"<rec>"}}var Ss=new Uint8Array([]);function Js(e){}function Es(e){return Ss}var qi={reader:Js,writer:Es,name:"unit"};function Bs(e){var r=e[0];if(r===0)return!1;if(r===1)return!0;throw{RE_EXN_ID:De,Error:new Error}}function Cs(e){return e?new Uint8Array([1]):new Uint8Array([0])}var Gs={reader:Bs,writer:Cs,name:"bool"};function Pi(e,r,n){for(;;){var t=n,i=r;if(i===0)return t;n=p(e,t),r=i-1|0}}function Tn(e){var r=function(f,l){return Pi(function(d){return d/2|0},l,f)%256},n=r(e,0),t=r(e,8),i=r(e,16),o=r(e,24),a=r(e,32),u=r(e,40),s=r(e,48),c=r(e,56);return new Uint8Array([c,s,u,a,o,i,t,n])}function jn(e){var r=function(f,l){return Pi(function(d){return d<<1},l,f)},n=e[7],t=e[6],i=e[5],o=e[4],a=e[3],u=e[2],s=e[1],c=e[0];return((((((n+r(t,8)|0)+r(i,16)|0)+r(o,24)|0)+r(a,32)|0)+r(u,40)|0)+r(s,48)|0)+r(c,56)|0}var ws={reader:jn,writer:Tn,name:"int"};function Ls(e){return new Float64Array(e.reverse().buffer)[0]}function Ts(e){var r=new Float64Array(1);return r.set([e]),new Uint8Array(r.buffer).reverse()}var js={reader:Ls,writer:Ts,name:"float"};function ks(e){var r=[];return e.forEach(function(n){r.push(String.fromCharCode(n))}),Ln("","concat",[r])}function Us(e){return new Uint8Array(e.split("").map(function(r){return r.charCodeAt(0)|0}))}var Ms={reader:ks,writer:Us,name:"string"};function Cr(e,r,n){return e.subarray(r,r+n|0)}function kn(e){var r=e.reduce(function(i,o){return i+o.length|0},0),n=new Uint8Array(r),t={contents:0};return e.forEach(function(i){n.set(i,t.contents),t.contents=t.contents+i.length|0}),n}function Gr(e){var r=function(t){for(var i=function(d,m,_){for(;;){var $=_,W=m,h=d;if(h===0)return $;var R=jn(Cr(t,W,8));_=$.concat([R]),m=W+8|0,d=h-1|0}},o=i(e,0,[]),a=e<<3,u=[];;){var s=u,c=a,f=o.shift();if(f===void 0)return s;var l=Cr(t,c,f);u=s.concat([l]),a=c+f|0}},n=function(t){var i=t.map(function(o){return Tn(o.length)});return kn(i.concat(t))};return{reader:r,writer:n,name:"tuple"}}function Ds(e,r){return Ne(Gr(2),"".concat("(",e.name,", ",r.name,")"),function(n){if(n.length!==2)throw{RE_EXN_ID:De,Error:new Error};var t=n[0],i=n[1];return[p(e.reader,t),p(r.reader,i)]},function(n){return[p(e.writer,n[0]),p(r.writer,n[1])]})}function Ns(e,r,n){return Ne(Gr(3),"".concat("(",e.name,", ",r.name,", ",n.name,")"),function(t){if(t.length!==3)throw{RE_EXN_ID:De,Error:new Error};var i=t[0],o=t[1],a=t[2];return[p(e.reader,i),p(r.reader,o),p(n.reader,a)]},function(t){return[p(e.writer,t[0]),p(r.writer,t[1]),p(n.writer,t[2])]})}function Is(e,r,n,t){return Ne(Gr(4),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,")"),function(i){if(i.length!==4)throw{RE_EXN_ID:De,Error:new Error};var o=i[0],a=i[1],u=i[2],s=i[3];return[p(e.reader,o),p(r.reader,a),p(n.reader,u),p(t.reader,s)]},function(i){return[p(e.writer,i[0]),p(r.writer,i[1]),p(n.writer,i[2]),p(t.writer,i[3])]})}function Vs(e,r,n,t,i){return Ne(Gr(5),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,")"),function(o){if(o.length!==5)throw{RE_EXN_ID:De,Error:new Error};var a=o[0],u=o[1],s=o[2],c=o[3],f=o[4];return[p(e.reader,a),p(r.reader,u),p(n.reader,s),p(t.reader,c),p(i.reader,f)]},function(o){return[p(e.writer,o[0]),p(r.writer,o[1]),p(n.writer,o[2]),p(t.writer,o[3]),p(i.writer,o[4])]})}function xs(e,r,n,t,i,o){return Ne(Gr(6),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,")"),function(a){if(a.length!==6)throw{RE_EXN_ID:De,Error:new Error};var u=a[0],s=a[1],c=a[2],f=a[3],l=a[4],d=a[5];return[p(e.reader,u),p(r.reader,s),p(n.reader,c),p(t.reader,f),p(i.reader,l),p(o.reader,d)]},function(a){return[p(e.writer,a[0]),p(r.writer,a[1]),p(n.writer,a[2]),p(t.writer,a[3]),p(i.writer,a[4]),p(o.writer,a[5])]})}function Fs(e){var r=e.length-1|0;return[e[0],Cr(e,1,r)]}function qs(e){return kn([new Uint8Array([e[0]]),e[1]])}var wr={reader:Fs,writer:qs,name:"either"};function Hi(e,r){return Ne(wr,"Rpc.Datatype.Either2.t".concat("<",e.name,", ",r.name,">"),function(n){var t=n[1],i=n[0];if(i===0)return{TAG:0,_0:p(e.reader,t)};if(i!==1)throw{RE_EXN_ID:De,Error:new Error};return{TAG:1,_0:p(r.reader,t)}},function(n){return n.TAG===0?[0,p(e.writer,n._0)]:[1,p(r.writer,n._0)]})}function Ps(e,r,n){return Ne(wr,"Rpc.Datatype.Either3.t".concat("<",e.name,", ",r.name,", ",n.name,">"),function(t){var i=t[1];switch(t[0]){case 0:return{TAG:0,_0:p(e.reader,i)};case 1:return{TAG:1,_0:p(r.reader,i)};case 2:return{TAG:2,_0:p(n.reader,i)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(t){switch(t.TAG|0){case 0:return[0,p(e.writer,t._0)];case 1:return[1,p(r.writer,t._0)];case 2:return[2,p(n.writer,t._0)]}})}function Hs(e,r,n,t){return Ne(wr,"Rpc.Datatype.Either4.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,">"),function(i){var o=i[1];switch(i[0]){case 0:return{TAG:0,_0:p(e.reader,o)};case 1:return{TAG:1,_0:p(r.reader,o)};case 2:return{TAG:2,_0:p(n.reader,o)};case 3:return{TAG:3,_0:p(t.reader,o)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(i){switch(i.TAG|0){case 0:return[0,p(e.writer,i._0)];case 1:return[1,p(r.writer,i._0)];case 2:return[2,p(n.writer,i._0)];case 3:return[3,p(t.writer,i._0)]}})}function Ks(e,r,n,t,i){return Ne(wr,"Rpc.Datatype.Either5.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,">"),function(o){var a=o[1];switch(o[0]){case 0:return{TAG:0,_0:p(e.reader,a)};case 1:return{TAG:1,_0:p(r.reader,a)};case 2:return{TAG:2,_0:p(n.reader,a)};case 3:return{TAG:3,_0:p(t.reader,a)};case 4:return{TAG:4,_0:p(i.reader,a)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(o){switch(o.TAG|0){case 0:return[0,p(e.writer,o._0)];case 1:return[1,p(r.writer,o._0)];case 2:return[2,p(n.writer,o._0)];case 3:return[3,p(t.writer,o._0)];case 4:return[4,p(i.writer,o._0)]}})}function zs(e,r,n,t,i,o){return Ne(wr,"Rpc.Datatype.Either6.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,">"),function(a){var u=a[1];switch(a[0]){case 0:return{TAG:0,_0:p(e.reader,u)};case 1:return{TAG:1,_0:p(r.reader,u)};case 2:return{TAG:2,_0:p(n.reader,u)};case 3:return{TAG:3,_0:p(t.reader,u)};case 4:return{TAG:4,_0:p(i.reader,u)};case 5:return{TAG:5,_0:p(o.reader,u)};default:throw{RE_EXN_ID:De,Error:new Error}}},function(a){switch(a.TAG|0){case 0:return[0,p(e.writer,a._0)];case 1:return[1,p(r.writer,a._0)];case 2:return[2,p(n.writer,a._0)];case 3:return[3,p(t.writer,a._0)];case 4:return[4,p(i.writer,a._0)];case 5:return[5,p(o.writer,a._0)]}})}function Xs(e){var r=Hi(e,qi),n=r.writer,t=r.reader;return{reader:function(i){var o=p(t,i);if(o.TAG===0)return H(o._0)},writer:function(i){return i!==void 0?p(n,{TAG:0,_0:K(i)}):p(n,{TAG:1,_0:void 0})},name:"option<"+e.name+">"}}function Ki(e){var r=function(t){var i=jn(Cr(t,0,8)),o=[],a=function(u,s){for(;;){var c=s,f=u;if(f===0)return;var l=jn(Cr(t,c,8)),d=p(e.reader,Cr(t,c+8|0,l));o.push(d),s=(c+8|0)+l|0,u=f-1|0}};return a(i,8),o},n=function(t){var i=Tn(t.length),o=on(t,function(a){var u=p(e.writer,a),s=Tn(u.length);return kn([s,u])});return kn(Sr([i],o))};return{reader:r,writer:n,name:"array<"+e.name+">"}}function Qs(e){var r=Ki(e),n=r.writer,t=r.reader;return{reader:function(i){return Er(p(t,i))},writer:function(i){return p(n,an(i))},name:"list<"+e.name+">"}}var ye={Either2:ms,Either3:hs,Either4:bs,Either5:Rs,Either6:$s,read:Ws,write:ys,name:gs,convert:Ne,alias:As,recur:Os,unit_:qi,bool_:Gs,int_:ws,float_:js,string_:Ms,option_:Xs,array_:Ki,list_:Qs,tuple2_:Ds,tuple3_:Ns,tuple4_:Is,tuple5_:Vs,tuple6_:xs,tupleN_:Gr,either2_:Hi,either3_:Ps,either4_:Hs,either5_:Ks,either6_:zs,eitherN_:wr};var zi=function(e,r){for(var n in e)r(n)};function Lr(e,r){if(e===r)return 0;var n=typeof e,t=typeof r;switch(n){case"boolean":if(t==="boolean")return Si(e,r);break;case"function":if(t==="function")throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if(t==="number")return St(e,r);break;case"string":return t==="string"?En(e,r):1;case"undefined":return-1;default:}switch(t){case"string":return-1;case"undefined":return 1;default:if(n==="boolean")return 1;if(t==="boolean")return-1;if(n==="function")return 1;if(t==="function")return-1;if(n==="number")return r===null||r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(t==="number")return e===null||e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e===null)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(r===null)return e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?Xi(e,r):-1;var i=e.TAG|0,o=r.TAG|0;if(i===248)return St(e[1],r[1]);if(i===251)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(i!==o)return i<o?-1:1;var a=e.length|0,u=r.length|0;if(a===u)if(Array.isArray(e))for(var s=0;;){var c=s;if(c===a)return 0;var f=Lr(e[c],r[c]);if(f!==0)return f;s=c+1|0}else return e instanceof Date&&r instanceof Date?e-r:Xi(e,r);else if(a<u)for(var l=0;;){var d=l;if(d===a)return-1;var m=Lr(e[d],r[d]);if(m!==0)return m;l=d+1|0}else for(var _=0;;){var $=_;if($===u)return 1;var W=Lr(e[$],r[$]);if(W!==0)return W;_=$+1|0}}}function Xi(e,r){var n={contents:void 0},t={contents:void 0},i=function(l,d){var m=l[2],_=l[1];if(!_.hasOwnProperty(d)||Lr(l[0][d],_[d])>0){var $=m.contents;if(!($!==void 0&&d>=$)){m.contents=d;return}}},o=[e,r,t],a=function(l){return i(o,l)},u=[r,e,n],s=function(l){return i(u,l)};zi(e,a),zi(r,s);var c=n.contents,f=t.contents;return c!==void 0?f!==void 0?En(c,f):-1:f!==void 0?1:0}function Qi(e,r){return Lr(e,r)>0}function Zi(e,r){return Lr(e,r)<0}function Zs(e){return e}function Ys(e){return"TAG: ".concat(e)}function ec(e){return e}function Tr(e,r){return e.concat(r)}function Yi(e){return wn(e,[],Tr)}function eo(e,r){return e.concat([{TAG:1,_0:r}])}function Un(e){return[{TAG:0,_0:e}]}function Mn(e){return[{TAG:0,_0:Ln("","concat",[e])}]}function jr(e,r){return r.map(function(n){return{TAG:1,_0:n}}).concat(e)}function kr(e,r){return e.concat(r.map(function(n){return{TAG:1,_0:n}}))}var ro={toString:Ys,fromString:Zs,toJson:ec,fromJson:tn};function ne(e){return{TAG:0,_0:e,_1:[]}}function Ur(e){return{TAG:1,_0:Un(e)}}function Ie(e){return{TAG:1,_0:Mn(e)}}function L(e,r){return e.TAG===0?{TAG:0,_0:e._0,_1:e._1.concat([ro.fromString(r)])}:{TAG:1,_0:eo(e._0,r)}}function O(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0),_1:e._1}:{TAG:1,_0:e._0}}function v(e,r){if(e.TAG===0){var n=p(r,e._0),t=e._1;return n.TAG===0?{TAG:0,_0:n._0,_1:t.concat(n._1)}:{TAG:1,_0:jr(n._0,t)}}else return{TAG:1,_0:e._0}}function Bt(e,r){if(e.TAG===0)return p(r,e._0)}function me(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;return n.TAG===0?{TAG:0,_0:[r._0,n._0],_1:t.concat(n._1)}:{TAG:1,_0:jr(n._0,t)}}var i=e[1],o=r._0;return i.TAG===0?{TAG:1,_0:kr(o,i._1)}:{TAG:1,_0:Tr(o,i._0)}}function ue(e){if(!e)return{TAG:0,_0:0,_1:[]};var r=me([e.hd,ue(e.tl)]);if(r.TAG!==0)return{TAG:1,_0:r._0};var n=r._0;return{TAG:0,_0:Cn(n[1],n[0]),_1:r._1}}function te(e){if(!e)return{TAG:0,_0:void 0,_1:[]};var r=me([e.hd,te(e.tl)]);return r.TAG===0?{TAG:0,_0:void 0,_1:r._1}:{TAG:1,_0:r._0}}function no(e,r){return e!==void 0?{TAG:0,_0:K(e),_1:[]}:{TAG:1,_0:r}}function E(e,r){return no(e,Un(r))}function T(e,r){return no(e,Mn(r))}function to(e,r){return e?{TAG:0,_0:void 0,_1:[]}:{TAG:1,_0:r}}function io(e,r){return to(e,Un(r))}function ze(e,r){return to(e,Mn(r))}function Oe(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;if(n.TAG===0){var i=e[2],o=n._1;return i.TAG===0?{TAG:0,_0:[r._0,n._0,i._0],_1:t.concat(o,i._1)}:{TAG:1,_0:jr(i._0,t.concat(o))}}var a=e[2],u=n._0;return a.TAG===0?{TAG:1,_0:kr(jr(u,t),a._1)}:{TAG:1,_0:jr(Tr(u,a._0),t)}}var s=e[1],c=r._0;if(s.TAG===0){var f=e[2],l=s._1;return f.TAG===0?{TAG:1,_0:kr(c,l.concat(f._1))}:{TAG:1,_0:Tr(kr(c,l),f._0)}}var d=e[2],m=s._0;return d.TAG===0?{TAG:1,_0:kr(Tr(c,m),d._1)}:{TAG:1,_0:Yi({hd:c,tl:{hd:m,tl:{hd:d._0,tl:0}}})}}function Xe(e){return O(me([me([e[0],e[1]]),me([e[2],e[3]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1]]})}function un(e){return O(me([me([e[0],e[1]]),Oe([e[2],e[3],e[4]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1],n[2]]})}function Mr(e){return O(me([Oe([e[0],e[1],e[2]]),Oe([e[3],e[4],e[5]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2]]})}function Ct(e){return O(me([Oe([e[0],e[1],e[2]]),Xe([e[3],e[4],e[5],e[6]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2],n[3]]})}function oo(e){return O(me([Xe([e[0],e[1],e[2],e[3]]),un([e[4],e[5],e[6],e[7],e[8]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3],n[4]]})}function ao(e){return O(me([un([e[0],e[1],e[2],e[3],e[4]]),un([e[5],e[6],e[7],e[8],e[9]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],t[4],n[0],n[1],n[2],n[3],n[4]]})}function Gt(e){return O(Oe([Xe([e[0],e[1],e[2],e[3]]),Xe([e[4],e[5],e[6],e[7]]),Oe([e[8],e[9],e[10]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2]]})}function uo(e){return O(Oe([Xe([e[0],e[1],e[2],e[3]]),Xe([e[4],e[5],e[6],e[7]]),Xe([e[8],e[9],e[10],e[11]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3]]})}function Dr(e){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:e._0}}var Zd=ye.array_,hr=on;function br(e,r){return v(E(Or(e),"JSON is not a valid array (reading array)"),function(n){return Bn(n,ne([]),function(t,i){return v(t,function(o){return O(p(r,i),function(a){return Sr(o,[a])})})})})}function sn(e,r){return e.filter(Y(r))}function Dn(e,r){return yi(e.find(Y(r)))}function so(e,r){return Bn(e,[],function(n,t){var i=p(r,t);return i!==void 0?Sr(n,[K(i)]):n})}var Nn=e=>[...new Set(e)];var co=Ji;var cn=Sr;var Rr=Bi;var Ee=on;var In=wi;var Nr=Bn;var fo=ji;function ge(e){return e!==void 0?e.h:0}function Be(e,r,n,t){var i=ge(e),o=ge(t);return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t}}function he(e,r){return{k:e,v:r,h:1,l:void 0,r:void 0}}function lo(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function fn(e,r){return e.v===r?e:{k:e.k,v:r,h:e.h,l:e.l,r:e.r}}function Ae(e,r,n,t){var i=e!==void 0?e.h:0,o=t!==void 0?t.h:0;if(i>(o+2|0)){var a=e.l,u=e.r;return ge(a)>=ge(u)?Be(a,e.k,e.v,Be(u,r,n,t)):Be(Be(a,e.k,e.v,u.l),u.k,u.v,Be(u.r,r,n,t))}if(o<=(i+2|0))return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t};var s=t.l,c=t.r;return ge(c)>=ge(s)?Be(Be(e,r,n,s),t.k,t.v,c):Be(Be(e,r,n,s.l),s.k,s.v,Be(s.r,t.k,t.v,c))}function $r(e,r,n){var t=e.l;return t!==void 0?Ae($r(t,r,n),e.k,e.v,e.r):(r.contents=e.k,n.contents=e.v,e.r)}function wt(e){return e===void 0}function Vn(e,r){for(;;){var n=e;if(n===void 0)return;Vn(n.l,r),r(n.k,n.v),e=n.r}}function ln(e,r){if(e!==void 0){var n=ln(e.l,r),t=r(e.v),i=ln(e.r,r);return{k:e.k,v:t,h:e.h,l:n,r:i}}}function pn(e,r){if(e!==void 0){var n=e.k,t=pn(e.l,r),i=r(n,e.v),o=pn(e.r,r);return{k:n,v:i,h:e.h,l:t,r:o}}}function po(e,r,n){return e!==void 0?Ae(po(e.l,r,n),e.k,e.v,e.r):he(r,n)}function _o(e,r,n){return e!==void 0?Ae(e.l,e.k,e.v,_o(e.r,r,n)):he(r,n)}function Qe(e,r,n,t){if(e===void 0)return po(t,r,n);if(t===void 0)return _o(e,r,n);var i=e.k,o=e.v,a=e.h,u=e.l,s=e.r,c=t.k,f=t.v,l=t.h,d=t.l,m=t.r;return a>(l+2|0)?Ae(u,i,o,Qe(s,r,n,t)):l>(a+2|0)?Ae(Qe(e,r,n,d),c,f,m):Be(e,r,n,t)}function vo(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.k},t={contents:r.v},i=$r(r,n,t);return Qe(e,n.contents,t.contents,i)}function xn(e,r,n,t){return n!==void 0?Qe(e,r,K(n),t):vo(e,t)}function dn(e,r){if(e!==void 0){var n=e.k,t=e.v,i=dn(e.l,r),o=r(n,t),a=dn(e.r,r);return o!==void 0?Qe(i,n,K(o),a):vo(i,a)}}function _n(e){var r=e.l,n=e.r,t=r!==void 0?_n(r):0,i=n!==void 0?_n(n):0;return(1+t|0)+i|0}function mo(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;var i=t.k,o=t.v,a=t.l,u=t.r;r={hd:[i,o],tl:mo(u,n)},e=a}}function Lt(e){return mo(e,0)}function ho(e,r,n){for(;;){var t=r,i=e,o=i.k,a=i.l,u=i.r,s=a!==void 0?ho(a,t,n):t;n[s]=o;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function bo(e,r,n){for(;;){var t=r,i=e,o=i.l,a=i.r,u=o!==void 0?bo(o,t,n):t;n[u]=i.v;var s=u+1|0;if(a===void 0)return s;r=s,e=a}}function Ro(e,r,n){for(;;){var t=r,i=e,o=i.l,a=i.k,u=i.r,s=o!==void 0?Ro(o,t,n):t;n[s]=[a,i.v];var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function Tt(e){if(e===void 0)return[];var r=_n(e),n=new Array(r);return Ro(e,0,n),n}function jt(e){if(e===void 0)return[];var r=_n(e),n=new Array(r);return ho(e,0,n),n}function kt(e){if(e===void 0)return[];var r=_n(e),n=new Array(r);return bo(e,0,n),n}function vn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return he(t[0],t[1]);case 2:var i=e[r],o=e[r-1|0],a=o,u=i;return{k:a[0],v:a[1],h:2,l:he(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r-1|0],f=e[r-2|0],l=f,d=c,m=s;return{k:d[0],v:d[1],h:2,l:he(m[0],m[1]),r:he(l[0],l[1])};default:var _=n/2|0,$=vn(e,r,_),W=e[r-_|0],h=vn(e,(r-_|0)-1|0,(n-_|0)-1|0);return Be($,W[0],W[1],h)}}function mn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return he(t[0],t[1]);case 2:var i=e[r],o=e[r+1|0],a=o,u=i;return{k:a[0],v:a[1],h:2,l:he(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r+1|0],f=e[r+2|0],l=f,d=c,m=s;return{k:d[0],v:d[1],h:2,l:he(m[0],m[1]),r:he(l[0],l[1])};default:var _=n/2|0,$=mn(e,r,_),W=e[r+_|0],h=mn(e,(r+_|0)+1|0,(n-_|0)-1|0);return Be($,W[0],W[1],h)}}function $o(e,r,n){for(;;){var t=e;if(t===void 0)return;var i=t.k,o=n(r,i);if(o===0)return H(t.v);e=o<0?t.l:t.r}}function Wo(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.k,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function Ut(e){var r=e.l;e.l=r.r,r.r=e;var n=ge(e.l),t=ge(e.r);e.h=(n>t?n:t)+1|0;var i=ge(r.l),o=e.h;return r.h=(i>o?i:o)+1|0,r}function Mt(e){var r=e.r;e.r=r.l,r.l=e;var n=ge(e.l),t=ge(e.r);e.h=(n>t?n:t)+1|0;var i=ge(r.r),o=e.h;return r.h=(i>o?i:o)+1|0,r}function rc(e){var r=e.l,n=Mt(r);return e.l=n,Ut(e)}function nc(e){var r=e.r,n=Ut(r);return e.r=n,Mt(e)}function Fn(e){var r=ge(e.l),n=ge(e.r);return e.h=(r>n?r:n)+1|0,e}function Dt(e){var r=e.l,n=e.r,t=ge(r),i=ge(n);if(t>(2+i|0)){var o=r.l,a=r.r;return lo(o,a)?Fn(Ut(e)):Fn(rc(e))}if(i>(2+t|0)){var u=n.l,s=n.r;return lo(s,u)?Fn(Mt(e)):Fn(nc(e))}return e.h=(t>i?t:i)+1|0,e}function Nt(e,r,n,t){if(e===void 0)return he(r,n);var i=e.k,o=t(r,i);if(o===0)return e.v=n,e;var a=e.l,u=e.r;if(o<0){var s=Nt(a,r,n,t);e.l=s}else e.r=Nt(u,r,n,t);return Dt(e)}function yo(e,r){var n=e.length;if(n!==0){var t=Jr(e,function(u,s){return r(u[0],s[0])<0}),i;t>=0?i=mn(e,0,t):(t=-t|0,i=vn(e,t-1|0,t));for(var o=t;o<n;++o){var a=e[o];i=Nt(i,a[0],a[1],r)}return i}}function It(e,r,n){if(e===void 0)return he(r,n);var t=e.k;if(r===t)return e.k=r,e.v=n,e;var i=e.l,o=e.r;if(r<t){var a=It(i,r,n);e.l=a}else e.r=It(o,r,n);return Dt(e)}function Ao(e){var r=e.length;if(r!==0){var n=Jr(e,function(a,u){return a[0]<u[0]}),t;n>=0?t=mn(e,0,n):(n=-n|0,t=vn(e,n-1|0,n));for(var i=n;i<r;++i){var o=e[i];t=It(t,o[0],o[1])}return t}}var Oo=Ao;var T_=ye.string_;function g(e){return e}function A(e){return T(tn(e),["Not a JSON string: ",String(e)])}var j_=Oo([[" ",.3],["!",.33],[".",.33],[",",.33],[";",.33],[":",.33],['"',.4],["'",.25],["/",.35],["\\",.35],["@",1.2],["#",.66],["$",.66],["\xC2\xA3",.66],["&",.8],["*",.45],["(",.4],[")",.4],["[",.4],["]",.4],["{",.4],["}",.4],["|",.3],["+",.7],["-",.4],["\xE2\x80\x93",.66],["\xE2\x80\x94",1.15],["=",.7],["_",.66],["0",.66],["1",.6],["2",.66],["3",.66],["4",.66],["5",.66],["6",.66],["7",.66],["8",.66],["9",.66],["a",.66],["b",.66],["c",.6],["d",.66],["e",.66],["f",.33],["g",.66],["h",.66],["i",.25],["j",.25],["k",.66],["l",.25],["m",1],["n",.66],["o",.66],["p",.66],["q",.66],["r",.4],["s",.66],["t",.33],["u",.66],["v",.65],["w",.9],["x",.66],["y",.66],["z",.66],["A",.8],["B",.8],["C",.85],["D",.85],["E",.8],["F",.75],["G",.95],["H",.85],["I",.33],["J",.6],["K",.8],["L",.66],["M",1],["N",.85],["O",.95],["P",.8],["Q",.95],["R",.85],["S",.8],["T",.65],["U",.85],["V",.8],["W",1.15],["X",.8],["Y",.8],["Z",.75]]);var ir=g,or=A;function Jc(e){switch(e){case 0:return"Semantic";case 1:return"Auxiliary";case 2:return"Arbitrary"}}function Ec(e){switch(e){case"Arbitrary":return 2;case"Auxiliary":return 1;case"Semantic":return 0;default:return}}function Ce(e){return g(Jc(e))}function Ge(e){return v(A(e),function(r){return T(Ec(r),["Function '",r,"' is not one of Semantic, Auxiliary, or Arbitrary"])})}function So(e){var r=e.cmp,n=We(r);return{cmp:n}}function Jo(e){for(var r=Object.keys(e),n=r.length,t=new Array(n),i=0;i<n;++i){var o=r[i];t[i]=[o,e[o]]}return t}function Eo(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function qn(e,r,n,t){if(e===void 0)return he(r,n);var i=e.k,o=t(r,i);if(o===0)return fn(e,n);var a=e.l,u=e.r,s=e.v;return o<0?Ae(qn(a,r,n,t),i,s,u):Ae(a,i,s,qn(u,r,n,t))}function Pn(e,r,n,t){if(e!==void 0){var i=e.k,o=t(r,i);if(o===0){var a=n(H(e.v));if(a!==void 0)return fn(e,K(a));var u=e.l,s=e.r;if(u===void 0)return s;if(s===void 0)return u;var c={contents:s.k},f={contents:s.v},l=$r(s,c,f);return Ae(u,c.contents,f.contents,l)}var d=e.l,m=e.r,_=e.v;if(o<0){var $=Pn(d,r,n,t);return d===$?e:Ae($,i,_,m)}var W=Pn(m,r,n,t);return m===W?e:Ae(d,i,_,W)}var h=n(void 0);return h!==void 0?he(r,K(h)):e}function Vt(e,r,n){var t=e.k,i=e.l,o=e.r,a=n(r,t);if(a===0){if(i===void 0)return o;if(o===void 0)return i;var u={contents:o.k},s={contents:o.v},c=$r(o,u,s);return Ae(i,u.contents,s.contents,c)}if(a<0){if(i===void 0)return e;var f=Vt(i,r,n);return f===i?e:Ae(f,t,e.v,o)}if(o===void 0)return e;var l=Vt(o,r,n);return l===o?e:Ae(i,t,e.v,l)}function Bo(e,r,n){if(e!==void 0)return Vt(e,r,n)}function Hn(e,r,n,t){var i=e.k,o=e.v,a=e.l,u=e.r,s=t(r,i);if(s===0)return n.contents=H(o),[a,u];if(s<0){if(a===void 0)return[void 0,e];var c=Hn(a,r,n,t);return[c[0],Qe(c[1],i,o,u)]}if(u===void 0)return[e,void 0];var f=Hn(u,r,n,t);return[Qe(a,i,o,f[0]),f[1]]}function Ir(e,r,n,t){if(e===void 0)return r!==void 0?dn(r,function(j,k){return n(j,void 0,H(k))}):void 0;if(r===void 0)return dn(e,function(j,k){return n(j,H(k),void 0)});if(e.h>=r.h){var i=e.k,o=e.v,a=e.l,u=e.r,s={contents:void 0},c=Hn(r,i,s,t),f=s.contents,l=Ir(a,c[0],n,t),d=n(i,H(o),f),m=Ir(u,c[1],n,t);return xn(l,i,d,m)}var _=r.k,$=r.v,W=r.l,h=r.r,R={contents:void 0},G=Hn(e,_,R,t),ee=R.contents,q=Ir(G[0],W,n,t),P=n(_,ee,H($)),re=Ir(G[1],h,n,t);return xn(q,_,P,re)}var Co=wt,Go=Wo;var wo=Vn;var Lo=Lt,To=Tt,jo=yo,ko=jt,Uo=kt;var Mo=$o;var Do=ln;var No=pn;function Io(e,r){var n=r.cmp;return{cmp:n,data:jo(e,n)}}function Vo(e,r){var n=e.data,t=e.cmp,i=Bo(n,r,t);return i===n?e:{cmp:t,data:i}}function xt(e,r,n){var t=e.cmp;return{cmp:t,data:qn(e.data,r,n,t)}}function Bc(e,r,n){var t=e.cmp;return{cmp:t,data:Pn(e.data,r,n,t)}}function xo(e,r,n){return Bc(e,r,Y(n))}function Cc(e,r,n){var t=e.cmp;return{cmp:t,data:Ir(e.data,r.data,n,t)}}function Fo(e,r,n){return Cc(e,r,tr(n))}function Ft(e){return{cmp:e.cmp,data:void 0}}function qo(e){return Co(e.data)}function Po(e,r){return wo(e.data,We(r))}function Gc(e,r){return{cmp:e.cmp,data:Do(e.data,r)}}function Ho(e,r){return Gc(e,Y(r))}function wc(e,r){return{cmp:e.cmp,data:No(e.data,r)}}function Ko(e,r){return wc(e,We(r))}function qt(e){return Lo(e.data)}function zo(e){return To(e.data)}function Xo(e){return ko(e.data)}function Qo(e){return Uo(e.data)}function Zo(e,r){return Mo(e.data,r,e.cmp)}function Yo(e,r){return Go(e.data,r,e.cmp)}function we(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n}}function Le(e){return{v:e,h:1,l:void 0,r:void 0}}function Kn(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function Ve(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;if(t>(i+2|0)){var o=e.l,a=e.r;return Kn(o,a)?we(o,e.v,we(a,r,n)):we(we(o,e.v,a.l),a.v,we(a.r,r,n))}if(i<=(t+2|0))return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n};var u=n.l,s=n.r;return Kn(s,u)?we(we(e,r,u),n.v,s):we(we(e,r,u.l),u.v,we(u.r,n.v,s))}function zn(e,r){var n=e.l;return n!==void 0?Ve(zn(n,r),e.v,e.r):(r.contents=e.v,e.r)}function ea(e){return e===void 0}function ra(e,r){return e!==void 0?Ve(ra(e.l,r),e.v,e.r):Le(r)}function na(e,r){return e!==void 0?Ve(e.l,e.v,na(e.r,r)):Le(r)}function xe(e,r,n){if(e===void 0)return ra(n,r);if(n===void 0)return na(e,r);var t=e.h,i=n.h;return t>(i+2|0)?Ve(e.l,e.v,xe(e.r,r,n)):i>(t+2|0)?Ve(xe(e,r,n.l),n.v,n.r):we(e,r,n)}function ta(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.v},t=zn(r,n);return xe(e,n.contents,t)}function Xn(e){var r=e.l,n=e.r,t=r!==void 0?Xn(r):0,i=n!==void 0?Xn(n):0;return(1+t|0)+i|0}function ia(e){return e!==void 0?Xn(e):0}function oa(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;r={hd:t.v,tl:oa(t.r,n)},e=t.l}}function aa(e){return oa(e,0)}function ua(e,r,n){for(;;){var t=r,i=e,o=i.v,a=i.l,u=i.r,s=a!==void 0?ua(a,t,n):t;n[s]=o;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function sa(e){if(e===void 0)return[];var r=Xn(e),n=new Array(r);return ua(e,0,n),n}function Pt(e,r,n){switch(n){case 0:return;case 1:return Le(e[r]);case 2:var t=e[r],i=e[r-1|0];return{v:i,h:2,l:Le(t),r:void 0};case 3:var o=e[r],a=e[r-1|0],u=e[r-2|0];return{v:a,h:2,l:Le(o),r:Le(u)};default:var s=n/2|0,c=Pt(e,r,s),f=e[r-s|0],l=Pt(e,(r-s|0)-1|0,(n-s|0)-1|0);return we(c,f,l)}}function Ht(e,r,n){switch(n){case 0:return;case 1:return Le(e[r]);case 2:var t=e[r],i=e[r+1|0];return{v:i,h:2,l:Le(t),r:void 0};case 3:var o=e[r],a=e[r+1|0],u=e[r+2|0];return{v:a,h:2,l:Le(o),r:Le(u)};default:var s=n/2|0,c=Ht(e,r,s),f=e[r+s|0],l=Ht(e,(r+s|0)+1|0,(n-s|0)-1|0);return we(c,f,l)}}function ca(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.v,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function Kt(e){var r=e.l;e.l=r.r,r.r=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var a=r.l,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function zt(e){var r=e.r;e.r=r.l,r.l=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var a=r.r,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function Lc(e){var r=e.l,n=zt(r);return e.l=n,Kt(e)}function Tc(e){var r=e.r,n=Kt(r);return e.r=n,zt(e)}function Qn(e){var r=e.l,n=r!==void 0?r.h:0,t=e.r,i=t!==void 0?t.h:0;return e.h=(n>i?n:i)+1|0,e}function jc(e){var r=e.l,n=e.r,t=r!==void 0?r.h:0,i=n!==void 0?n.h:0;if(t>(2+i|0)){var o=r.l,a=r.r;return Kn(o,a)?Qn(Kt(e)):Qn(Lc(e))}if(i>(2+t|0)){var u=n.l,s=n.r;return Kn(s,u)?Qn(zt(e)):Qn(Tc(e))}return e.h=(t>i?t:i)+1|0,e}function Xt(e,r,n){if(r===void 0)return Le(n);var t=r.v,i=e(n,t);if(i===0)return r;var o=r.l,a=r.r;if(i<0){var u=Xt(e,o,n);r.l=u}else r.r=Xt(e,a,n);return jc(r)}function fa(e,r){var n=e.length;if(n!==0){var t=Jr(e,function(a,u){return r(a,u)<0}),i;t>=0?i=Ht(e,0,t):(t=-t|0,i=Pt(e,t-1|0,t));for(var o=t;o<n;++o)i=Xt(r,i,e[o]);return i}}function Vr(e,r,n){if(e===void 0)return Le(r);var t=e.v,i=n(r,t);if(i===0)return e;var o=e.l,a=e.r;if(i<0){var u=Vr(o,r,n);return u===o?e:Ve(u,t,a)}var s=Vr(a,r,n);return s===a?e:Ve(o,t,s)}function Zn(e,r,n){if(e===void 0)return e;var t=e.v,i=e.l,o=e.r,a=n(r,t);if(a===0){if(i===void 0)return o;if(o===void 0)return i;var u={contents:o.v},s=zn(o,u);return Ve(i,u.contents,s)}if(a<0){var c=Zn(i,r,n);return c===i?e:Ve(c,t,o)}var f=Zn(o,r,n);return f===o?e:Ve(i,t,f)}function Yn(e,r,n){var t=r.v,i=r.l,o=r.r,a=e(n,t);if(a===0)return[i,o];if(a<0){if(i===void 0)return[void 0,r];var u=Yn(e,i,n);return[u[0],xe(u[1],t,o)]}if(o===void 0)return[r,void 0];var s=Yn(e,o,n);return[xe(i,t,s[0]),s[1]]}function Qt(e,r,n,t){var i=r.v,o=r.l,a=r.r,u=e(n,i);if(u===0)return t.contents=!0,[o,a];if(u<0){if(o===void 0)return[void 0,r];var s=Qt(e,o,n,t);return[s[0],xe(s[1],i,a)]}if(a===void 0)return[r,void 0];var c=Qt(e,a,n,t);return[xe(o,i,c[0]),c[1]]}function xr(e,r,n){if(e===void 0)return r;if(r===void 0)return e;var t=e.h,i=r.h;if(t>=i){if(i===1)return Vr(e,r.v,n);var o=e.v,a=e.l,u=e.r,s=Yn(n,r,o);return xe(xr(a,s[0],n),o,xr(u,s[1],n))}if(t===1)return Vr(r,e.v,n);var c=r.v,f=r.l,l=r.r,d=Yn(n,e,c);return xe(xr(d[0],f,n),c,xr(d[1],l,n))}function et(e,r,n){if(e!==void 0&&r!==void 0){var t=e.v,i=e.l,o=e.r,a={contents:!1},u=Qt(n,r,t,a),s=et(i,u[0],n),c=et(o,u[1],n);return a.contents?xe(s,t,c):ta(s,c)}}var la=fa;var pa=ea,da=ca;var _a=ia,va=aa,ma=sa;function ha(e,r){var n=r.cmp;return{cmp:n,data:la(e,n)}}function ba(e,r){var n=e.data,t=e.cmp,i=Zn(n,r,t);return i===n?e:{cmp:t,data:i}}function Zt(e,r){var n=e.data,t=e.cmp,i=Vr(n,r,t);return i===n?e:{cmp:t,data:i}}function Ra(e,r){var n=e.cmp;return{cmp:n,data:xr(e.data,r.data,n)}}function $a(e,r){var n=e.cmp;return{cmp:n,data:et(e.data,r.data,n)}}function Wa(e){return{cmp:e.cmp,data:void 0}}function ya(e){return pa(e.data)}function ga(e){return _a(e.data)}function Yt(e){return va(e.data)}function Aa(e){return ma(e.data)}function Oa(e,r){return da(e.data,r,e.cmp)}var Mm=ye.int_;function Wr(e){return e}function yr(e){return O(E(gt(e),"JSON is not a number (reading Int)"),function(r){return r|0})}function Sa(e,r){return e.toString(r)}function Ja(e,r){return parseInt(e,r)}var nh=ye.option_;function Ea(e){var r=e[1];return Et(e[0],function(n){return Br(r,function(t){return[n,t]})})}function ie(e,r){return e!==void 0?p(r,K(e)):null}function oe(e,r){return e===null?ne(void 0):O(p(r,e),function(n){return H(n)})}var gr=Di;var rt=Br;var hn=Vi,Ba=xi,ar=Fi;var Ub=ye.list_;function Ca(e){return!e}function z(e,r){return an(Gn(e,r))}function X(e,r){return v(E(Or(e),"JSON is not a valid array (reading list)"),function(n){return ue(Gn(Er(n),r))})}var nt=Jt;var ke=Cn;var Ga=ki;var B=Gn;var fe=Er;var Fr=wn;var ur=0;var Zb=ye.int_,ei={counter:Date.now()|0};function wa(e){var r=ei.counter;return ei.counter=ei.counter+1|0,r}function La(e){return Nr(e,0,function(r,n){return(r<<1)+n|0})}function w(e){return Sa(e,16)}function qr(e){return Ja(e,16)}function N(e){return g(w(e))}function I(e){return O(A(e),qr)}function Dc(e,r){return Qi(e,r)?1:Zi(e,r)?-1:0}var bn=So({cmp:Dc}),Ta=Wa(bn);function ja(e){return Fr(e,Ta,Zt)}function Nc(e){return ha(e,bn)}function Ic(e){return z(Yt(e),N)}function Vc(e){return O(X(e,I),ja)}function xc(e){return Ft(bn)}function ka(e){return Fr(e,Ft(bn),function(r,n){return xt(r,n[0],n[1])})}function Fc(e){return Io(e,bn)}function qc(e,r){return Eo(B(qt(e),function(n){return[w(n[0]),p(r,n[1])]}))}function Pc(e,r){return v(E(gi(e),"JSON is not an object (reading UUID)"),function(n){return O(ue(fe(Ee(Jo(n),function(t){var i=t[0];return O(p(r,t[1]),function(o){return[qr(i),o]})}))),ka)})}var Se={toJson:Ic,fromJson:Vc,empty:Ta,isEmpty:ya,has:Oa,add:Zt,remove:ba,union:Ra,intersect:$a,size:ga,toList:Yt,fromList:ja,toArray:Aa,fromArray:Nc},J={toJson:qc,fromJson:Pc,empty:xc,isEmpty:qo,has:Yo,set:xt,get:Zo,remove:Vo,update:xo,map:Ho,mapWithKey:Ko,forEach:Po,merge:Fo,keys:Xo,values:Qo,toList:qt,toArray:zo,fromList:ka,fromArray:Fc};var tR=ye.bool_;function le(e){return e}function pe(e){return E(Ai(e),"JSON is not a valid boolean")}function de(e,r,n,t,i){return Fr(e,[r,n],function(o,a){var u=o[1],s=o[0];if(Se.has(u,je(t,a)))return[s,u];var c=Sn(i,a,u);return[Ga(s,c[0]),Se.union(u,c[1])]})}function _e(e,r,n,t,i,o,a,u){return v(e,function(s){return Fr(s,ne([i,o,a,u]),function(c,f){var l=function(d,m,_){return m!==void 0?ae(nn(m)):_!==void 0?ae(nn(_)):void 0};return v(c,function(d){var m=d[3],_=d[2],$=d[1],W=d[0],h;switch(t){case 0:h=J.has(W,f);break;case 1:h=J.has($,f);break;case 2:h=J.has(_,f);break;case 3:h=J.has(m,f);break}return h?ne([W,$,_,m]):O(Ri(r,n,f,W,$,_,m),function(R){return[J.merge(W,R[0],l),J.merge($,R[1],l),J.merge(_,R[2],l),J.merge(m,R[3],l)]})})})})}function Ua(e,r,n){var t=function(c){return c.id},i=function(c){return te({hd:ze(c.explicit===!ar(c.graphic),["Token '",w(c.id),"' must be explicit iff it has a graphic instance"]),tl:{hd:te(B(c.sub_tokens,i)),tl:{hd:te(B(c.anchored_tokens,i)),tl:{hd:te(B(c.anchored_dimensions,e.validate)),tl:{hd:te(B(c.anchored_schemes,r.validate)),tl:{hd:te(B(c.anchored_representations,n.validate)),tl:0}}}}}})},o=function(c,f){var l=Se.add(f,c.id),d=de(c.sub_tokens,ur,l,t,o),m=de(c.anchored_tokens,d[0],d[1],t,o),_=de(c.anchored_dimensions,m[0],m[1],e.id,e._toJsonHelper),$=de(c.anchored_schemes,_[0],_[1],r.id,r._toJsonHelper),W=de(c.anchored_representations,$[0],$[1],n.id,n._toJsonHelper);return[ke(W[0],[c.id,x({hd:["concept",g(c.concept)],tl:{hd:["graphic",ie(c.graphic,ir)],tl:{hd:["is_class",le(c.is_class)],tl:{hd:["function",Ce(c.function)],tl:{hd:["explicit",le(c.explicit)],tl:{hd:["sub_tokens",z(B(c.sub_tokens,t),N)],tl:{hd:["anchored_tokens",z(B(c.anchored_tokens,t),N)],tl:{hd:["anchored_dimensions",z(B(c.anchored_dimensions,e.id),N)],tl:{hd:["anchored_schemes",z(B(c.anchored_schemes,r.id),N)],tl:{hd:["anchored_representations",z(B(c.anchored_representations,n.id),N)],tl:0}}}}}}}}}})]),W[1]]},a=function(c){return x(ke(B(o(c,Se.empty)[0],function(f){return[w(f[0]),f[1]]}),["start",N(c.id)]))},u=function(c,f,l,d,m,_){return v(L(L(T(U(c,w(f)),["Cannot find object matching ID '",w(f),"'"]),"Reading Schema.Token.t"),"Reading ID ".concat(w(f))),function($){return v(E(D($),"JSON is not a valid object"),function(W){var h=function(C,Z){return v(T(U(W,C),["Unable to find key '",C,"'"]),Z)},R=h("concept",A),G=h("graphic",function(C){return oe(C,or)}),ee=h("is_class",pe),q=h("function",Ge),P=h("explicit",pe),re=h("sub_tokens",function(C){return X(C,I)}),j=h("anchored_tokens",function(C){return X(C,I)}),k=h("anchored_dimensions",function(C){return X(C,I)}),b=h("anchored_schemes",function(C){return X(C,I)}),y=h("anchored_representations",function(C){return X(C,I)});return v(_e(L(re,"Reading sub-tokens"),u,c,3,l,d,m,_),function(C){return v(_e(L(j,"Reading anchored tokens"),u,c,3,C[0],C[1],C[2],C[3]),function(Z){return v(_e(L(k,"Reading anchored dimensions"),e._fromJsonHelper,c,2,Z[0],Z[1],Z[2],Z[3]),function(be){return v(_e(L(b,"Reading anchored schemes"),r._fromJsonHelper,c,1,be[0],be[1],be[2],be[3]),function(Re){var Je=Re[3],Fe=Re[2],Ke=Re[1],nr=Re[0];return v(_e(L(y,"Reading anchored schemes"),n._fromJsonHelper,c,0,nr,Ke,Fe,Je),function(qe){var S=qe[3],M=qe[2],lr=qe[1],pr=qe[0],Me=function(Q,$e){return T(J.get(Q,$e),["Unable to find value with ID '",w($e),"' (reading Schema.Token.t)"])},dr=v(L(re,"Loading sub-tokens"),function(Q){return ue(B(Q,function($e){return Me(S,$e)}))}),_r=v(L(j,"Loading anchored tokens"),function(Q){return ue(B(Q,function($e){return Me(S,$e)}))}),vr=v(L(k,"Loading anchored dimensions"),function(Q){return ue(B(Q,function($e){return Me(M,$e)}))}),en=v(L(b,"Loading anchored schemes"),function(Q){return ue(B(Q,function($e){return Me(lr,$e)}))}),rn=v(L(y,"Loading anchored representations"),function(Q){return ue(B(Q,function($e){return Me(pr,$e)}))});return v(ao([R,G,ee,q,P,dr,_r,vr,en,rn]),function(Q){var $e=Q[0],bt=Q[1],Rt=Q[2],Fu=Q[3],qu=Q[4],Pu=Q[5],Hu=Q[6],Ku=Q[7],zu=Q[8],Xu=Q[9],Qu={id:f,concept:$e,graphic:bt,is_class:Rt,function:Fu,explicit:qu,sub_tokens:Pu,anchored_tokens:Hu,anchored_dimensions:Ku,anchored_schemes:zu,anchored_representations:Xu};return L(ne([nr,Ke,Fe,J.set(Je,f,Qu)]),"Successfully read Token with ID ".concat(w(f)))})})})})})})})})},s=function(c){return v(E(D(c),"JSON is not a valid object (reading Schema.Token.t)"),function(f){var l=v(E(U(f,"start"),"Unable to find start of model (reading Schema.Token.t)"),I);return v(l,function(d){return v(u(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(m){return E(J.get(m[3],d),"Missing start of model (reading Schema.Token.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:a,_fromJsonHelper:u,fromJson:s}}var Ma=function(e,r){var n;if(Array.isArray(r)){for(n=0;n<r.length;++n)e[n]=r[n];r.TAG!==void 0&&(e.TAG=r.TAG)}else for(var n in r)e[n]=r[n]};function Hc(e){switch(e){case"Global":return 0;case"Local":return 1;default:return}}function Ze(e){return g(e?"Local":"Global")}function Ye(e){return v(A(e),function(r){return T(Hc(r),["Scope '",r,"' is not one of Global or Local"])})}function Kc(e){return{TAG:0,_0:e}}function ri(e){if(!!e){var r=e.tl,n=e.hd;return r?{TAG:1,_0:n,_1:gr(ri(r))}:{TAG:0,_0:n}}}function sr(e){return e.TAG===0?{hd:e._0,tl:0}:{hd:e._0,tl:sr(e._1)}}function Da(e){return ri(fe(e))}function ni(e){return e.TAG===0?1:1+ni(e._1)|0}function Pr(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0)}:{TAG:1,_0:p(r,e._0),_1:Pr(e._1,r)}}function ti(e){return e.TAG===0?O(e._0,Kc):O(me([e._0,ti(e._1)]),function(r){return{TAG:1,_0:r[0],_1:r[1]}})}function Na(e,r){return z(sr(e),r)}function Ia(e,r){return v(X(e,r),function(n){return E(ri(n),"Non-empty list is empty when reading JSON")})}function Va(e,r){var n=function(s){return s.id},t=function(s){return te({hd:ze(s.explicit===!ar(s.graphic_structure),["Scheme '",w(s.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:ze(ni(s.dimensions)>2||!Ca(s.tokens),["Scheme '",w(s.id),"' must have either at least two dimensions, or at least one dimension and one token"]),tl:{hd:te(B(s.tokens,r.validate)),tl:{hd:te(sr(Pr(s.dimensions,e.validate))),tl:{hd:te(B(s.schemes,t)),tl:0}}}}})},i=function(s,c){var f=Se.add(c,s.id),l=de(s.tokens,ur,f,r.id,r._toJsonHelper),d=de(sr(s.dimensions),l[0],l[1],e.id,e._toJsonHelper),m=de(s.schemes,d[0],d[1],n,i);return[ke(m[0],[s.id,x({hd:["concept_structure",g(s.concept_structure)],tl:{hd:["graphic_structure",ie(s.graphic_structure,ir)],tl:{hd:["function",Ce(s.function)],tl:{hd:["explicit",le(s.explicit)],tl:{hd:["scope",Ze(s.scope)],tl:{hd:["tokens",z(B(s.tokens,r.id),N)],tl:{hd:["dimensions",Na(Pr(s.dimensions,e.id),N)],tl:{hd:["schemes",z(B(s.schemes,n),N)],tl:{hd:["organisation",g(s.organisation)],tl:0}}}}}}}}})]),m[1]]},o=function(s){return x(ke(B(i(s,Se.empty)[0],function(c){return[w(c[0]),c[1]]}),["start",N(s.id)]))},a=function(s,c,f,l,d,m){return v(L(L(T(U(s,w(c)),["Cannot find object matching ID '",w(c),"'"]),"Reading Schema.Scheme.t"),"Reading ID ".concat(w(c))),function(_){return v(E(D(_),"JSON is not a valid object (reading Scheme.Scheme.t)"),function($){var W=function(b,y){return v(T(U($,b),["Unable to find key '",b,"' (reading Schema.Scheme.t)"]),y)},h=W("concept_structure",A),R=W("graphic_structure",function(b){return oe(b,or)}),G=W("function",Ge),ee=W("explicit",pe),q=W("scope",Ye),P=W("organisation",A),re=W("tokens",function(b){return X(b,I)}),j=W("dimensions",function(b){return Ia(b,I)}),k=W("schemes",function(b){return X(b,I)});return v(_e(L(re,"Reading tokens"),r._fromJsonHelper,s,3,f,l,d,m),function(b){return v(_e(O(L(j,"Reading dimensions"),sr),e._fromJsonHelper,s,2,b[0],b[1],b[2],b[3]),function(y){return v(_e(L(k,"Reading schemes"),a,s,1,y[0],y[1],y[2],y[3]),function(C){var Z=C[3],be=C[2],Re=C[1],Je=C[0],Fe=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"' (reading Schema.Scheme.t)"])},Ke=v(L(re,"Loading tokens"),function(S){return ue(B(S,function(M){return Fe(Z,M)}))}),nr=v(L(j,"Loading dimensions"),function(S){return ti(Pr(S,function(M){return Fe(be,M)}))}),qe=v(L(k,"Loading schemes"),function(S){return ue(B(S,function(M){return Fe(Re,M)}))});return v(oo([h,R,G,ee,q,Ke,nr,qe,P]),function(S){var M=S[0],lr=S[1],pr=S[2],Me=S[3],dr=S[4],_r=S[5],vr=S[6],en=S[7],rn=S[8],Q={id:c,concept_structure:M,graphic_structure:lr,function:pr,explicit:Me,scope:dr,tokens:_r,dimensions:vr,schemes:en,organisation:rn};return L(ne([Je,J.set(Re,c,Q),be,Z]),"Successfully read Scheme with ID ".concat(w(c)))})})})})})})},u=function(s){return v(E(D(s),"JSON is not a valid object (reading Schema.Scheme.t)"),function(c){var f=v(E(U(c,"start"),"Unable to find start of model (reading Schema.Scheme.t)"),I);return v(f,function(l){return v(a(c,l,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(d){return E(J.get(d[1],l),"Missing start of model (reading Schema.Scheme.t)")})})})};return{id:n,validate:t,_toJsonHelper:i,toJson:o,_fromJsonHelper:a,fromJson:u}}function Rn(e,r){var n=function(a){throw{RE_EXN_ID:"Undefined_recursive_module",_1:e,Error:new Error}},t=function(a,u,s){if(typeof a=="number")switch(a){case 0:u[s]=n;return;case 1:u[s]={LAZY_DONE:!0,VAL:n};return;case 2:u[s]=[n,n,n,0];return}else{if(a.TAG===0){var c=a._0,f={};u[s]=f;for(var l=c.length,d=0;d<l;++d){var m=c[d];t(m[0],f,m[1])}return}u[s]=a._0;return}},i={},o="dummy";return t(r,i,o),i[o]}function $n(e,r,n){var t=function(c,f,l,d,m){if(typeof c=="number")switch(c){case 0:d[m]=l;return;case 1:case 2:return Ma(f,l)}else{if(c.TAG!==0)return;for(var _=c._0,$=0,W=_.length;$<W;++$){var h=_[$],R=h[1];t(h[0],f[R],l[R],f,R)}return}};if(typeof e=="number")throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error};if(e.TAG===0){for(var i=e._0,o=0,a=i.length;o<a;++o){var u=i[o],s=u[1];t(u[0],r[s],n[s],r,s)}return}throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error}}function zc(e){switch(e){case 0:return"Nominal";case 1:return"Ordinal";case 2:return"Interval";case 3:return"Ratio"}}function Xc(e){switch(e){case"Interval":return 2;case"Nominal":return 0;case"Ordinal":return 1;case"Ratio":return 3;default:return}}function cr(e){return g(zc(e))}function fr(e){return v(A(e),function(r){return T(Xc(r),["Quantity scale '",r,"' is not one of Nominal, Ordinal, Interval, or Ratio"])})}var tt=g,it=A;var ot=g,at=A;function xa(e){var r=function(u){return u.id},n=function(u){return te({hd:io(u.concept!=="","Dimension concept cannot be empty"),tl:{hd:ze(u.explicit===!ar(u.graphic),["Dimension '",w(u.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:te(B(u.dimensions,n)),tl:{hd:te(B(u.tokens,e.validate)),tl:0}}}})},t=function(u,s){var c=Se.add(s,u.id),f=de(u.dimensions,ur,c,r,t),l=de(u.tokens,f[0],f[1],e.id,e._toJsonHelper);return[ke(l[0],[u.id,x({hd:["concept",g(u.concept)],tl:{hd:["concept_scale",cr(u.concept_scale)],tl:{hd:["concept_attributes",z(u.concept_attributes,tt)],tl:{hd:["graphic",ie(u.graphic,ir)],tl:{hd:["graphic_scale",cr(u.graphic_scale)],tl:{hd:["graphic_attributes",z(u.graphic_attributes,ot)],tl:{hd:["function",Ce(u.function)],tl:{hd:["scope",Ze(u.scope)],tl:{hd:["explicit",le(u.explicit)],tl:{hd:["dimensions",z(B(u.dimensions,r),N)],tl:{hd:["tokens",z(B(u.tokens,e.id),N)],tl:{hd:["organisation",g(u.organisation)],tl:0}}}}}}}}}}}})]),l[1]]},i=function(u){return x(ke(B(t(u,Se.empty)[0],function(s){return[w(s[0]),s[1]]}),["start",N(u.id)]))},o=function(u,s,c,f,l,d){return v(L(L(T(U(u,w(s)),["Cannot find object matching ID '",w(s),"'"]),"Reading Schema.Dimension.t"),"Reading ID ".concat(w(s))),function(m){return v(E(D(m),"JSON is not a valid object"),function(_){var $=function(C,Z){return v(T(U(_,C),["Unable to find key '",C,"'"]),Z)},W=$("concept",A),h=$("concept_scale",fr),R=$("concept_attributes",function(C){return X(C,it)}),G=$("graphic",function(C){return oe(C,or)}),ee=$("graphic_scale",fr),q=$("graphic_attributes",function(C){return X(C,at)}),P=$("function",Ge),re=$("scope",Ye),j=$("explicit",pe),k=$("organisation",A),b=$("dimensions",function(C){return X(C,I)}),y=$("tokens",function(C){return X(C,I)});return v(_e(L(b,"Reading dimensions"),o,u,2,c,f,l,d),function(C){return v(_e(L(y,"Reading tokens"),e._fromJsonHelper,u,3,C[0],C[1],C[2],C[3]),function(Z){var be=Z[3],Re=Z[2],Je=Z[1],Fe=Z[0],Ke=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"' (reading Schema.Scheme.t)"])},nr=v(L(b,"Loading dimensions"),function(S){return ue(B(S,function(M){return Ke(Re,M)}))}),qe=v(L(y,"Loading tokens"),function(S){return ue(B(S,function(M){return Ke(be,M)}))});return v(uo([W,h,R,G,ee,q,P,re,j,nr,qe,k]),function(S){var M=S[0],lr=S[1],pr=S[2],Me=S[3],dr=S[4],_r=S[5],vr=S[6],en=S[7],rn=S[8],Q=S[9],$e=S[10],bt=S[11],Rt={id:s,concept:M,concept_scale:lr,concept_attributes:pr,graphic:Me,graphic_scale:dr,graphic_attributes:_r,function:vr,scope:en,explicit:rn,dimensions:Q,tokens:$e,organisation:bt};return L(ne([Fe,Je,J.set(Re,s,Rt),be]),"Successfully read Dimension with ID ".concat(w(s)))})})})})})},a=function(u){return v(E(D(u),"JSON is not a valid object (reading Schema.Dimension.t)"),function(s){var c=v(E(U(s,"start"),"Unable to find start of model (reading Schema.Dimension.t)"),I);return v(c,function(f){return v(o(s,f,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(l){return E(J.get(l[2],f),"Missing start of model (reading Schema.Dimension.t)")})})})};return{id:r,validate:n,_toJsonHelper:t,toJson:i,_fromJsonHelper:o,fromJson:a}}function Fa(e,r,n){var t=function(c){return c.id},i=function(c){return te({hd:ze(nt(c.tokens)>0||nt(c.dimensions)>0||nt(c.schemes)>0,["Representation '",w(c.id),"' must have at least one token, dimension, or scheme"]),tl:{hd:te(B(c.tokens,e.validate)),tl:{hd:te(B(c.dimensions,r.validate)),tl:{hd:te(B(c.schemes,n.validate)),tl:{hd:te(B(c.subrepresentations,i)),tl:0}}}}})},o=function(c,f){var l=Se.add(f,c.id),d=de(c.tokens,ur,l,e.id,e._toJsonHelper),m=de(c.dimensions,d[0],d[1],r.id,r._toJsonHelper),_=de(c.schemes,m[0],m[1],n.id,n._toJsonHelper),$=de(c.subrepresentations,_[0],_[1],t,o);return[ke($[0],[c.id,x({hd:["domain",g(c.domain)],tl:{hd:["display",ir(c.display)],tl:{hd:["tokens",z(B(c.tokens,e.id),N)],tl:{hd:["dimensions",z(B(c.dimensions,r.id),N)],tl:{hd:["schemes",z(B(c.schemes,n.id),N)],tl:{hd:["subrepresentations",z(B(c.subrepresentations,t),N)],tl:0}}}}}})]),$[1]]},a=function(c){return x(ke(B(o(c,Se.empty)[0],function(f){return[w(f[0]),f[1]]}),["start",N(c.id)]))},u=function(c,f,l,d,m,_){return v(L(L(T(U(c,w(f)),["Cannot find object matching ID '",w(f),"'"]),"Reading Schema.Representation.t"),"Reading ID ".concat(w(f))),function($){return v(E(D($),"JSON is not a valid object"),function(W){var h=function(j,k){return v(T(U(W,j),["Unable to find key '",j,"'"]),k)},R=h("domain",A),G=h("display",or),ee=h("tokens",function(j){return X(j,I)}),q=h("dimensions",function(j){return X(j,I)}),P=h("schemes",function(j){return X(j,I)}),re=h("subrepresentations",function(j){return X(j,I)});return v(_e(L(ee,"Reading tokens"),e._fromJsonHelper,c,3,l,d,m,_),function(j){return v(_e(L(q,"Reading dimensions"),r._fromJsonHelper,c,2,j[0],j[1],j[2],j[3]),function(k){return v(_e(L(P,"Reading schemes"),n._fromJsonHelper,c,1,k[0],k[1],k[2],k[3]),function(b){return v(_e(L(re,"Reading subrepresentations"),u,c,0,b[0],b[1],b[2],b[3]),function(y){var C=y[3],Z=y[2],be=y[1],Re=y[0],Je=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"'"])},Fe=v(L(ee,"Loading tokens"),function(S){return ue(B(S,function(M){return Je(C,M)}))}),Ke=v(L(q,"Loading dimensions"),function(S){return ue(B(S,function(M){return Je(Z,M)}))}),nr=v(L(P,"Loading schemes"),function(S){return ue(B(S,function(M){return Je(be,M)}))}),qe=v(L(re,"Loading subrepresentations"),function(S){return ue(B(S,function(M){return Je(Re,M)}))});return v(Mr([R,G,Fe,Ke,nr,qe]),function(S){var M=S[0],lr=S[1],pr=S[2],Me=S[3],dr=S[4],_r=S[5],vr={id:f,domain:M,display:lr,tokens:pr,dimensions:Me,schemes:dr,subrepresentations:_r};return L(ne([J.set(Re,f,vr),be,Z,C]),"Successfully read Representation with ID ".concat(w(f)))})})})})})})})},s=function(c){return v(E(D(c),"JSON is not a valid object (reading Schema.Representation.t)"),function(f){var l=v(E(U(f,"start"),"Unable to find start of model (reading Schema.Representation.t)"),I);return v(l,function(d){return v(u(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(m){return E(J.get(m[0],d),"Missing start of model (reading Schema.Representation.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:a,_fromJsonHelper:u,fromJson:s}}var qa=Rn(["Schema.res",18,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ut=Rn(["Schema.res",43,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ii=Rn(["Schema.res",65,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),st=Rn(["Schema.res",88,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),Hr=Fa(st,ut,ii);$n({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},qa,{id:Hr.id,validate:Hr.validate,toJson:Hr.toJson,fromJson:Hr.fromJson,_toJsonHelper:Hr._toJsonHelper,_fromJsonHelper:Hr._fromJsonHelper});var Kr=xa(st);$n({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ut,{id:Kr.id,validate:Kr.validate,toJson:Kr.toJson,fromJson:Kr.fromJson,_toJsonHelper:Kr._toJsonHelper,_fromJsonHelper:Kr._fromJsonHelper});var zr=Va(ut,st);$n({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ii,{id:zr.id,validate:zr.validate,toJson:zr.toJson,fromJson:zr.fromJson,_toJsonHelper:zr._toJsonHelper,_fromJsonHelper:zr._fromJsonHelper});var Xr=Ua(ut,ii,qa);$n({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},st,{id:Xr.id,validate:Xr.validate,toJson:Xr.toJson,fromJson:Xr.fromJson,_toJsonHelper:Xr._toJsonHelper,_fromJsonHelper:Xr._fromJsonHelper});function ct(e){return x({hd:["id",N(e.id)],tl:{hd:["nodes",hr(e.nodes,N)],tl:{hd:["message",g(e.message)],tl:{hd:["details",g(e.details)],tl:{hd:["suggestion",ie(e.suggestion,g)],tl:0}}}}})}function ft(e){return v(E(D(e),"Unable to parse object for ModelError"),function(r){var n=function(s,c){return v(T(U(r,s),["Unable to find key '",s,"'"]),c)},t=n("id",I),i=n("nodes",function(s){return br(s,I)}),o=n("message",A),a=n("details",A),u=n("suggestion",function(s){return oe(s,A)});return O(un([t,i,o,a,u]),function(s){return{id:s[0],nodes:s[1],message:s[2],details:s[3],suggestion:s[4]}})})}function Qc(e,r){var n=String(fo(Array.from(r,function(t){return gr(t.codePointAt(0))}),0,function(t,i,o){return o%5==0&&o<60?(t<<1)+(i-32|0)|0:t}));return qr(w(La(e))+n+"1")}function ve(e,r,n,t,i){return{id:Qc(e,r),nodes:e,message:r,details:n,suggestion:t}}var Pa=ct,Ha=ft,He=ve;function Ka(e,r){return e.TAG===0?{TAG:0,_0:r(e._0)}:{TAG:1,_0:e._0}}function Qr(e,r){return Ka(e,Y(r))}function za(e,r){return e.TAG===0?r(e._0):{TAG:1,_0:e._0}}function Xa(e,r){return za(e,Y(r))}function Qa(e,r){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:p(r,e._0)}}function Te(e,r){return e!==void 0?{TAG:0,_0:K(e)}:{TAG:1,_0:p(r,void 0)}}function Wn(e,r,n){return e.TAG===0?{TAG:1,_0:r}:{TAG:1,_0:p(n,[e._0,r])}}function se(e,r){var n=[],t=[];return Rr(e,function(i){if(i.TAG===0){n.push(i._0);return}t.push(i._0)}),t.length!==0?{TAG:1,_0:p(r,t)}:{TAG:0,_0:n}}function Ar(e,r){var n=[];return Rr(e,function(t){t.TAG!==0&&n.push(t._0)}),n.length!==0?{TAG:1,_0:p(r,n)}:{TAG:0,_0:void 0}}function Za(e,r){return Qr(se([e[0],e[1],e[2],e[3],e[4],e[5]],r),function(n){return n})}function Ya(e,r){return Qr(se([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]],r),function(n){return n})}function eu(e,r){return Qr(se([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]],r),function(n){return n})}function ru(e,r){return Qr(se([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14]],r),function(n){return n})}var ce=Qr;var er=Xa;function nu(e,r,n){return{first:e,second:r,kind:n}}function yn(e,r){return ve([],"Internal Error: "+e,r,"Notify Aaron about this so he can fix it :-) ",void 0)}function tu(e){return ve(e,"Schema has no parent, but it needs one.","All schemas, except for Representation schemas, must either be in the hierarchy, or be anchored below a Token in the hierarchy. This schema is neither in the hierarchy, nor anchored.","Connect this schema below another schema.",void 0)}function oi(e){return ve(e,'Missing "Function" of schema.','This schema requires a "Function" \xE2\x80\x93 whether it is semantic, auxiliary, or arbitrary. This has not been set.','Select the appropriate "Function" from the dropdown menu.',void 0)}function ai(e){return ve(e,'Missing whether schema is "Explicit".','This schema needs to be marked as "Explicit", or not, depending on whether it is explicit in the representation. This has not been set.','Select the appropriate "Explicit" value (Yes or No) from the dropdown menu.',void 0)}function iu(e){return ve(e,'Missing the "Scope" of the schema.','This schema is either "Global" or "Local" in "Scope". This has not been set.','Select the appropriate "Scope" value (Global or Local) from the dropdown menu.',void 0)}function ou(e,r){return ve(e,'Missing the "'+r+' Scale" of the R-dimension.',`This R-dimension's "`+r+' Scale" must be one of "Nominal", "Ordinal", "Interval", or "Ratio". This has not been set.','Select the appropriate "'+r+' Scale" value from the dropdown menu.',void 0)}function lt(e,r,n){return He(e,n+" is using default "+r+".","We give each "+n+" the default "+r+' "#Ref#", but this is intended only as a placeholder.',"Replace this "+n+"schema's "+r+".",void 0)}function F(e){return Nr(e,[[],[]],function(r,n){return[cn(r[0],n[0]),cn(r[1],n[1])]})}function Yc(e,r){var n=[],t=sn(e,function(s){return s[2]!==2}),i=sn(r,function(s){return ar(Dn(t,function(c){return s===c[1]}))}),o=i.slice(0),a=function(s){for(;;){var c=s;if(i.length===0)return;var f=gr($i(i.pop()));n.push(f),s=sn(c,function(l,d){return function(m){if(m[0]!==d)return!0;var _=m[1],$=sn(l,function(R){return _===R[1]}),W=$.length;if(W!==1)W!==0||i.push(_);else{var h=$[0];h===m&&i.push(_)}return!1}}(c,f))}};if(a(t),t.length!==0)return[o,n,[]];var u=Ee(t,function(s){return ve([s[0],s[1]],"Model has a cycle.","Models should not contain cycles \xE2\x80\x93 that is, the hierarchy and anchoring links should always connect a higher schema to a lower schema. We have found a situation where a lower schema is connected to a higher schema.","We've detected a cycle involving these nodes, but it might not be here precisely. Find the link going the 'wrong way', and remove it.",void 0)});return[o,n,u]}function gn(e,r,n,t){return so(e,function(i){var o=J.get(r,i);return o!==void 0?o[0]===n?er(o[1],function(a){var u=Sn(t,i,a);return u!==void 0?{TAG:0,_0:nn(u)}:{TAG:1,_0:[[],[]]}}):void 0:{TAG:1,_0:[[yn("MISSING","Expected node with ID "+w(i)+" is missing")],[]]}})}function ef(e,r,n,t){var i=function(m,_){return gn(t,n,m,_)},o=r.domain,a=o==="#Rep#"?{TAG:1,_0:[[],[He([e],"Representation is using default domain.",'We give each Representation the default name "#Rep#", but this is intended only as a placeholder.',"Replace this Representation schema's domain.",void 0)]]}:{TAG:0,_0:o},u=r.display,s=u==="#Ref#"?{TAG:1,_0:[[],[lt([e],"display","Representation")]]}:{TAG:0,_0:u},c=ce(se(i(3,function(m,_){if(_.TAG===3)return _._0}),F),fe),f=ce(se(i(2,function(m,_){if(_.TAG===2)return _._0}),F),fe),l=ce(se(i(1,function(m,_){if(_.TAG===1)return _._0}),F),fe),d=ce(se(i(0,function(m,_){if(_.TAG===0)return _._0}),F),fe);return ce(Za([a,s,c,f,l,d],F),function(m){return{TAG:0,_0:{id:e,domain:m[0],display:m[1],tokens:m[2],dimensions:m[3],schemes:m[4],subrepresentations:m[5]}}})}function rf(e,r,n,t){var i=function(R,G){return gn(t,n,R,G)},o=r.concept_structure,a=o==="#Sch#"?{TAG:1,_0:[[],[He([e],"R-Scheme is using default concept structure.",'We give each R-Scheme the default concept structure "#Sch#", but this is intended only as a placeholder.',"Replace this R-Scheme schema's concept structure.",void 0)]]}:{TAG:0,_0:o},u=r.graphic_structure,s=u==="#Ref#"?{TAG:1,_0:[[],[lt([e],"graphic structure","R-scheme")]]}:{TAG:0,_0:u},c=Te(r.function,function(R){return[[oi([e])],[]]}),f=Te(r.explicit,function(R){return[[ai([e])],[]]}),l=Te(r.scope,function(R){return[[iu([e])],[]]}),d={TAG:0,_0:r.organisation},m=ce(se(i(3,function(R,G){if(G.TAG===3)return G._0}),F),fe),_=er(se(i(2,function(R,G){if(G.TAG===2)return G._0}),F),function(R){return Te(Da(R),function(G){return[[ve([e],"R-scheme has no R-dimension below it.","This R-scheme has no immediate children that are R-dimensions. However, an R-scheme must directly encapsulate at least one R-dimension.","Add an R-dimension, or replace this R-scheme with another schema.",void 0)],[]]})}),$=ce(se(i(1,function(R,G){if(G.TAG===1)return G._0}),F),fe),W=i(0,function(R,G){return ae(R)}),h=W.length!==0?Ar(Ee(W,function(R){return er(R,function(G){return{TAG:1,_0:[[ve([e,G],"R-scheme has a Representation below it.","R-scheme schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}})}),F):{TAG:0,_0:void 0};return ce(Ya([a,s,c,f,l,m,_,$,d,h],F),function(R){return{TAG:1,_0:{id:e,concept_structure:R[0],graphic_structure:R[1],function:R[2],explicit:R[3],scope:R[4],tokens:R[5],dimensions:R[6],schemes:R[7],organisation:R[8]}}})}function nf(e,r,n,t){var i=function(b,y){return gn(t,n,b,y)},o=r.concept,a=o==="#Dim#"?{TAG:1,_0:[[],[He([e],"R-dimension is using default concept.",'We give each R-dimension the default concept "#Dim#", but this is intended only as a placeholder.',"Replace this R-dimension schema's concept.",void 0)]]}:{TAG:0,_0:o},u=Te(r.concept_scale,function(b){return[[ou([e],"Concept")],[]]}),s={TAG:0,_0:r.concept_attributes},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[lt([e],"graphic","R-dimension")]]}:{TAG:0,_0:c},l=Te(r.concept_scale,function(b){return[[ou([e],"Graphic")],[]]}),d={TAG:0,_0:r.graphic_attributes},m=Te(r.function,function(b){return[[oi([e])],[]]}),_=Te(r.explicit,function(b){return[[ai([e])],[]]}),$=Te(r.scope,function(b){return[[iu([e])],[]]}),W={TAG:0,_0:r.organisation},h={contents:0},R={contents:0},G=ce(se(i(3,function(b,y){if(y.TAG===3)return h.contents=h.contents+1|0,y._0}),F),fe),ee=ce(se(i(2,function(b,y){if(y.TAG===2)return R.contents=R.contents+1|0,y._0}),F),fe),q=i(0,function(b,y){return ae(b)}),P=q.length!==0?Ar(Ee(q,function(b){return er(b,function(y){return{TAG:1,_0:[[ve([e,y],"R-dimension has a Representation below it.","R-dimension schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}})}),F):{TAG:0,_0:void 0},re=i(1,function(b,y){return ae(b)}),j=re.length!==0?Ar(Ee(re,function(b){return er(b,function(y){return{TAG:1,_0:[[ve([e,y],"R-dimensions has an R-scheme below it.","R-dimension schemas cannot have R-scheme schemas as direct descendants.","Remove this R-scheme schema, or connect it elsewhere in the model.",void 0)],[]]}})}),F):{TAG:0,_0:void 0},k=(h.contents+R.contents|0)>=1?{TAG:0,_0:void 0}:{TAG:1,_0:[[ve([e],"R-dimensions must have at least one child.","R-dimensions must contain at least one Token, or the must split into sub-R-dimensions (or do both). This R-dimension has no Token children and no sub-R-dimensions.","Add a Token or a sub-R-dimension below this R-dimension.",void 0)],[]]};return ce(ru([a,u,s,f,l,d,m,_,$,G,ee,W,P,j,k],F),function(b){return{TAG:2,_0:{id:e,concept:b[0],concept_scale:b[1],concept_attributes:b[2],graphic:b[3],graphic_scale:b[4],graphic_attributes:b[5],function:b[6],scope:b[8],explicit:b[7],dimensions:b[10],tokens:b[9],organisation:b[11]}}})}function tf(e,r,n,t,i){var o=function(b,y){return gn(i,n,b,y)},a=function(b,y){return gn(t,n,b,y)},u=r.concept,s=u==="#Tok#"?{TAG:1,_0:[[],[He([e],"Token is using default concept.",'We give each Token the default concept "#Tok#", but this is intended only as a placeholder.',"Replace this Token schema's concept.",void 0)]]}:{TAG:0,_0:u},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[lt([e],"graphic","Token")]]}:{TAG:0,_0:c},l=Te(r.is_class,function(b){return[[ve([e],'Unspecified if Token is a "class" Token.','Tokens can be "standard" or "class" \xE2\x80\x93 that is, they can stand in for more than one actual thing in the representation. This has not been specified.','Select whether this token is a class using the "Is class?" dropdown.',void 0)],[]]}),d=Te(r.function,function(b){return[[oi([e])],[]]}),m=Te(r.explicit,function(b){return[[ai([e])],[]]}),_=function(b,y,C){return ve([e,b],(y.startsWith("R-")?"An ":"A ")+y+" schema below a Token must be anchored.","Children of Tokens must either be a sub-Token, or it must be an anchored schema. This schema is not anchored, but it is not a sub-Token: it is "+(y.startsWith("R-")?"an ":"a ")+y+".",C?"Replace this connection with an anchoring connection.":"Remove this schema, or place it elsewhere in the hierarchy.",void 0)},$=ce(se(a(3,function(b,y){if(y.TAG===3)return y._0}),F),fe),W=a(2,function(b,y){return ae(b)}),h=W.length!==0?Ar(Ee(W,function(b){return er(b,function(y){return{TAG:1,_0:[[_(y,"R-dimension",!0)],[]]}})}),F):{TAG:0,_0:void 0},R=a(1,function(b,y){return ae(b)}),G=R.length!==0?Ar(Ee(R,function(b){return er(b,function(y){return{TAG:1,_0:[[_(y,"R-scheme",!0)],[]]}})}),F):{TAG:0,_0:void 0},ee=a(0,function(b,y){return ae(b)}),q=ee.length!==0?Ar(Ee(ee,function(b){return er(b,function(y){return{TAG:1,_0:[[_(y,"Representation",!1)],[]]}})}),F):{TAG:0,_0:void 0},P=ce(se(o(3,function(b,y){if(y.TAG===3)return y._0}),F),fe),re=ce(se(o(2,function(b,y){if(y.TAG===2)return y._0}),F),fe),j=ce(se(o(1,function(b,y){if(y.TAG===1)return y._0}),F),fe),k=ce(se(o(0,function(b,y){if(y.TAG===0)return y._0}),F),fe);return ce(eu([s,f,l,d,m,$,P,re,j,k,h,G,q],F),function(b){return{TAG:3,_0:{id:e,concept:b[0],graphic:b[1],is_class:b[2],function:b[3],explicit:b[4],sub_tokens:b[5],anchored_tokens:b[6],anchored_dimensions:b[7],anchored_schemes:b[8],anchored_representations:b[9]}}})}function au(e,r){var n=Yc(r,J.keys(e)),t=n[2],i=n[1],o=n[0];if(t.length!==0)return{TAG:1,_0:[t,[]]};var a=function(_,$){for(;;){var W=$,h=_;if(W<0)return h;var R=co(i,W),G=In(r,function(j){return function(k){if(k[0]===j&&k[2]===0)return ae(k[1])}}(R)),ee=In(r,function(j){return function(k){if(k[0]===j&&k[2]===1)return ae(k[1])}}(R)),q=J.get(e,R),P;if(q!==void 0)switch(q.TAG|0){case 0:P=[0,ef(R,q._0,h,G)];break;case 1:P=[1,rf(R,q._0,h,G)];break;case 2:P=[2,nf(R,q._0,h,G)];break;case 3:P=[3,tf(R,q._0,h,G,ee)];break;case 4:P=[4,{TAG:1,_0:[[],[He([R],"Placeholder","The Intelligence Engine cannot understand placeholders yet.",void 0,void 0)]]}];break}else P=[4,{TAG:1,_0:[[yn("BAD LINK","Node with ID "+w(R)+" missing.")],[]]}];var re=J.set(h,R,[P[0],P[1]]);$=W-1|0,_=re}},u=a(J.empty(void 0),i.length-1|0),s=function(_,$){var W=J.get(u,_);if(W!==void 0){var h=W[1];if(h.TAG===0){var R=h._0;if(R.TAG===0){var G=se(In(r,function(k){if(k[2]===2){var b=k[1],y=k[0],C=J.get(u,y),Z=J.get(u,b);if(C!==void 0){var be=C[1];if(be.TAG===0){if(Z!==void 0){var Re=Z[1];if(Re.TAG===0)return{TAG:0,_0:nu(be._0,Re._0,{_0:"Automatic conversion"})}}}else if(Z!==void 0&&Z[1].TAG!==0)return}var Je=yn("REL MISSING","A relation link should be between two nodes ("+w(y)+", "+w(b)+"), but I can't find them!");return{TAG:1,_0:[[Je],[]]}}}),F);return ce(G,function(k){return{root:R,relations:k}})}var ee=tu([_]);return{TAG:1,_0:[[ee],[]]}}var q=J.get(e,_);if(q!==void 0)switch(q.TAG|0){case 0:case 4:return h;default:var P=tu([_]);return Wn(h,[[P],[]],F)}else{var re=yn("EXTRA ROOT","We have found an ID ("+w(_)+"), but have no idea what it's for!");return Wn(h,[[re],[]],F)}}else{var j=yn("LOST ROOT"+($?" MULTI":""),"We know what the root should be ("+w(_)+"), but somehow never found it!");return Wn(se(Ee(J.values(u),function(k){return k[1]}),F),[[j],[]],F)}},c=o.length;if(c!==1){if(c!==0){var f=Ee(o,function(_){return s(_,!0)}),l=He(o,"More than one model detected.","There are multiple models in this file, or a model with multiple roots.",void 0,void 0);return Wn(se(f,F),[[],[l]],F)}if(J.isEmpty(e))return{TAG:1,_0:[[],[]]};var d=ve([],"Could not determine root of model.","Each model should have a root. Somehow, we failed to find a root!",void 0,void 0);return{TAG:1,_0:[[d],[]]}}var m=o[0];return s(m,!1)}var ui=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var a=n[i-1];for(t=0;t<a.length;++t)o.push(a[t]);return e[r].apply(e,o)};var $f=os(Ju());var WW=ye.float_;var _t=e=>{if(e===null)return null;if(e===void 0)return;let r={};for(let[n,t]of Object.entries(e))typeof t=="function"?r[n]=t:t===void 0?r[n]=void 0:t===null?r[n]=null:typeof t=="object"?t instanceof Array?r[n]=t.map(_t):r[n]=_t(t):typeof t=="symbol"?r[n]=t:r[n]=JSON.parse(JSON.stringify(t));return r},Eu=(e,r)=>e[r];var Bu=e=>{var r=_t(e);return Object.keys(r).forEach(n=>{r[n]===void 0&&delete r[n]}),r};function On(e,r){return Eu(e,r)}function _i(e){return Bu(e)}function Wf(e,r,n,t,i,o,a,u,s,c,f,l,d,m,_,$,W,h,R,G,ee,q,P,re,j,k){return _i({color:e,fontColor:r,fontSize:n,fontScaling:t,fontWeight:i,highlightColor:o,highlightFontColor:a,highlightFontSize:u,highlightFontWeight:s,labelProperty:c,mouseCursor:f,opacity:l,renderLabel:d,semanticStrokeWidth:m,strokeWidth:_,markerStart:$,markerEnd:W,markerHeight:h,markerWidth:R,type:G,strokeDasharray:ee,strokeDashoffset:q,strokeLinecap:P,offsetSource:re,offsetTarget:j})}var vt={create:Wf};var vi={contents:0};function Cu(e){return vi.contents=vi.contents+1|0,e+("/"+vi.contents)}var yf=Cu("Color-ReactD3Graph.DOMAIN_ERROR");function gf(e){return/^#(([0-9a-f])|([0-9A-F])){6}$/.test(e)}function Af(e){var r=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7);return[r,n,t]}function mi(e){return Number("0x".concat(e))/255}function Of(e){if(gf(e)){var r=Af(e);return{red:mi(r[0]),green:mi(r[1]),blue:mi(r[2])}}throw{RE_EXN_ID:yf,Error:new Error}}function Sf(e){return"#".concat((e.red*255|0).toString(16),(e.green*255|0).toString(16),(e.blue*255|0).toString(16))}function mt(e){return Sf(Of(e))}function Jf(e){var r;switch(e){case 0:r="Hierarchy";break;case 1:r="Anchor";break;case 2:r="Relation";break}return g(r)}function Ef(e){return v(A(e),function(r){switch(r){case"Anchor":return ne(1);case"Hierarchy":return ne(0);case"Relation":return ne(2);default:return Ie(["Unknown relation value '",r,"'"])}})}var Bf={toJson:Jf,fromJson:Ef},Cf={V1:Bf},hi={Stable:Cf};var zy=vt.create(ae(mt("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0),Xy=vt.create(ae(mt("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,"arrowheadCircle",void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0);function Gu(e,r){return hn(rt(Ea([e,r]),function(n){var t=n[1],i=n[0],o=i.x,a=i.y,u=t.x,s=t.y,c=On(i,"size"),f=u-o,l=s-a,d;if(Math.abs(f/l)>c.width/c.height){var m=c.width/20*Math.sign(f),_=l*m/f;d=[m,_]}else{var $=c.height/20*Math.sign(l),W=f*$/l;d=[W,$]}var h=d[1],R=d[0],G=On(i,"payload"),ee=G.kind;if(ee!==2)return{dx:R-1,dy:h};if(Math.abs(R-c.width/20*Math.sign(f))>=1e-4)return{dx:R-1,dy:h};var q=c.height/10-h+c.height/20,P=(-8+8*q/(c.height/10))*-1*Math.sign(R);return{dx:R+P-1,dy:h}}),{dx:0,dy:0})}var Qy=vt.create(ae(mt("#808080")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,4,void 0,void 0,void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return Gu(e,r)},function(e,r,n){return Gu(r,e)},void 0);function wu(e,r){var n=function(a,u){a.addEventListener("message",function(s){return Bt(p(r.fromJson,JSON.parse(s.data)),u)})},t=function(a,u){var s=JSON.stringify(p(e.toJson,u));a.postMessage(s)},i=function(a){this.onmessage=function(u){return Bt(p(e.fromJson,JSON.parse(u.data)),function(s){var c=JSON.stringify(p(r.toJson,p(a,s)));postMessage(c)})}},o={create:i};return{create:function(a){return new Worker(a)},listen:n,post:t,WorkerThread:o}}function Lu(e){return x({hd:["domain",g(e.domain)],tl:{hd:["display",g(e.display)],tl:{hd:["notes",g(e.notes)],tl:0}}})}function Tu(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(a,u){return v(T(U(r,a),["Unable to find key '",a,"'"]),u)},t=n("domain",A),i=n("display",A),o=n("notes",A);return O(Oe([t,i,o]),function(a){return{domain:a[0],display:a[1],notes:a[2]}})})}var Gf={domain:"#Rep#",display:"#Ref#",notes:""};function wf(e){return x({hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["scope",Ze(e.scope)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function ju(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(f,l){return v(T(U(r,f),["Unable to find key '",f,"'"]),l)},t=n("concept_structure",A),i=n("graphic_structure",A),o=n("function",Ge),a=n("explicit",pe),u=n("scope",Ye),s=n("organisation",A),c=n("notes",A);return O(Ct([t,i,o,a,u,s,c]),function(f){return{concept_structure:f[0],graphic_structure:f[1],function:f[2],explicit:f[3],scope:f[4],organisation:f[5],notes:f[6]}})})}function ku(e){return{concept_structure:e.concept_structure,graphic_structure:e.graphic_structure,function:e.function,explicit:e.explicit,scope:e.scope,organisation:e.organisation,notes:e.notes}}function Lf(e){return x({hd:["version",Wr(2)],tl:{hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["scope",ie(e.scope,Ze)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}})}function Tf(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(m,_){return v(T(U(r,m),["Unable to find key '",m,"'"]),_)},t=n("version",yr),i=Dr(t);if(i.TAG!==0)return O(ju(e),ku);var o=i._0;if(o!==2)return Ie(["Unrecognised version of InspectorState.Scheme: ",String(o)]);var a=n("concept_structure",A),u=n("graphic_structure",A),s=n("function",function(m){return oe(m,Ge)}),c=n("explicit",function(m){return oe(m,pe)}),f=n("scope",function(m){return oe(m,Ye)}),l=n("organisation",A),d=n("notes",A);return O(Ct([a,u,s,c,f,l,d]),function(m){return{concept_structure:m[0],graphic_structure:m[1],function:m[2],explicit:m[3],scope:m[4],organisation:m[5],notes:m[6]}})})}var jf={concept_structure:"#Sch#",graphic_structure:"#Ref#",function:void 0,explicit:void 0,scope:void 0,organisation:"",notes:""};function kf(e){return x({hd:["concept",g(e.concept)],tl:{hd:["concept_scale",cr(e.concept_scale)],tl:{hd:["concept_attributes",z(e.concept_attributes,tt)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",cr(e.graphic_scale)],tl:{hd:["graphic_attributes",z(e.graphic_attributes,ot)],tl:{hd:["function",Ce(e.function)],tl:{hd:["scope",Ze(e.scope)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}})}function Uu(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(_,$){return v(T(U(r,_),["Unable to find key '",_,"'"]),$)},t=n("concept",A),i=n("concept_scale",fr),o=n("concept_attributes",function(_){return X(_,it)}),a=n("graphic",A),u=n("graphic_scale",fr),s=n("graphic_attributes",function(_){return X(_,at)}),c=n("function",Ge),f=n("scope",Ye),l=n("explicit",pe),d=n("organisation",A),m=n("notes",A);return O(Gt([t,i,o,a,u,s,c,f,l,d,m]),function(_){return{concept:_[0],concept_scale:_[1],concept_attributes:_[2],graphic:_[3],graphic_scale:_[4],graphic_attributes:_[5],function:_[6],scope:_[7],explicit:_[8],organisation:_[9],notes:_[10]}})})}function Mu(e){return{concept:e.concept,concept_scale:e.concept_scale,concept_attributes:e.concept_attributes,graphic:e.graphic,graphic_scale:e.graphic_scale,graphic_attributes:e.graphic_attributes,function:e.function,scope:e.scope,explicit:e.explicit,organisation:e.organisation,notes:e.notes}}function Uf(e){return x({hd:["version",Wr(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["concept_scale",ie(e.concept_scale,cr)],tl:{hd:["concept_attributes",z(e.concept_attributes,g)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",ie(e.graphic_scale,cr)],tl:{hd:["graphic_attributes",z(e.graphic_attributes,g)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["scope",ie(e.scope,Ze)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}}})}function Mf(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(h,R){return v(T(U(r,h),["Unable to find key '",h,"'"]),R)},t=n("version",yr),i=Dr(t);if(i.TAG!==0)return O(Uu(e),Mu);var o=i._0;if(o!==2)return Ie(["Unknown version for InspectorState.Dimension: ",String(o)]);var a=n("concept",A),u=n("concept_scale",function(h){return oe(h,fr)}),s=n("concept_attributes",function(h){return X(h,A)}),c=n("graphic",A),f=n("graphic_scale",function(h){return oe(h,fr)}),l=n("graphic_attributes",function(h){return X(h,A)}),d=n("function",function(h){return oe(h,Ge)}),m=n("scope",function(h){return oe(h,Ye)}),_=n("explicit",function(h){return oe(h,pe)}),$=n("organisation",A),W=n("notes",A);return O(Gt([a,u,s,c,f,l,d,m,_,$,W]),function(h){return{concept:h[0],concept_scale:h[1],concept_attributes:h[2],graphic:h[3],graphic_scale:h[4],graphic_attributes:h[5],function:h[6],scope:h[7],explicit:h[8],organisation:h[9],notes:h[10]}})})}var Df={concept:"#Dim#",concept_scale:void 0,concept_attributes:0,graphic:"#Ref#",graphic_scale:void 0,graphic_attributes:0,function:void 0,scope:void 0,explicit:void 0,organisation:"",notes:""};function Nf(e){return x({hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",le(e.is_class)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",le(e.explicit)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}})}function Du(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return v(T(U(r,c),["Unable to find key '",c,"'"]),f)},t=n("concept",A),i=n("graphic",A),o=n("is_class",pe),a=n("function",Ge),u=n("explicit",pe),s=n("notes",A);return O(Mr([t,i,o,a,u,s]),function(c){return{concept:c[0],graphic:c[1],is_class:c[2],function:c[3],explicit:c[4],notes:c[5]}})})}function Nu(e){return{concept:e.concept,graphic:e.graphic,is_class:e.is_class,function:e.function,explicit:e.explicit,notes:e.notes}}function If(e){return x({hd:["version",Wr(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",ie(e.is_class,le)],tl:{hd:["function",ie(e.function,Ce)],tl:{hd:["explicit",ie(e.explicit,le)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function Vf(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(d,m){return v(T(U(r,d),["Unable to find key '",d,"'"]),m)},t=n("version",yr),i=Dr(t);if(i.TAG!==0)return O(Du(e),Nu);var o=i._0;if(o!==2)return Ie(["Unknown version for InspectorState.Token: ",String(o)]);var a=n("concept",A),u=n("graphic",A),s=n("is_class",function(d){return oe(d,pe)}),c=n("function",function(d){return oe(d,Ge)}),f=n("explicit",function(d){return oe(d,pe)}),l=n("notes",A);return O(Mr([a,u,s,c,f,l]),function(d){return{concept:d[0],graphic:d[1],is_class:d[2],function:d[3],explicit:d[4],notes:d[5]}})})}var xf={concept:"#Tok#",graphic:"#Ref#",is_class:void 0,function:void 0,explicit:void 0,notes:""};function Ff(e){return x({hd:["version",Wr(1)],tl:{hd:["description",g(e.description)],tl:{hd:["isIntensional",ie(e.isIntensional,le)],tl:{hd:["notes",g(e.notes)],tl:0}}}})}function qf(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return v(T(U(r,c),["Unable to find key '",c,"'"]),f)},t=n("version",yr),i=Dr(t);if(i.TAG!==0)return Ur("Unable to determine InspectorState.Placeholder version");var o=i._0;if(o!==1)return Ie(["Unknown InspectorState.Placeholder version ",String(o)]);var a=n("description",A),u=n("isIntensional",function(c){return oe(c,pe)}),s=n("notes",A);return O(Oe([a,u,s]),function(c){return{description:c[0],isIntensional:c[1],notes:c[2]}})})}function Pf(e){var r;switch(e.TAG|0){case 0:r=["representation",Lu(e._0)];break;case 1:r=["scheme",wf(e._0)];break;case 2:r=["dimension",kf(e._0)];break;case 3:r=["token",Nf(e._0)];break}return x({hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}})}function Iu(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(o,a){return v(T(U(r,o),["Unable to find key '",o,"'"]),a)},t=n("kind",A),i=n("value",ne);return v(me([t,i]),function(o){var a=o[1],u=o[0];switch(u){case"dimension":return O(Uu(a),function(s){return{TAG:2,_0:s}});case"representation":return O(Tu(a),function(s){return{TAG:0,_0:s}});case"scheme":return O(ju(a),function(s){return{TAG:1,_0:s}});case"token":return O(Du(a),function(s){return{TAG:3,_0:s}});default:return Ie(["Unknown Schema slot kind '",u,"'"])}})})}var Hf={toJson:Pf,fromJson:Iu};function Vu(e){switch(e.TAG|0){case 0:return{TAG:0,_0:e._0};case 1:return{TAG:1,_0:ku(e._0)};case 2:return{TAG:2,_0:Mu(e._0)};case 3:return{TAG:3,_0:Nu(e._0)}}}function Kf(e){var r;switch(e.TAG|0){case 0:r=["representation",Lu(e._0)];break;case 1:r=["scheme",Lf(e._0)];break;case 2:r=["dimension",Uf(e._0)];break;case 3:r=["token",If(e._0)];break;case 4:r=["placeholder",Ff(e._0)];break}return x({hd:["version",Wr(2)],tl:{hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}}})}function zf(e){return v(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(s,c){return v(T(U(r,s),["Unable to find key '",s,"'"]),c)},t=n("version",yr),i=Dr(t);if(i.TAG!==0)return O(Iu(e),Vu);var o=i._0;if(o!==2)return Ie(["Unknown InspectorState version ",String(o)]);var a=n("kind",A),u=n("value",ne);return v(me([a,u]),function(s){var c=s[1],f=s[0];switch(f){case"dimension":return O(Mf(c),function(l){return{TAG:2,_0:l}});case"placeholder":return O(qf(c),function(l){return{TAG:4,_0:l}});case"representation":return O(Tu(c),function(l){return{TAG:0,_0:l}});case"scheme":return O(Tf(c),function(l){return{TAG:1,_0:l}});case"token":return O(Vf(c),function(l){return{TAG:3,_0:l}});default:return Ie(["Unknown Schema slot kind '",f,"'"])}})})}function Xf(e){switch(e){case 0:return{TAG:0,_0:Gf};case 1:return{TAG:1,_0:jf};case 2:return{TAG:2,_0:Df};case 3:return{TAG:3,_0:xf};case 4:return{TAG:4,_0:{description:"#Placeholder#",isIntensional:void 0,notes:""}}}}function Qf(e){switch(e.TAG|0){case 0:return e._0.domain;case 1:return e._0.concept_structure;case 2:case 3:return e._0.concept;case 4:return e._0.description}}function Zf(e){switch(e.TAG|0){case 0:return e._0.display;case 1:return e._0.graphic_structure;case 2:return e._0.graphic;case 3:return e._0.graphic;case 4:return""}}var Yf={V1:Hf,V2:{toJson:Kf,fromJson:zf,v1_to_v2:Vu}},bi={empty:Xf,name:Qf,reference:Zf,Stable:Yf};function el(e){return x({hd:["id",N(e.id)],tl:{hd:["slots",J.toJson(e.slots,bi.Stable.V2.toJson)],tl:{hd:["links",hr(e.links,function(r){var n=N,t=N,i=hi.Stable.V1.toJson;return[je(n,r[0]),je(t,r[1]),je(i,r[2])]})],tl:0}}})}function rl(e){return v(E(D(e),"Failed to decode Request state object JSON"),function(r){var n=function(a,u){return v(T(U(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",I),i=n("slots",function(a){return J.fromJson(a,bi.Stable.V2.fromJson)}),o=n("links",function(a){return br(a,function(u){var s=I,c=I,f=hi.Stable.V1.fromJson,l=hn(Wi(u),[]);if(l.length!==3)return Ur("Not a triple");var d=l[0],m=l[1],_=l[2];return Oe([je(s,d),je(c,m),je(f,_)])})});return O(Oe([t,i,o]),function(a){return{id:a[0],slots:a[1],links:a[2]}})})}function nl(e){return x({hd:["id",N(e.id)],tl:{hd:["warnings",hr(e.warnings,Pa)],tl:{hd:["errors",hr(e.errors,ct)],tl:0}}})}function tl(e){return v(E(D(e),"Failed to decode Response state object JSON"),function(r){var n=function(a,u){return v(T(U(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",I),i=n("warnings",function(a){return br(a,Ha)}),o=n("errors",function(a){return br(a,ft)});return O(Oe([t,i,o]),function(a){return{id:a[0],warnings:a[1],errors:a[2]}})})}var il=wa(void 0),ol=[],al=[],ul={id:il,warnings:ol,errors:al},sl={toJson:nl,fromJson:tl,empty:ul},cl={toJson:el,fromJson:rl},fl=wu,ht=function(e){return fl(cl,e)}(sl);var Eg=ht.create,Bg=ht.listen,Cg=ht.post,xu=ht.WorkerThread;je(xu.create,function(e){var r=e.slots,n=e.links,t=[],i=[],o=au(r,n);Qa(o,function(s){ui(t,"push",[s[0]]),ui(i,"push",[s[1]])}),Rr(n,function(s){var c=s[2],f=s[1],l=s[0];return Rr(n,function(d){if(s!==d&&f===d[0]&&c===0&&d[2]===0){var m=d[1],_=Dn(n,function(G){return l===G[0]&&m===G[1]&&G[2]===0&&s!==G?d!==G:!1});if(Ba(_)){var $=[l,f,m],W="Transitive hierarchical connections",h="Connections in the hierarchy are transitive, so normally you do not connect a grandparent schema to its grandchildren schemas.",R="Remove the transitive connection.";i.push(He($,W,h,R,void 0));return}}})});var a=Nn(t),u=Nn(i);return{id:e.id,warnings:u,errors:a}});var Ng;})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
