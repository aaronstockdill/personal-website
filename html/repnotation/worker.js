(()=>{var cs=Object.create;var St=Object.defineProperty;var fs=Object.getOwnPropertyDescriptor;var ls=Object.getOwnPropertyNames;var ps=Object.getPrototypeOf,ds=Object.prototype.hasOwnProperty;var _s=e=>St(e,"__esModule",{value:!0});var Jt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var vs=(e,r,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of ls(r))!ds.call(e,t)&&t!=="default"&&St(e,t,{get:()=>r[t],enumerable:!(n=fs(r,t))||n.enumerable});return e},ms=e=>vs(_s(St(e!=null?cs(ps(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Wu=Jt((AW,$u)=>{"use strict";var Ru=Object.getOwnPropertySymbols,Rf=Object.prototype.hasOwnProperty,$f=Object.prototype.propertyIsEnumerable;function Wf(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function yf(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;var t=Object.getOwnPropertyNames(r).map(function(i){return r[i]});if(t.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}$u.exports=yf()?Object.assign:function(e,r){for(var n,t=Wf(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)Rf.call(n,a)&&(t[a]=n[a]);if(Ru){o=Ru(n);for(var u=0;u<o.length;u++)$f.call(n,o[u])&&(t[o[u]]=n[o[u]])}}return t}});var Uu=Jt(q=>{"use strict";var Wo=Wu(),tn=60103,yu=60106;q.Fragment=60107;q.StrictMode=60108;q.Profiler=60114;var gu=60109,Au=60110,Ou=60112;q.Suspense=60113;var Su=60115,Ju=60116;typeof Symbol=="function"&&Symbol.for&&(Me=Symbol.for,tn=Me("react.element"),yu=Me("react.portal"),q.Fragment=Me("react.fragment"),q.StrictMode=Me("react.strict_mode"),q.Profiler=Me("react.profiler"),gu=Me("react.provider"),Au=Me("react.context"),Ou=Me("react.forward_ref"),q.Suspense=Me("react.suspense"),Su=Me("react.memo"),Ju=Me("react.lazy"));var Me,Gu=typeof Symbol=="function"&&Symbol.iterator;function gf(e){return e===null||typeof e!="object"?null:(e=Gu&&e[Gu]||e["@@iterator"],typeof e=="function"?e:null)}function Bn(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bu={};function on(e,r,n){this.props=e,this.context=r,this.refs=Bu,this.updater=n||Eu}on.prototype.isReactComponent={};on.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Bn(85));this.updater.enqueueSetState(this,e,r,"setState")};on.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cu(){}Cu.prototype=on.prototype;function yo(e,r,n){this.props=e,this.context=r,this.refs=Bu,this.updater=n||Eu}var go=yo.prototype=new Cu;go.constructor=yo;Wo(go,on.prototype);go.isPureReactComponent=!0;var Ao={current:null},wu=Object.prototype.hasOwnProperty,Lu={key:!0,ref:!0,__self:!0,__source:!0};function Tu(e,r,n){var t,o={},i=null,a=null;if(r!=null)for(t in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(i=""+r.key),r)wu.call(r,t)&&!Lu.hasOwnProperty(t)&&(o[t]=r[t]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}if(e&&e.defaultProps)for(t in u=e.defaultProps,u)o[t]===void 0&&(o[t]=u[t]);return{$$typeof:tn,type:e,key:i,ref:a,props:o,_owner:Ao.current}}function Af(e,r){return{$$typeof:tn,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function Oo(e){return typeof e=="object"&&e!==null&&e.$$typeof===tn}function Of(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var ju=/\/+/g;function So(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Of(""+e.key):r.toString(36)}function Rt(e,r,n,t,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case tn:case yu:a=!0}}if(a)return a=e,o=o(a),e=t===""?"."+So(a,0):t,Array.isArray(o)?(n="",e!=null&&(n=e.replace(ju,"$&/")+"/"),Rt(o,r,n,"",function(c){return c})):o!=null&&(Oo(o)&&(o=Af(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(ju,"$&/")+"/")+e)),r.push(o)),1;if(a=0,t=t===""?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){i=e[u];var s=t+So(i,u);a+=Rt(i,r,n,s,o)}else if(s=gf(e),typeof s=="function")for(e=s.call(e),u=0;!(i=e.next()).done;)i=i.value,s=t+So(i,u++),a+=Rt(i,r,n,s,o);else if(i==="object")throw r=""+e,Error(Bn(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r));return a}function $t(e,r,n){if(e==null)return e;var t=[],o=0;return Rt(e,t,"","",function(i){return r.call(n,i,o++)}),t}function Sf(e){if(e._status===-1){var r=e._result;r=r(),e._status=0,e._result=r,r.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var ku={current:null};function er(){var e=ku.current;if(e===null)throw Error(Bn(321));return e}var Jf={ReactCurrentDispatcher:ku,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Ao,IsSomeRendererActing:{current:!1},assign:Wo};q.Children={map:$t,forEach:function(e,r,n){$t(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return $t(e,function(){r++}),r},toArray:function(e){return $t(e,function(r){return r})||[]},only:function(e){if(!Oo(e))throw Error(Bn(143));return e}};q.Component=on;q.PureComponent=yo;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;q.cloneElement=function(e,r,n){if(e==null)throw Error(Bn(267,e));var t=Wo({},e.props),o=e.key,i=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,a=Ao.current),r.key!==void 0&&(o=""+r.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in r)wu.call(r,s)&&!Lu.hasOwnProperty(s)&&(t[s]=r[s]===void 0&&u!==void 0?u[s]:r[s])}var s=arguments.length-2;if(s===1)t.children=n;else if(1<s){u=Array(s);for(var c=0;c<s;c++)u[c]=arguments[c+2];t.children=u}return{$$typeof:tn,type:e.type,key:o,ref:i,props:t,_owner:a}};q.createContext=function(e,r){return r===void 0&&(r=null),e={$$typeof:Au,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:gu,_context:e},e.Consumer=e};q.createElement=Tu;q.createFactory=function(e){var r=Tu.bind(null,e);return r.type=e,r};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:Ou,render:e}};q.isValidElement=Oo;q.lazy=function(e){return{$$typeof:Ju,_payload:{_status:-1,_result:e},_init:Sf}};q.memo=function(e,r){return{$$typeof:Su,type:e,compare:r===void 0?null:r}};q.useCallback=function(e,r){return er().useCallback(e,r)};q.useContext=function(e,r){return er().useContext(e,r)};q.useDebugValue=function(){};q.useEffect=function(e,r){return er().useEffect(e,r)};q.useImperativeHandle=function(e,r,n){return er().useImperativeHandle(e,r,n)};q.useLayoutEffect=function(e,r){return er().useLayoutEffect(e,r)};q.useMemo=function(e,r){return er().useMemo(e,r)};q.useReducer=function(e,r,n){return er().useReducer(e,r,n)};q.useRef=function(e){return er().useRef(e)};q.useState=function(e){return er().useState(e)};q.version="17.0.2"});var Du=Jt((SW,Mu)=>{"use strict";Mu.exports=Uu()});function Gt(e,r,n){for(var t=new Array(n),o=0,i=r;o<n;)t[o]=e[i],o=o+1|0,i=i+1|0;return t}function Pe(e,r){for(;;){var n=r,t=e,o=t.length,i=o===0?1:o,a=n.length,u=i-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return Pe(s,c.concat([f]))}}(t,n);r=Gt(n,i,-u|0),e=t.apply(null,Gt(n,0,i))}}function je(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,o){return e(r,t,o)};case 4:return function(t,o,i){return e(r,t,o,i)};case 5:return function(t,o,i,a){return e(r,t,o,i,a)};case 6:return function(t,o,i,a,u){return e(r,t,o,i,a,u)};case 7:return function(t,o,i,a,u,s){return e(r,t,o,i,a,u,s)};default:return Pe(e,[r])}}function wn(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return Pe(e(r),[n]);case 2:return e(r,n);case 3:return function(o){return e(r,n,o)};case 4:return function(o,i){return e(r,n,o,i)};case 5:return function(o,i,a){return e(r,n,o,i,a)};case 6:return function(o,i,a,u){return e(r,n,o,i,a,u)};case 7:return function(o,i,a,u,s){return e(r,n,o,i,a,u,s)};default:return Pe(e,[r,n])}}function Lo(e,r,n,t,o,i,a){var u=e.length;if(u===6)return e(r,n,t,o,i,a);switch(u){case 1:return Pe(e(r),[n,t,o,i,a]);case 2:return Pe(e(r,n),[t,o,i,a]);case 3:return Pe(e(r,n,t),[o,i,a]);case 4:return Pe(e(r,n,t,o),[i,a]);case 5:return Pe(e(r,n,t,o,i),[a]);case 6:return e(r,n,t,o,i,a);case 7:return function(s){return e(r,n,t,o,i,a,s)};default:return Pe(e,[r,n,t,o,i,a])}}function ce(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function To(e){if(e!==void 0)return ce(e)}function Et(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function N(e,r){if(r in e)return ce(e[r])}function H(e){for(var r={},n=e;;){var t=n;if(!t)return r;var o=t.hd;r[o[0]]=o[1],n=t.tl}}function V(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return ce(e)}function jo(e){if(Array.isArray(e))return e}function X(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function ko(e){if(e!==void 0)return X(e)}function Q(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function cn(e){if(typeof e=="string")return e}function Bt(e){if(typeof e=="number")return e}function Uo(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return X(e)}function Er(e){if(Array.isArray(e))return e}function Mo(e){if(typeof e=="boolean")return e}function Ct(e,r,n){for(var t=new Array(n),o=0,i=r;o<n;)t[o]=e[i],o=o+1|0,i=i+1|0;return t}function br(e,r){for(;;){var n=r,t=e,o=t.length,i=o===0?1:o,a=n.length,u=i-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return br(s,c.concat([f]))}}(t,n);r=Ct(n,i,-u|0),e=t.apply(null,Ct(n,0,i))}}function d(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,o){return e(r,t,o)};case 4:return function(t,o,i){return e(r,t,o,i)};case 5:return function(t,o,i,a){return e(r,t,o,i,a)};case 6:return function(t,o,i,a,u){return e(r,t,o,i,a,u)};case 7:return function(t,o,i,a,u,s){return e(r,t,o,i,a,u,s)};default:return br(e,[r])}}function ne(e){var r=e.length;return r===1?e:function(n){return d(e,n)}}function Ln(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return br(e(r),[n]);case 2:return e(r,n);case 3:return function(o){return e(r,n,o)};case 4:return function(o,i){return e(r,n,o,i)};case 5:return function(o,i,a){return e(r,n,o,i,a)};case 6:return function(o,i,a,u){return e(r,n,o,i,a,u)};case 7:return function(o,i,a,u,s){return e(r,n,o,i,a,u,s)};default:return br(e,[r,n])}}function ye(e){var r=e.length;return r===2?e:function(n,t){return Ln(e,n,t)}}function hs(e,r,n,t){var o=e.length;if(o===3)return e(r,n,t);switch(o){case 1:return br(e(r),[n,t]);case 2:return br(e(r,n),[t]);case 3:return e(r,n,t);case 4:return function(i){return e(r,n,t,i)};case 5:return function(i,a){return e(r,n,t,i,a)};case 6:return function(i,a,u){return e(r,n,t,i,a,u)};case 7:return function(i,a,u,s){return e(r,n,t,i,a,u,s)};default:return br(e,[r,n,t])}}function nr(e){var r=e.length;return r===3?e:function(n,t,o){return hs(e,n,t,o)}}var wt={contents:0};function Tn(e){return wt.contents=wt.contents+1|0,e+("/"+wt.contents)}function Lt(e,r){return e<r?-1:e===r?0:1}function Do(e,r){return e?r?0:1:r?-1:0}function jn(e,r){return e===r?0:e<r?-1:1}function No(e,r){if(!(r>=0&&r<e.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error};return e[r]}function Br(e,r){for(var n=e.length,t=r.length,o=new Array(n+t|0),i=0;i<n;++i)o[i]=e[i];for(var a=0;a<t;++a)o[n+a|0]=r[a];return o}function Io(e,r){for(var n=0,t=e.length;n<t;++n)r(e[n])}function Vo(e,r){return Io(e,ne(r))}function xo(e,r){for(var n=e.length,t=new Array(n),o=0;o<n;++o)t[o]=r(e[o]);return t}function fn(e,r){return xo(e,ne(r))}function Fo(e,r){for(var n=e.length,t=new Array(n),o=0,i=0;i<n;++i){var a=e[i],u=r(a);u!==void 0&&(t[o]=Q(u),o=o+1|0)}return t.length=o,t}function qo(e,r){return Fo(e,ne(r))}function Po(e,r,n){for(var t=r,o=0,i=e.length;o<i;++o)t=n(t,e[o]);return t}function ln(e,r,n){return Po(e,r,ye(n))}function Ho(e,r,n){for(var t=r,o=0,i=e.length;o<i;++o)t=n(t,e[o],o);return t}function Ko(e,r,n){return Ho(e,r,nr(n))}function $s(e,r,n,t,o){for(;;){var i=n,a=r;if(i>=t)return i;var u=e[i];if(!o(u,a))return i;n=i+1|0,r=u}}function Cr(e,r){var n=e.length;if(n===0||n===1)return n;var t=e[0],o=e[1];if(r(t,o))for(var i=o,a=2;;){var u=a,s=i;if(u>=n)return u;var c=e[u];if(!r(s,c))return u;a=u+1|0,i=c}else return r(o,t)?-$s(e,o,2,n,r)|0:1}function kn(e,r){return{hd:r,tl:e}}function As(e,r){for(;;){var n=r,t=e;if(!t)return n;var o={hd:t.hd,tl:0};n.tl=o,r=o,e=t.tl}}function Os(e,r,n){for(;;){var t=r,o=e;if(!o)return;var i={hd:n(o.hd),tl:0};t.tl=i,r=i,e=o.tl}}function zo(e,r){if(!e)return r;var n={hd:e.hd,tl:0};return As(e.tl,n).tl=r,n}function Xo(e,r){if(!e)return 0;var n={hd:r(e.hd),tl:0};return Os(e.tl,n,r),n}function Un(e,r){return Xo(e,ne(r))}function Tt(e){for(var r=e,n=0;;){var t=n,o=r;if(!o)return t;n=t+1|0,r=o.tl}}function Ss(e,r,n){for(;;){var t=n,o=r;if(!t)return;e[o]=t.hd,n=t.tl,r=o+1|0}}function wr(e){for(var r=e.length-1|0,n=0;;){var t=n,o=r;if(o<0)return t;n={hd:e[o],tl:t},r=o-1|0}}function pn(e){var r=Tt(e),n=new Array(r);return Ss(n,0,e),n}function Qo(e,r,n){for(;;){var t=r,o=e;if(!o)return t;r=n(t,o.hd),e=o.tl}}function Mn(e,r,n){return Qo(e,r,ye(n))}function Zo(e){if(e!==void 0)return Q(e);throw{RE_EXN_ID:"Not_found",Error:new Error}}function Yo(e,r){if(e!==void 0)return X(r(Q(e)))}function Lr(e,r){return Yo(e,ne(r))}function ei(e,r){if(e!==void 0)return r(Q(e))}function dn(e,r){return ei(e,ne(r))}function ri(e,r){return e!==void 0?Q(e):r}function ni(e){return e!==void 0}function ti(e){return e===void 0}var Dn=function(e,r,n){var t,o;o=n.length;var i=[];for(t=0;t<o-1;++t)i.push(n[t]);var a=n[o-1];for(t=0;t<a.length;++t)i.push(a[t]);return e[r].apply(e,i)};var Ne=Tn("Rpc-RepWeb.RpcError"),Js={},Gs={},Es={},Bs={},Cs={};function ws(e,r){return d(e.reader,r)}function Ls(e,r){return d(e.writer,r)}function Ts(e){return e.name}function Ie(e,r,n,t){return{reader:function(o){return d(n,d(e.reader,o))},writer:function(o){return d(e.writer,d(t,o))},name:r}}function js(e,r){return{reader:e.reader,writer:e.writer,name:r}}function ks(e){return{reader:function(r){return d(d(e,void 0).reader,r)},writer:function(r){return d(d(e,void 0).writer,r)},name:"<rec>"}}var Us=new Uint8Array([]);function Ms(e){}function Ds(e){return Us}var oi={reader:Ms,writer:Ds,name:"unit"};function Ns(e){var r=e[0];if(r===0)return!1;if(r===1)return!0;throw{RE_EXN_ID:Ne,Error:new Error}}function Is(e){return e?new Uint8Array([1]):new Uint8Array([0])}var Vs={reader:Ns,writer:Is,name:"bool"};function ii(e,r,n){for(;;){var t=n,o=r;if(o===0)return t;n=d(e,t),r=o-1|0}}function Nn(e){var r=function(f,l){return ii(function(p){return p/2|0},l,f)%256},n=r(e,0),t=r(e,8),o=r(e,16),i=r(e,24),a=r(e,32),u=r(e,40),s=r(e,48),c=r(e,56);return new Uint8Array([c,s,u,a,i,o,t,n])}function In(e){var r=function(f,l){return ii(function(p){return p<<1},l,f)},n=e[7],t=e[6],o=e[5],i=e[4],a=e[3],u=e[2],s=e[1],c=e[0];return((((((n+r(t,8)|0)+r(o,16)|0)+r(i,24)|0)+r(a,32)|0)+r(u,40)|0)+r(s,48)|0)+r(c,56)|0}var xs={reader:In,writer:Nn,name:"int"};function Fs(e){return new Float64Array(e.reverse().buffer)[0]}function qs(e){var r=new Float64Array(1);return r.set([e]),new Uint8Array(r.buffer).reverse()}var Ps={reader:Fs,writer:qs,name:"float"};function Hs(e){var r=[];return e.forEach(function(n){r.push(String.fromCharCode(n))}),Dn("","concat",[r])}function Ks(e){return new Uint8Array(e.split("").map(function(r){return r.charCodeAt(0)|0}))}var zs={reader:Hs,writer:Ks,name:"string"};function Tr(e,r,n){return e.subarray(r,r+n|0)}function Vn(e){var r=e.reduce(function(o,i){return o+i.length|0},0),n=new Uint8Array(r),t={contents:0};return e.forEach(function(o){n.set(o,t.contents),t.contents=t.contents+o.length|0}),n}function jr(e){var r=function(t){for(var o=function(p,h,m){for(;;){var b=m,$=h,v=p;if(v===0)return b;var W=In(Tr(t,$,8));m=b.concat([W]),h=$+8|0,p=v-1|0}},i=o(e,0,[]),a=e<<3,u=[];;){var s=u,c=a,f=i.shift();if(f===void 0)return s;var l=Tr(t,c,f);u=s.concat([l]),a=c+f|0}},n=function(t){var o=t.map(function(i){return Nn(i.length)});return Vn(o.concat(t))};return{reader:r,writer:n,name:"tuple"}}function Xs(e,r){return Ie(jr(2),"".concat("(",e.name,", ",r.name,")"),function(n){if(n.length!==2)throw{RE_EXN_ID:Ne,Error:new Error};var t=n[0],o=n[1];return[d(e.reader,t),d(r.reader,o)]},function(n){return[d(e.writer,n[0]),d(r.writer,n[1])]})}function Qs(e,r,n){return Ie(jr(3),"".concat("(",e.name,", ",r.name,", ",n.name,")"),function(t){if(t.length!==3)throw{RE_EXN_ID:Ne,Error:new Error};var o=t[0],i=t[1],a=t[2];return[d(e.reader,o),d(r.reader,i),d(n.reader,a)]},function(t){return[d(e.writer,t[0]),d(r.writer,t[1]),d(n.writer,t[2])]})}function Zs(e,r,n,t){return Ie(jr(4),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,")"),function(o){if(o.length!==4)throw{RE_EXN_ID:Ne,Error:new Error};var i=o[0],a=o[1],u=o[2],s=o[3];return[d(e.reader,i),d(r.reader,a),d(n.reader,u),d(t.reader,s)]},function(o){return[d(e.writer,o[0]),d(r.writer,o[1]),d(n.writer,o[2]),d(t.writer,o[3])]})}function Ys(e,r,n,t,o){return Ie(jr(5),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",o.name,")"),function(i){if(i.length!==5)throw{RE_EXN_ID:Ne,Error:new Error};var a=i[0],u=i[1],s=i[2],c=i[3],f=i[4];return[d(e.reader,a),d(r.reader,u),d(n.reader,s),d(t.reader,c),d(o.reader,f)]},function(i){return[d(e.writer,i[0]),d(r.writer,i[1]),d(n.writer,i[2]),d(t.writer,i[3]),d(o.writer,i[4])]})}function ec(e,r,n,t,o,i){return Ie(jr(6),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",o.name,", ",i.name,")"),function(a){if(a.length!==6)throw{RE_EXN_ID:Ne,Error:new Error};var u=a[0],s=a[1],c=a[2],f=a[3],l=a[4],p=a[5];return[d(e.reader,u),d(r.reader,s),d(n.reader,c),d(t.reader,f),d(o.reader,l),d(i.reader,p)]},function(a){return[d(e.writer,a[0]),d(r.writer,a[1]),d(n.writer,a[2]),d(t.writer,a[3]),d(o.writer,a[4]),d(i.writer,a[5])]})}function rc(e){var r=e.length-1|0;return[e[0],Tr(e,1,r)]}function nc(e){return Vn([new Uint8Array([e[0]]),e[1]])}var kr={reader:rc,writer:nc,name:"either"};function ai(e,r){return Ie(kr,"Rpc.Datatype.Either2.t".concat("<",e.name,", ",r.name,">"),function(n){var t=n[1],o=n[0];if(o===0)return{TAG:0,_0:d(e.reader,t)};if(o!==1)throw{RE_EXN_ID:Ne,Error:new Error};return{TAG:1,_0:d(r.reader,t)}},function(n){return n.TAG===0?[0,d(e.writer,n._0)]:[1,d(r.writer,n._0)]})}function tc(e,r,n){return Ie(kr,"Rpc.Datatype.Either3.t".concat("<",e.name,", ",r.name,", ",n.name,">"),function(t){var o=t[1];switch(t[0]){case 0:return{TAG:0,_0:d(e.reader,o)};case 1:return{TAG:1,_0:d(r.reader,o)};case 2:return{TAG:2,_0:d(n.reader,o)};default:throw{RE_EXN_ID:Ne,Error:new Error}}},function(t){switch(t.TAG|0){case 0:return[0,d(e.writer,t._0)];case 1:return[1,d(r.writer,t._0)];case 2:return[2,d(n.writer,t._0)]}})}function oc(e,r,n,t){return Ie(kr,"Rpc.Datatype.Either4.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,">"),function(o){var i=o[1];switch(o[0]){case 0:return{TAG:0,_0:d(e.reader,i)};case 1:return{TAG:1,_0:d(r.reader,i)};case 2:return{TAG:2,_0:d(n.reader,i)};case 3:return{TAG:3,_0:d(t.reader,i)};default:throw{RE_EXN_ID:Ne,Error:new Error}}},function(o){switch(o.TAG|0){case 0:return[0,d(e.writer,o._0)];case 1:return[1,d(r.writer,o._0)];case 2:return[2,d(n.writer,o._0)];case 3:return[3,d(t.writer,o._0)]}})}function ic(e,r,n,t,o){return Ie(kr,"Rpc.Datatype.Either5.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",o.name,">"),function(i){var a=i[1];switch(i[0]){case 0:return{TAG:0,_0:d(e.reader,a)};case 1:return{TAG:1,_0:d(r.reader,a)};case 2:return{TAG:2,_0:d(n.reader,a)};case 3:return{TAG:3,_0:d(t.reader,a)};case 4:return{TAG:4,_0:d(o.reader,a)};default:throw{RE_EXN_ID:Ne,Error:new Error}}},function(i){switch(i.TAG|0){case 0:return[0,d(e.writer,i._0)];case 1:return[1,d(r.writer,i._0)];case 2:return[2,d(n.writer,i._0)];case 3:return[3,d(t.writer,i._0)];case 4:return[4,d(o.writer,i._0)]}})}function ac(e,r,n,t,o,i){return Ie(kr,"Rpc.Datatype.Either6.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",o.name,", ",i.name,">"),function(a){var u=a[1];switch(a[0]){case 0:return{TAG:0,_0:d(e.reader,u)};case 1:return{TAG:1,_0:d(r.reader,u)};case 2:return{TAG:2,_0:d(n.reader,u)};case 3:return{TAG:3,_0:d(t.reader,u)};case 4:return{TAG:4,_0:d(o.reader,u)};case 5:return{TAG:5,_0:d(i.reader,u)};default:throw{RE_EXN_ID:Ne,Error:new Error}}},function(a){switch(a.TAG|0){case 0:return[0,d(e.writer,a._0)];case 1:return[1,d(r.writer,a._0)];case 2:return[2,d(n.writer,a._0)];case 3:return[3,d(t.writer,a._0)];case 4:return[4,d(o.writer,a._0)];case 5:return[5,d(i.writer,a._0)]}})}function uc(e){var r=ai(e,oi),n=r.writer,t=r.reader;return{reader:function(o){var i=d(t,o);if(i.TAG===0)return X(i._0)},writer:function(o){return o!==void 0?d(n,{TAG:0,_0:Q(o)}):d(n,{TAG:1,_0:void 0})},name:"option<"+e.name+">"}}function ui(e){var r=function(t){var o=In(Tr(t,0,8)),i=[],a=function(u,s){for(;;){var c=s,f=u;if(f===0)return;var l=In(Tr(t,c,8)),p=d(e.reader,Tr(t,c+8|0,l));i.push(p),s=(c+8|0)+l|0,u=f-1|0}};return a(o,8),i},n=function(t){var o=Nn(t.length),i=fn(t,function(a){var u=d(e.writer,a),s=Nn(u.length);return Vn([s,u])});return Vn(Br([o],i))};return{reader:r,writer:n,name:"array<"+e.name+">"}}function sc(e){var r=ui(e),n=r.writer,t=r.reader;return{reader:function(o){return wr(d(t,o))},writer:function(o){return d(n,pn(o))},name:"list<"+e.name+">"}}var ge={Either2:Js,Either3:Gs,Either4:Es,Either5:Bs,Either6:Cs,read:ws,write:Ls,name:Ts,convert:Ie,alias:js,recur:ks,unit_:oi,bool_:Vs,int_:xs,float_:Ps,string_:zs,option_:uc,array_:ui,list_:sc,tuple2_:Xs,tuple3_:Qs,tuple4_:Zs,tuple5_:Ys,tuple6_:ec,tupleN_:jr,either2_:ai,either3_:tc,either4_:oc,either5_:ic,either6_:ac,eitherN_:kr};var si=function(e,r){for(var n in e)r(n)};function Ur(e,r){if(e===r)return 0;var n=typeof e,t=typeof r;switch(n){case"boolean":if(t==="boolean")return Do(e,r);break;case"function":if(t==="function")throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if(t==="number")return Lt(e,r);break;case"string":return t==="string"?jn(e,r):1;case"undefined":return-1;default:}switch(t){case"string":return-1;case"undefined":return 1;default:if(n==="boolean")return 1;if(t==="boolean")return-1;if(n==="function")return 1;if(t==="function")return-1;if(n==="number")return r===null||r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(t==="number")return e===null||e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e===null)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(r===null)return e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?ci(e,r):-1;var o=e.TAG|0,i=r.TAG|0;if(o===248)return Lt(e[1],r[1]);if(o===251)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(o!==i)return o<i?-1:1;var a=e.length|0,u=r.length|0;if(a===u)if(Array.isArray(e))for(var s=0;;){var c=s;if(c===a)return 0;var f=Ur(e[c],r[c]);if(f!==0)return f;s=c+1|0}else return e instanceof Date&&r instanceof Date?e-r:ci(e,r);else if(a<u)for(var l=0;;){var p=l;if(p===a)return-1;var h=Ur(e[p],r[p]);if(h!==0)return h;l=p+1|0}else for(var m=0;;){var b=m;if(b===u)return 1;var $=Ur(e[b],r[b]);if($!==0)return $;m=b+1|0}}}function ci(e,r){var n={contents:void 0},t={contents:void 0},o=function(l,p){var h=l[2],m=l[1];if(!m.hasOwnProperty(p)||Ur(l[0][p],m[p])>0){var b=h.contents;if(!(b!==void 0&&p>=b)){h.contents=p;return}}},i=[e,r,t],a=function(l){return o(i,l)},u=[r,e,n],s=function(l){return o(u,l)};si(e,a),si(r,s);var c=n.contents,f=t.contents;return c!==void 0?f!==void 0?jn(c,f):-1:f!==void 0?1:0}function fi(e,r){return Ur(e,r)>0}function li(e,r){return Ur(e,r)<0}function cc(e){return e}function fc(e){return"TAG: ".concat(e)}function lc(e){return e}function Mr(e,r){return e.concat(r)}function pi(e){return Mn(e,[],Mr)}function di(e,r){return e.concat([{TAG:1,_0:r}])}function xn(e){return[{TAG:0,_0:e}]}function Fn(e){return[{TAG:0,_0:Dn("","concat",[e])}]}function Dr(e,r){return r.map(function(n){return{TAG:1,_0:n}}).concat(e)}function Nr(e,r){return e.concat(r.map(function(n){return{TAG:1,_0:n}}))}var _i={toString:fc,fromString:cc,toJson:lc,fromJson:cn};function z(e){return{TAG:0,_0:e,_1:[]}}function Ir(e){return{TAG:1,_0:xn(e)}}function ke(e){return{TAG:1,_0:Fn(e)}}function U(e,r){return e.TAG===0?{TAG:0,_0:e._0,_1:e._1.concat([_i.fromString(r)])}:{TAG:1,_0:di(e._0,r)}}function S(e,r){return e.TAG===0?{TAG:0,_0:d(r,e._0),_1:e._1}:{TAG:1,_0:e._0}}function _(e,r){if(e.TAG===0){var n=d(r,e._0),t=e._1;return n.TAG===0?{TAG:0,_0:n._0,_1:t.concat(n._1)}:{TAG:1,_0:Dr(n._0,t)}}else return{TAG:1,_0:e._0}}function qn(e,r){if(e.TAG===0)return d(r,e._0)}function me(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;return n.TAG===0?{TAG:0,_0:[r._0,n._0],_1:t.concat(n._1)}:{TAG:1,_0:Dr(n._0,t)}}var o=e[1],i=r._0;return o.TAG===0?{TAG:1,_0:Nr(i,o._1)}:{TAG:1,_0:Mr(i,o._0)}}function ue(e){if(!e)return{TAG:0,_0:0,_1:[]};var r=me([e.hd,ue(e.tl)]);if(r.TAG!==0)return{TAG:1,_0:r._0};var n=r._0;return{TAG:0,_0:kn(n[1],n[0]),_1:r._1}}function te(e){if(!e)return{TAG:0,_0:void 0,_1:[]};var r=me([e.hd,te(e.tl)]);return r.TAG===0?{TAG:0,_0:void 0,_1:r._1}:{TAG:1,_0:r._0}}function vi(e,r){return e!==void 0?{TAG:0,_0:Q(e),_1:[]}:{TAG:1,_0:r}}function C(e,r){return vi(e,xn(r))}function M(e,r){return vi(e,Fn(r))}function mi(e,r){return e?{TAG:0,_0:void 0,_1:[]}:{TAG:1,_0:r}}function hi(e,r){return mi(e,xn(r))}function Ke(e,r){return mi(e,Fn(r))}function Se(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;if(n.TAG===0){var o=e[2],i=n._1;return o.TAG===0?{TAG:0,_0:[r._0,n._0,o._0],_1:t.concat(i,o._1)}:{TAG:1,_0:Dr(o._0,t.concat(i))}}var a=e[2],u=n._0;return a.TAG===0?{TAG:1,_0:Nr(Dr(u,t),a._1)}:{TAG:1,_0:Dr(Mr(u,a._0),t)}}var s=e[1],c=r._0;if(s.TAG===0){var f=e[2],l=s._1;return f.TAG===0?{TAG:1,_0:Nr(c,l.concat(f._1))}:{TAG:1,_0:Mr(Nr(c,l),f._0)}}var p=e[2],h=s._0;return p.TAG===0?{TAG:1,_0:Nr(Mr(c,h),p._1)}:{TAG:1,_0:pi({hd:c,tl:{hd:h,tl:{hd:p._0,tl:0}}})}}function ze(e){return S(me([me([e[0],e[1]]),me([e[2],e[3]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1]]})}function _n(e){return S(me([me([e[0],e[1]]),Se([e[2],e[3],e[4]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1],n[2]]})}function Vr(e){return S(me([Se([e[0],e[1],e[2]]),Se([e[3],e[4],e[5]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2]]})}function jt(e){return S(me([Se([e[0],e[1],e[2]]),ze([e[3],e[4],e[5],e[6]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2],n[3]]})}function bi(e){return S(me([ze([e[0],e[1],e[2],e[3]]),_n([e[4],e[5],e[6],e[7],e[8]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3],n[4]]})}function Ri(e){return S(me([_n([e[0],e[1],e[2],e[3],e[4]]),_n([e[5],e[6],e[7],e[8],e[9]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],t[4],n[0],n[1],n[2],n[3],n[4]]})}function kt(e){return S(Se([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),Se([e[8],e[9],e[10]])]),function(r){var n=r[2],t=r[1],o=r[0];return[o[0],o[1],o[2],o[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2]]})}function $i(e){return S(Se([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),ze([e[8],e[9],e[10],e[11]])]),function(r){var n=r[2],t=r[1],o=r[0];return[o[0],o[1],o[2],o[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3]]})}function Rr(e){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:e._0}}var m_=ge.array_,$r=fn;function Wr(e,r){return _(C(Er(e),"JSON is not a valid array (reading array)"),function(n){return ln(n,z([]),function(t,o){return _(t,function(i){return S(d(r,o),function(a){return Br(i,[a])})})})})}function vn(e,r){return e.filter(ne(r))}function Pn(e,r){return ko(e.find(ne(r)))}function Ut(e,r){return ln(e,[],function(n,t){var o=d(r,t);return o!==void 0?Br(n,[Q(o)]):n})}var Hn=e=>[...new Set(e)];var Wi=No;var mn=Br;var yr=Vo;var xr=fn;var Kn=qo;var Fr=ln;var yi=Ko;function Ae(e){return e!==void 0?e.h:0}function Be(e,r,n,t){var o=Ae(e),i=Ae(t);return{k:r,v:n,h:o>=i?o+1|0:i+1|0,l:e,r:t}}function he(e,r){return{k:e,v:r,h:1,l:void 0,r:void 0}}function gi(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function hn(e,r){return e.v===r?e:{k:e.k,v:r,h:e.h,l:e.l,r:e.r}}function Oe(e,r,n,t){var o=e!==void 0?e.h:0,i=t!==void 0?t.h:0;if(o>(i+2|0)){var a=e.l,u=e.r;return Ae(a)>=Ae(u)?Be(a,e.k,e.v,Be(u,r,n,t)):Be(Be(a,e.k,e.v,u.l),u.k,u.v,Be(u.r,r,n,t))}if(i<=(o+2|0))return{k:r,v:n,h:o>=i?o+1|0:i+1|0,l:e,r:t};var s=t.l,c=t.r;return Ae(c)>=Ae(s)?Be(Be(e,r,n,s),t.k,t.v,c):Be(Be(e,r,n,s.l),s.k,s.v,Be(s.r,t.k,t.v,c))}function gr(e,r,n){var t=e.l;return t!==void 0?Oe(gr(t,r,n),e.k,e.v,e.r):(r.contents=e.k,n.contents=e.v,e.r)}function Mt(e){return e===void 0}function zn(e,r){for(;;){var n=e;if(n===void 0)return;zn(n.l,r),r(n.k,n.v),e=n.r}}function bn(e,r){if(e!==void 0){var n=bn(e.l,r),t=r(e.v),o=bn(e.r,r);return{k:e.k,v:t,h:e.h,l:n,r:o}}}function Rn(e,r){if(e!==void 0){var n=e.k,t=Rn(e.l,r),o=r(n,e.v),i=Rn(e.r,r);return{k:n,v:o,h:e.h,l:t,r:i}}}function Ai(e,r,n){return e!==void 0?Oe(Ai(e.l,r,n),e.k,e.v,e.r):he(r,n)}function Oi(e,r,n){return e!==void 0?Oe(e.l,e.k,e.v,Oi(e.r,r,n)):he(r,n)}function Xe(e,r,n,t){if(e===void 0)return Ai(t,r,n);if(t===void 0)return Oi(e,r,n);var o=e.k,i=e.v,a=e.h,u=e.l,s=e.r,c=t.k,f=t.v,l=t.h,p=t.l,h=t.r;return a>(l+2|0)?Oe(u,o,i,Xe(s,r,n,t)):l>(a+2|0)?Oe(Xe(e,r,n,p),c,f,h):Be(e,r,n,t)}function Si(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.k},t={contents:r.v},o=gr(r,n,t);return Xe(e,n.contents,t.contents,o)}function Xn(e,r,n,t){return n!==void 0?Xe(e,r,Q(n),t):Si(e,t)}function $n(e,r){if(e!==void 0){var n=e.k,t=e.v,o=$n(e.l,r),i=r(n,t),a=$n(e.r,r);return i!==void 0?Xe(o,n,Q(i),a):Si(o,a)}}function Wn(e){var r=e.l,n=e.r,t=r!==void 0?Wn(r):0,o=n!==void 0?Wn(n):0;return(1+t|0)+o|0}function Ji(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;var o=t.k,i=t.v,a=t.l,u=t.r;r={hd:[o,i],tl:Ji(u,n)},e=a}}function Dt(e){return Ji(e,0)}function Gi(e,r,n){for(;;){var t=r,o=e,i=o.k,a=o.l,u=o.r,s=a!==void 0?Gi(a,t,n):t;n[s]=i;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function Ei(e,r,n){for(;;){var t=r,o=e,i=o.l,a=o.r,u=i!==void 0?Ei(i,t,n):t;n[u]=o.v;var s=u+1|0;if(a===void 0)return s;r=s,e=a}}function Bi(e,r,n){for(;;){var t=r,o=e,i=o.l,a=o.k,u=o.r,s=i!==void 0?Bi(i,t,n):t;n[s]=[a,o.v];var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function Nt(e){if(e===void 0)return[];var r=Wn(e),n=new Array(r);return Bi(e,0,n),n}function It(e){if(e===void 0)return[];var r=Wn(e),n=new Array(r);return Gi(e,0,n),n}function Vt(e){if(e===void 0)return[];var r=Wn(e),n=new Array(r);return Ei(e,0,n),n}function yn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return he(t[0],t[1]);case 2:var o=e[r],i=e[r-1|0],a=i,u=o;return{k:a[0],v:a[1],h:2,l:he(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r-1|0],f=e[r-2|0],l=f,p=c,h=s;return{k:p[0],v:p[1],h:2,l:he(h[0],h[1]),r:he(l[0],l[1])};default:var m=n/2|0,b=yn(e,r,m),$=e[r-m|0],v=yn(e,(r-m|0)-1|0,(n-m|0)-1|0);return Be(b,$[0],$[1],v)}}function gn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return he(t[0],t[1]);case 2:var o=e[r],i=e[r+1|0],a=i,u=o;return{k:a[0],v:a[1],h:2,l:he(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r+1|0],f=e[r+2|0],l=f,p=c,h=s;return{k:p[0],v:p[1],h:2,l:he(h[0],h[1]),r:he(l[0],l[1])};default:var m=n/2|0,b=gn(e,r,m),$=e[r+m|0],v=gn(e,(r+m|0)+1|0,(n-m|0)-1|0);return Be(b,$[0],$[1],v)}}function Ci(e,r,n){for(;;){var t=e;if(t===void 0)return;var o=t.k,i=n(r,o);if(i===0)return X(t.v);e=i<0?t.l:t.r}}function wi(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var o=t.k,i=n(r,o);if(i===0)return!0;e=i<0?t.l:t.r}}function xt(e){var r=e.l;e.l=r.r,r.r=e;var n=Ae(e.l),t=Ae(e.r);e.h=(n>t?n:t)+1|0;var o=Ae(r.l),i=e.h;return r.h=(o>i?o:i)+1|0,r}function Ft(e){var r=e.r;e.r=r.l,r.l=e;var n=Ae(e.l),t=Ae(e.r);e.h=(n>t?n:t)+1|0;var o=Ae(r.r),i=e.h;return r.h=(o>i?o:i)+1|0,r}function pc(e){var r=e.l,n=Ft(r);return e.l=n,xt(e)}function dc(e){var r=e.r,n=xt(r);return e.r=n,Ft(e)}function Qn(e){var r=Ae(e.l),n=Ae(e.r);return e.h=(r>n?r:n)+1|0,e}function qt(e){var r=e.l,n=e.r,t=Ae(r),o=Ae(n);if(t>(2+o|0)){var i=r.l,a=r.r;return gi(i,a)?Qn(xt(e)):Qn(pc(e))}if(o>(2+t|0)){var u=n.l,s=n.r;return gi(s,u)?Qn(Ft(e)):Qn(dc(e))}return e.h=(t>o?t:o)+1|0,e}function Pt(e,r,n,t){if(e===void 0)return he(r,n);var o=e.k,i=t(r,o);if(i===0)return e.v=n,e;var a=e.l,u=e.r;if(i<0){var s=Pt(a,r,n,t);e.l=s}else e.r=Pt(u,r,n,t);return qt(e)}function Li(e,r){var n=e.length;if(n!==0){var t=Cr(e,function(u,s){return r(u[0],s[0])<0}),o;t>=0?o=gn(e,0,t):(t=-t|0,o=yn(e,t-1|0,t));for(var i=t;i<n;++i){var a=e[i];o=Pt(o,a[0],a[1],r)}return o}}function Ht(e,r,n){if(e===void 0)return he(r,n);var t=e.k;if(r===t)return e.k=r,e.v=n,e;var o=e.l,i=e.r;if(r<t){var a=Ht(o,r,n);e.l=a}else e.r=Ht(i,r,n);return qt(e)}function ji(e){var r=e.length;if(r!==0){var n=Cr(e,function(a,u){return a[0]<u[0]}),t;n>=0?t=gn(e,0,n):(n=-n|0,t=yn(e,n-1|0,n));for(var o=n;o<r;++o){var i=e[o];t=Ht(t,i[0],i[1])}return t}}var Mc=ji;var z_=ge.string_;function g(e){return e}function A(e){return M(cn(e),["Not a JSON string: ",String(e)])}var X_=Mc([[" ",.3],["!",.33],[".",.33],[",",.33],[";",.33],[":",.33],['"',.4],["'",.25],["/",.35],["\\",.35],["@",1.2],["#",.66],["$",.66],["\xC2\xA3",.66],["&",.8],["*",.45],["(",.4],[")",.4],["[",.4],["]",.4],["{",.4],["}",.4],["|",.3],["+",.7],["-",.4],["\xE2\x80\x93",.66],["\xE2\x80\x94",1.15],["=",.7],["_",.66],["0",.66],["1",.6],["2",.66],["3",.66],["4",.66],["5",.66],["6",.66],["7",.66],["8",.66],["9",.66],["a",.66],["b",.66],["c",.6],["d",.66],["e",.66],["f",.33],["g",.66],["h",.66],["i",.25],["j",.25],["k",.66],["l",.25],["m",1],["n",.66],["o",.66],["p",.66],["q",.66],["r",.4],["s",.66],["t",.33],["u",.66],["v",.65],["w",.9],["x",.66],["y",.66],["z",.66],["A",.8],["B",.8],["C",.85],["D",.85],["E",.8],["F",.75],["G",.95],["H",.85],["I",.33],["J",.6],["K",.8],["L",.66],["M",1],["N",.85],["O",.95],["P",.8],["Q",.95],["R",.85],["S",.8],["T",.65],["U",.85],["V",.8],["W",1.15],["X",.8],["Y",.8],["Z",.75]]);var tr=g,or=A;function Nc(e){switch(e){case 0:return"Semantic";case 1:return"Auxiliary";case 2:return"Arbitrary"}}function Ic(e){switch(e){case"Arbitrary":return 2;case"Auxiliary":return 1;case"Semantic":return 0;default:return}}function Ce(e){return g(Nc(e))}function we(e){return _(A(e),function(r){return M(Ic(r),["Function '",r,"' is not one of Semantic, Auxiliary, or Arbitrary"])})}function ki(e){var r=e.cmp,n=ye(r);return{cmp:n}}function Ui(e){for(var r=Object.keys(e),n=r.length,t=new Array(n),o=0;o<n;++o){var i=r[o];t[o]=[i,e[i]]}return t}function Mi(e){for(var r={},n=e;;){var t=n;if(!t)return r;var o=t.hd;r[o[0]]=o[1],n=t.tl}}function Zn(e,r,n,t){if(e===void 0)return he(r,n);var o=e.k,i=t(r,o);if(i===0)return hn(e,n);var a=e.l,u=e.r,s=e.v;return i<0?Oe(Zn(a,r,n,t),o,s,u):Oe(a,o,s,Zn(u,r,n,t))}function Yn(e,r,n,t){if(e!==void 0){var o=e.k,i=t(r,o);if(i===0){var a=n(X(e.v));if(a!==void 0)return hn(e,Q(a));var u=e.l,s=e.r;if(u===void 0)return s;if(s===void 0)return u;var c={contents:s.k},f={contents:s.v},l=gr(s,c,f);return Oe(u,c.contents,f.contents,l)}var p=e.l,h=e.r,m=e.v;if(i<0){var b=Yn(p,r,n,t);return p===b?e:Oe(b,o,m,h)}var $=Yn(h,r,n,t);return h===$?e:Oe(p,o,m,$)}var v=n(void 0);return v!==void 0?he(r,Q(v)):e}function Kt(e,r,n){var t=e.k,o=e.l,i=e.r,a=n(r,t);if(a===0){if(o===void 0)return i;if(i===void 0)return o;var u={contents:i.k},s={contents:i.v},c=gr(i,u,s);return Oe(o,u.contents,s.contents,c)}if(a<0){if(o===void 0)return e;var f=Kt(o,r,n);return f===o?e:Oe(f,t,e.v,i)}if(i===void 0)return e;var l=Kt(i,r,n);return l===i?e:Oe(o,t,e.v,l)}function Di(e,r,n){if(e!==void 0)return Kt(e,r,n)}function et(e,r,n,t){var o=e.k,i=e.v,a=e.l,u=e.r,s=t(r,o);if(s===0)return n.contents=X(i),[a,u];if(s<0){if(a===void 0)return[void 0,e];var c=et(a,r,n,t);return[c[0],Xe(c[1],o,i,u)]}if(u===void 0)return[e,void 0];var f=et(u,r,n,t);return[Xe(a,o,i,f[0]),f[1]]}function qr(e,r,n,t){if(e===void 0)return r!==void 0?$n(r,function(y,G){return n(y,void 0,X(G))}):void 0;if(r===void 0)return $n(e,function(y,G){return n(y,X(G),void 0)});if(e.h>=r.h){var o=e.k,i=e.v,a=e.l,u=e.r,s={contents:void 0},c=et(r,o,s,t),f=s.contents,l=qr(a,c[0],n,t),p=n(o,X(i),f),h=qr(u,c[1],n,t);return Xn(l,o,p,h)}var m=r.k,b=r.v,$=r.l,v=r.r,W={contents:void 0},R=et(e,m,W,t),T=W.contents,k=qr(R[0],$,n,t),K=n(m,T,X(b)),w=qr(R[1],v,n,t);return Xn(k,m,K,w)}var Ni=Mt,Ii=wi;var Vi=zn;var xi=Dt,Fi=Nt,qi=Li,Pi=It,Hi=Vt;var Ki=Ci;var zi=bn;var Xi=Rn;function Qi(e,r){var n=r.cmp;return{cmp:n,data:qi(e,n)}}function Zi(e,r){var n=e.data,t=e.cmp,o=Di(n,r,t);return o===n?e:{cmp:t,data:o}}function zt(e,r,n){var t=e.cmp;return{cmp:t,data:Zn(e.data,r,n,t)}}function Vc(e,r,n){var t=e.cmp;return{cmp:t,data:Yn(e.data,r,n,t)}}function Yi(e,r,n){return Vc(e,r,ne(n))}function xc(e,r,n){var t=e.cmp;return{cmp:t,data:qr(e.data,r.data,n,t)}}function Xt(e,r,n){return xc(e,r,nr(n))}function rt(e){return{cmp:e.cmp,data:void 0}}function ea(e){return Ni(e.data)}function ra(e,r){return Vi(e.data,ye(r))}function Fc(e,r){return{cmp:e.cmp,data:zi(e.data,r)}}function na(e,r){return Fc(e,ne(r))}function qc(e,r){return{cmp:e.cmp,data:Xi(e.data,r)}}function ta(e,r){return qc(e,ye(r))}function Qt(e){return xi(e.data)}function oa(e){return Fi(e.data)}function ia(e){return Pi(e.data)}function aa(e){return Hi(e.data)}function ua(e,r){return Ki(e.data,r,e.cmp)}function sa(e,r){return Ii(e.data,r,e.cmp)}function Le(e,r,n){var t=e!==void 0?e.h:0,o=n!==void 0?n.h:0;return{v:r,h:(t>=o?t:o)+1|0,l:e,r:n}}function Te(e){return{v:e,h:1,l:void 0,r:void 0}}function nt(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function Ve(e,r,n){var t=e!==void 0?e.h:0,o=n!==void 0?n.h:0;if(t>(o+2|0)){var i=e.l,a=e.r;return nt(i,a)?Le(i,e.v,Le(a,r,n)):Le(Le(i,e.v,a.l),a.v,Le(a.r,r,n))}if(o<=(t+2|0))return{v:r,h:(t>=o?t:o)+1|0,l:e,r:n};var u=n.l,s=n.r;return nt(s,u)?Le(Le(e,r,u),n.v,s):Le(Le(e,r,u.l),u.v,Le(u.r,n.v,s))}function tt(e,r){var n=e.l;return n!==void 0?Ve(tt(n,r),e.v,e.r):(r.contents=e.v,e.r)}function ca(e){return e===void 0}function fa(e,r){return e!==void 0?Ve(fa(e.l,r),e.v,e.r):Te(r)}function la(e,r){return e!==void 0?Ve(e.l,e.v,la(e.r,r)):Te(r)}function xe(e,r,n){if(e===void 0)return fa(n,r);if(n===void 0)return la(e,r);var t=e.h,o=n.h;return t>(o+2|0)?Ve(e.l,e.v,xe(e.r,r,n)):o>(t+2|0)?Ve(xe(e,r,n.l),n.v,n.r):Le(e,r,n)}function pa(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.v},t=tt(r,n);return xe(e,n.contents,t)}function ot(e){var r=e.l,n=e.r,t=r!==void 0?ot(r):0,o=n!==void 0?ot(n):0;return(1+t|0)+o|0}function da(e){return e!==void 0?ot(e):0}function _a(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;r={hd:t.v,tl:_a(t.r,n)},e=t.l}}function va(e){return _a(e,0)}function ma(e,r,n){for(;;){var t=r,o=e,i=o.v,a=o.l,u=o.r,s=a!==void 0?ma(a,t,n):t;n[s]=i;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function ha(e){if(e===void 0)return[];var r=ot(e),n=new Array(r);return ma(e,0,n),n}function Zt(e,r,n){switch(n){case 0:return;case 1:return Te(e[r]);case 2:var t=e[r],o=e[r-1|0];return{v:o,h:2,l:Te(t),r:void 0};case 3:var i=e[r],a=e[r-1|0],u=e[r-2|0];return{v:a,h:2,l:Te(i),r:Te(u)};default:var s=n/2|0,c=Zt(e,r,s),f=e[r-s|0],l=Zt(e,(r-s|0)-1|0,(n-s|0)-1|0);return Le(c,f,l)}}function Yt(e,r,n){switch(n){case 0:return;case 1:return Te(e[r]);case 2:var t=e[r],o=e[r+1|0];return{v:o,h:2,l:Te(t),r:void 0};case 3:var i=e[r],a=e[r+1|0],u=e[r+2|0];return{v:a,h:2,l:Te(i),r:Te(u)};default:var s=n/2|0,c=Yt(e,r,s),f=e[r+s|0],l=Yt(e,(r+s|0)+1|0,(n-s|0)-1|0);return Le(c,f,l)}}function ba(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var o=t.v,i=n(r,o);if(i===0)return!0;e=i<0?t.l:t.r}}function eo(e){var r=e.l;e.l=r.r,r.r=e;var n=e.l,t=n!==void 0?n.h:0,o=e.r,i=o!==void 0?o.h:0;e.h=(t>i?t:i)+1|0;var a=r.l,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function ro(e){var r=e.r;e.r=r.l,r.l=e;var n=e.l,t=n!==void 0?n.h:0,o=e.r,i=o!==void 0?o.h:0;e.h=(t>i?t:i)+1|0;var a=r.r,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function Pc(e){var r=e.l,n=ro(r);return e.l=n,eo(e)}function Hc(e){var r=e.r,n=eo(r);return e.r=n,ro(e)}function it(e){var r=e.l,n=r!==void 0?r.h:0,t=e.r,o=t!==void 0?t.h:0;return e.h=(n>o?n:o)+1|0,e}function Kc(e){var r=e.l,n=e.r,t=r!==void 0?r.h:0,o=n!==void 0?n.h:0;if(t>(2+o|0)){var i=r.l,a=r.r;return nt(i,a)?it(eo(e)):it(Pc(e))}if(o>(2+t|0)){var u=n.l,s=n.r;return nt(s,u)?it(ro(e)):it(Hc(e))}return e.h=(t>o?t:o)+1|0,e}function no(e,r,n){if(r===void 0)return Te(n);var t=r.v,o=e(n,t);if(o===0)return r;var i=r.l,a=r.r;if(o<0){var u=no(e,i,n);r.l=u}else r.r=no(e,a,n);return Kc(r)}function Ra(e,r){var n=e.length;if(n!==0){var t=Cr(e,function(a,u){return r(a,u)<0}),o;t>=0?o=Yt(e,0,t):(t=-t|0,o=Zt(e,t-1|0,t));for(var i=t;i<n;++i)o=no(r,o,e[i]);return o}}function Pr(e,r,n){if(e===void 0)return Te(r);var t=e.v,o=n(r,t);if(o===0)return e;var i=e.l,a=e.r;if(o<0){var u=Pr(i,r,n);return u===i?e:Ve(u,t,a)}var s=Pr(a,r,n);return s===a?e:Ve(i,t,s)}function at(e,r,n){if(e===void 0)return e;var t=e.v,o=e.l,i=e.r,a=n(r,t);if(a===0){if(o===void 0)return i;if(i===void 0)return o;var u={contents:i.v},s=tt(i,u);return Ve(o,u.contents,s)}if(a<0){var c=at(o,r,n);return c===o?e:Ve(c,t,i)}var f=at(i,r,n);return f===i?e:Ve(o,t,f)}function ut(e,r,n){var t=r.v,o=r.l,i=r.r,a=e(n,t);if(a===0)return[o,i];if(a<0){if(o===void 0)return[void 0,r];var u=ut(e,o,n);return[u[0],xe(u[1],t,i)]}if(i===void 0)return[r,void 0];var s=ut(e,i,n);return[xe(o,t,s[0]),s[1]]}function to(e,r,n,t){var o=r.v,i=r.l,a=r.r,u=e(n,o);if(u===0)return t.contents=!0,[i,a];if(u<0){if(i===void 0)return[void 0,r];var s=to(e,i,n,t);return[s[0],xe(s[1],o,a)]}if(a===void 0)return[r,void 0];var c=to(e,a,n,t);return[xe(i,o,c[0]),c[1]]}function Hr(e,r,n){if(e===void 0)return r;if(r===void 0)return e;var t=e.h,o=r.h;if(t>=o){if(o===1)return Pr(e,r.v,n);var i=e.v,a=e.l,u=e.r,s=ut(n,r,i);return xe(Hr(a,s[0],n),i,Hr(u,s[1],n))}if(t===1)return Pr(r,e.v,n);var c=r.v,f=r.l,l=r.r,p=ut(n,e,c);return xe(Hr(p[0],f,n),c,Hr(p[1],l,n))}function st(e,r,n){if(e!==void 0&&r!==void 0){var t=e.v,o=e.l,i=e.r,a={contents:!1},u=to(n,r,t,a),s=st(o,u[0],n),c=st(i,u[1],n);return a.contents?xe(s,t,c):pa(s,c)}}var $a=Ra;var Wa=ca,ya=ba;var ga=da,Aa=va,Oa=ha;function Sa(e,r){var n=r.cmp;return{cmp:n,data:$a(e,n)}}function Ja(e,r){var n=e.data,t=e.cmp,o=at(n,r,t);return o===n?e:{cmp:t,data:o}}function oo(e,r){var n=e.data,t=e.cmp,o=Pr(n,r,t);return o===n?e:{cmp:t,data:o}}function Ga(e,r){var n=e.cmp;return{cmp:n,data:Hr(e.data,r.data,n)}}function Ea(e,r){var n=e.cmp;return{cmp:n,data:st(e.data,r.data,n)}}function Ba(e){return{cmp:e.cmp,data:void 0}}function Ca(e){return Wa(e.data)}function wa(e){return ga(e.data)}function io(e){return Aa(e.data)}function La(e){return Oa(e.data)}function Ta(e,r){return ya(e.data,r,e.cmp)}var Ym=ge.int_;function ir(e){return e}function ar(e){return S(C(Bt(e),"JSON is not a number (reading Int)"),function(r){return r|0})}function ja(e,r){return e.toString(r)}function ka(e,r){return parseInt(e,r)}var hh=ge.option_;function ao(e){var r=e[1];return dn(e[0],function(n){return Lr(r,function(t){return[n,t]})})}function oe(e,r){return e!==void 0?d(r,Q(e)):null}function ie(e,r){return e===null?z(void 0):S(d(r,e),function(n){return X(n)})}var ur=Zo;var Ar=Lr;var ct=dn,Kr=ri,Ua=ni,sr=ti;var Zb=ge.list_;function Ma(e){return!e}function Z(e,r){return pn(Un(e,r))}function Y(e,r){return _(C(Er(e),"JSON is not a valid array (reading list)"),function(n){return ue(Un(wr(n),r))})}var ft=Tt;var Ue=kn;var Da=zo;var L=Un;var le=wr;var zr=Mn;var cr=0;var _0=ge.int_,uo={counter:Date.now()|0};function so(e){var r=uo.counter;return uo.counter=uo.counter+1|0,r}function Na(e){return Fr(e,0,function(r,n){return(r<<1)+n|0})}function j(e){return ja(e,16)}function Xr(e){return ka(e,16)}function x(e){return g(j(e))}function F(e){return S(A(e),Xr)}function Qc(e,r){return fi(e,r)?1:li(e,r)?-1:0}var Qr=ki({cmp:Qc}),Ia=Ba(Qr);function Va(e){return zr(e,Ia,oo)}function Zc(e){return Sa(e,Qr)}function Yc(e){return Z(io(e),x)}function ef(e){return S(Y(e,F),Va)}function rf(e){return rt(Qr)}function nf(e,r){return Xt(e,rt(Qr),function(n,t,o){return ct(t,function(i){return Ln(r,n,i)})})}function xa(e){return zr(e,rt(Qr),function(r,n){return zt(r,n[0],n[1])})}function tf(e){return Qi(e,Qr)}function of(e,r){return Mi(L(Qt(e),function(n){return[j(n[0]),d(r,n[1])]}))}function af(e,r){return _(C(Uo(e),"JSON is not an object (reading UUID)"),function(n){return S(ue(le(xr(Ui(n),function(t){var o=t[0];return S(d(r,t[1]),function(i){return[Xr(o),i]})}))),xa)})}var Je={toJson:Yc,fromJson:ef,empty:Ia,isEmpty:Ca,has:Ta,add:oo,remove:Ja,union:Ga,intersect:Ea,size:wa,toList:io,fromList:Va,toArray:La,fromArray:Zc},J={toJson:of,fromJson:af,empty:rf,isEmpty:ea,has:sa,set:zt,get:ua,remove:Zi,update:Yi,map:na,mapWithKey:ta,mapPartial:nf,forEach:ra,merge:Xt,keys:ia,values:aa,toList:Qt,toArray:oa,fromList:xa,fromArray:tf};var R0=ge.bool_;function pe(e){return e}function de(e){return C(Mo(e),"JSON is not a valid boolean")}function _e(e,r,n,t,o){return zr(e,[r,n],function(i,a){var u=i[1],s=i[0];if(Je.has(u,je(t,a)))return[s,u];var c=wn(o,a,u);return[Da(s,c[0]),Je.union(u,c[1])]})}function ve(e,r,n,t,o,i,a,u){return _(e,function(s){return zr(s,z([o,i,a,u]),function(c,f){var l=function(p,h,m){return h!==void 0?ce(Et(h)):m!==void 0?ce(Et(m)):void 0};return _(c,function(p){var h=p[3],m=p[2],b=p[1],$=p[0],v;switch(t){case 0:v=J.has($,f);break;case 1:v=J.has(b,f);break;case 2:v=J.has(m,f);break;case 3:v=J.has(h,f);break}return v?z([$,b,m,h]):S(Lo(r,n,f,$,b,m,h),function(W){return[J.merge($,W[0],l),J.merge(b,W[1],l),J.merge(m,W[2],l),J.merge(h,W[3],l)]})})})})}function Fa(e,r,n){var t=function(c){return c.id},o=function(c){return te({hd:Ke(c.explicit===!sr(c.graphic),["Token '",j(c.id),"' must be explicit iff it has a graphic instance"]),tl:{hd:te(L(c.sub_tokens,o)),tl:{hd:te(L(c.anchored_tokens,o)),tl:{hd:te(L(c.anchored_dimensions,e.validate)),tl:{hd:te(L(c.anchored_schemes,r.validate)),tl:{hd:te(L(c.anchored_representations,n.validate)),tl:0}}}}}})},i=function(c,f){var l=Je.add(f,c.id),p=_e(c.sub_tokens,cr,l,t,i),h=_e(c.anchored_tokens,p[0],p[1],t,i),m=_e(c.anchored_dimensions,h[0],h[1],e.id,e._toJsonHelper),b=_e(c.anchored_schemes,m[0],m[1],r.id,r._toJsonHelper),$=_e(c.anchored_representations,b[0],b[1],n.id,n._toJsonHelper);return[Ue($[0],[c.id,H({hd:["concept",g(c.concept)],tl:{hd:["graphic",oe(c.graphic,tr)],tl:{hd:["is_class",pe(c.is_class)],tl:{hd:["function",Ce(c.function)],tl:{hd:["explicit",pe(c.explicit)],tl:{hd:["sub_tokens",Z(L(c.sub_tokens,t),x)],tl:{hd:["anchored_tokens",Z(L(c.anchored_tokens,t),x)],tl:{hd:["anchored_dimensions",Z(L(c.anchored_dimensions,e.id),x)],tl:{hd:["anchored_schemes",Z(L(c.anchored_schemes,r.id),x)],tl:{hd:["anchored_representations",Z(L(c.anchored_representations,n.id),x)],tl:0}}}}}}}}}})]),$[1]]},a=function(c){return H(Ue(L(i(c,Je.empty)[0],function(f){return[j(f[0]),f[1]]}),["start",x(c.id)]))},u=function(c,f,l,p,h,m){return _(U(U(M(N(c,j(f)),["Cannot find object matching ID '",j(f),"'"]),"Reading Schema.Token.t"),"Reading ID ".concat(j(f))),function(b){return _(C(V(b),"JSON is not a valid object"),function($){var v=function(E,ee){return _(M(N($,E),["Unable to find key '",E,"'"]),ee)},W=v("concept",A),R=v("graphic",function(E){return ie(E,or)}),T=v("is_class",de),k=v("function",we),K=v("explicit",de),w=v("sub_tokens",function(E){return Y(E,F)}),y=v("anchored_tokens",function(E){return Y(E,F)}),G=v("anchored_dimensions",function(E){return Y(E,F)}),O=v("anchored_schemes",function(E){return Y(E,F)}),P=v("anchored_representations",function(E){return Y(E,F)});return _(ve(U(w,"Reading sub-tokens"),u,c,3,l,p,h,m),function(E){return _(ve(U(y,"Reading anchored tokens"),u,c,3,E[0],E[1],E[2],E[3]),function(ee){return _(ve(U(G,"Reading anchored dimensions"),e._fromJsonHelper,c,2,ee[0],ee[1],ee[2],ee[3]),function(Re){return _(ve(U(O,"Reading anchored schemes"),r._fromJsonHelper,c,1,Re[0],Re[1],Re[2],Re[3]),function($e){var Ee=$e[3],Fe=$e[2],He=$e[1],rr=$e[0];return _(ve(U(P,"Reading anchored schemes"),n._fromJsonHelper,c,0,rr,He,Fe,Ee),function(qe){var B=qe[3],I=qe[2],dr=qe[1],_r=qe[0],De=function(re,We){return M(J.get(re,We),["Unable to find value with ID '",j(We),"' (reading Schema.Token.t)"])},vr=_(U(w,"Loading sub-tokens"),function(re){return ue(L(re,function(We){return De(B,We)}))}),mr=_(U(y,"Loading anchored tokens"),function(re){return ue(L(re,function(We){return De(B,We)}))}),hr=_(U(G,"Loading anchored dimensions"),function(re){return ue(L(re,function(We){return De(I,We)}))}),un=_(U(O,"Loading anchored schemes"),function(re){return ue(L(re,function(We){return De(dr,We)}))}),sn=_(U(P,"Loading anchored representations"),function(re){return ue(L(re,function(We){return De(_r,We)}))});return _(Ri([W,R,T,k,K,vr,mr,hr,un,sn]),function(re){var We=re[0],At=re[1],Ot=re[2],rs=re[3],ns=re[4],ts=re[5],os=re[6],is=re[7],as=re[8],us=re[9],ss={id:f,concept:We,graphic:At,is_class:Ot,function:rs,explicit:ns,sub_tokens:ts,anchored_tokens:os,anchored_dimensions:is,anchored_schemes:as,anchored_representations:us};return U(z([rr,He,Fe,J.set(Ee,f,ss)]),"Successfully read Token with ID ".concat(j(f)))})})})})})})})})},s=function(c){return _(C(V(c),"JSON is not a valid object (reading Schema.Token.t)"),function(f){var l=_(C(N(f,"start"),"Unable to find start of model (reading Schema.Token.t)"),F);return _(l,function(p){return _(u(f,p,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return C(J.get(h[3],p),"Missing start of model (reading Schema.Token.t)")})})})};return{id:t,validate:o,_toJsonHelper:i,toJson:a,_fromJsonHelper:u,fromJson:s}}function co(e,r){return e<r?-1:e===r?0:1}function qa(e,r){return e?r?0:1:r?-1:0}function fo(e,r){return e===r?0:e<r?-1:1}var Pa=function(e,r){for(var n in e)r(n)};var Ha=function(e,r){var n;if(Array.isArray(r)){for(n=0;n<r.length;++n)e[n]=r[n];r.TAG!==void 0&&(e.TAG=r.TAG)}else for(var n in r)e[n]=r[n]};function An(e,r){if(e===r)return 0;var n=typeof e,t=typeof r;switch(n){case"boolean":if(t==="boolean")return qa(e,r);break;case"function":if(t==="function")throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if(t==="number")return co(e,r);break;case"string":return t==="string"?fo(e,r):1;case"undefined":return-1;default:}switch(t){case"string":return-1;case"undefined":return 1;default:if(n==="boolean")return 1;if(t==="boolean")return-1;if(n==="function")return 1;if(t==="function")return-1;if(n==="number")return r===null||r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(t==="number")return e===null||e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e===null)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(r===null)return e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?Ka(e,r):-1;var o=e.TAG|0,i=r.TAG|0;if(o===248)return co(e[1],r[1]);if(o===251)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(o!==i)return o<i?-1:1;var a=e.length|0,u=r.length|0;if(a===u)if(Array.isArray(e))for(var s=0;;){var c=s;if(c===a)return 0;var f=An(e[c],r[c]);if(f!==0)return f;s=c+1|0}else return e instanceof Date&&r instanceof Date?e-r:Ka(e,r);else if(a<u)for(var l=0;;){var p=l;if(p===a)return-1;var h=An(e[p],r[p]);if(h!==0)return h;l=p+1|0}else for(var m=0;;){var b=m;if(b===u)return 1;var $=An(e[b],r[b]);if($!==0)return $;m=b+1|0}}}function Ka(e,r){var n={contents:void 0},t={contents:void 0},o=function(l,p){var h=l[2],m=l[1];if(!m.hasOwnProperty(p)||An(l[0][p],m[p])>0){var b=h.contents;if(!(b!==void 0&&p>=b)){h.contents=p;return}}},i=[e,r,t],a=function(l){return o(i,l)},u=[r,e,n],s=function(l){return o(u,l)};Pa(e,a),Pa(r,s);var c=n.contents,f=t.contents;return c!==void 0?f!==void 0?fo(c,f):-1:f!==void 0?1:0}function za(e,r){return An(e,r)<0}function uf(e){switch(e){case"Global":return 0;case"Local":return 1;default:return}}function Qe(e){return g(e?"Local":"Global")}function Ze(e){return _(A(e),function(r){return M(uf(r),["Scope '",r,"' is not one of Global or Local"])})}function sf(e){return{TAG:0,_0:e}}function lo(e){if(!!e){var r=e.tl,n=e.hd;return r?{TAG:1,_0:n,_1:ur(lo(r))}:{TAG:0,_0:n}}}function fr(e){return e.TAG===0?{hd:e._0,tl:0}:{hd:e._0,tl:fr(e._1)}}function Xa(e){return lo(le(e))}function po(e){return e.TAG===0?1:1+po(e._1)|0}function Zr(e,r){return e.TAG===0?{TAG:0,_0:d(r,e._0)}:{TAG:1,_0:d(r,e._0),_1:Zr(e._1,r)}}function _o(e){return e.TAG===0?S(e._0,sf):S(me([e._0,_o(e._1)]),function(r){return{TAG:1,_0:r[0],_1:r[1]}})}function Qa(e,r){return Z(fr(e),r)}function Za(e,r){return _(Y(e,r),function(n){return C(lo(n),"Non-empty list is empty when reading JSON")})}function Ya(e,r){var n=function(s){return s.id},t=function(s){return te({hd:Ke(s.explicit===!sr(s.graphic_structure),["Scheme '",j(s.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:Ke(po(s.dimensions)>2||!Ma(s.tokens),["Scheme '",j(s.id),"' must have either at least two dimensions, or at least one dimension and one token"]),tl:{hd:te(L(s.tokens,r.validate)),tl:{hd:te(fr(Zr(s.dimensions,e.validate))),tl:{hd:te(L(s.schemes,t)),tl:0}}}}})},o=function(s,c){var f=Je.add(c,s.id),l=_e(s.tokens,cr,f,r.id,r._toJsonHelper),p=_e(fr(s.dimensions),l[0],l[1],e.id,e._toJsonHelper),h=_e(s.schemes,p[0],p[1],n,o);return[Ue(h[0],[s.id,H({hd:["concept_structure",g(s.concept_structure)],tl:{hd:["graphic_structure",oe(s.graphic_structure,tr)],tl:{hd:["function",Ce(s.function)],tl:{hd:["explicit",pe(s.explicit)],tl:{hd:["scope",Qe(s.scope)],tl:{hd:["tokens",Z(L(s.tokens,r.id),x)],tl:{hd:["dimensions",Qa(Zr(s.dimensions,e.id),x)],tl:{hd:["schemes",Z(L(s.schemes,n),x)],tl:{hd:["organisation",g(s.organisation)],tl:0}}}}}}}}})]),h[1]]},i=function(s){return H(Ue(L(o(s,Je.empty)[0],function(c){return[j(c[0]),c[1]]}),["start",x(s.id)]))},a=function(s,c,f,l,p,h){return _(U(U(M(N(s,j(c)),["Cannot find object matching ID '",j(c),"'"]),"Reading Schema.Scheme.t"),"Reading ID ".concat(j(c))),function(m){return _(C(V(m),"JSON is not a valid object (reading Scheme.Scheme.t)"),function(b){var $=function(O,P){return _(M(N(b,O),["Unable to find key '",O,"' (reading Schema.Scheme.t)"]),P)},v=$("concept_structure",A),W=$("graphic_structure",function(O){return ie(O,or)}),R=$("function",we),T=$("explicit",de),k=$("scope",Ze),K=$("organisation",A),w=$("tokens",function(O){return Y(O,F)}),y=$("dimensions",function(O){return Za(O,F)}),G=$("schemes",function(O){return Y(O,F)});return _(ve(U(w,"Reading tokens"),r._fromJsonHelper,s,3,f,l,p,h),function(O){return _(ve(S(U(y,"Reading dimensions"),fr),e._fromJsonHelper,s,2,O[0],O[1],O[2],O[3]),function(P){return _(ve(U(G,"Reading schemes"),a,s,1,P[0],P[1],P[2],P[3]),function(E){var ee=E[3],Re=E[2],$e=E[1],Ee=E[0],Fe=function(B,I){return M(J.get(B,I),["Unable to find value with ID '",j(I),"' (reading Schema.Scheme.t)"])},He=_(U(w,"Loading tokens"),function(B){return ue(L(B,function(I){return Fe(ee,I)}))}),rr=_(U(y,"Loading dimensions"),function(B){return _o(Zr(B,function(I){return Fe(Re,I)}))}),qe=_(U(G,"Loading schemes"),function(B){return ue(L(B,function(I){return Fe($e,I)}))});return _(bi([v,W,R,T,k,He,rr,qe,K]),function(B){var I=B[0],dr=B[1],_r=B[2],De=B[3],vr=B[4],mr=B[5],hr=B[6],un=B[7],sn=B[8],re={id:c,concept_structure:I,graphic_structure:dr,function:_r,explicit:De,scope:vr,tokens:mr,dimensions:hr,schemes:un,organisation:sn};return U(z([Ee,J.set($e,c,re),Re,ee]),"Successfully read Scheme with ID ".concat(j(c)))})})})})})})},u=function(s){return _(C(V(s),"JSON is not a valid object (reading Schema.Scheme.t)"),function(c){var f=_(C(N(c,"start"),"Unable to find start of model (reading Schema.Scheme.t)"),F);return _(f,function(l){return _(a(c,l,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(p){return C(J.get(p[1],l),"Missing start of model (reading Schema.Scheme.t)")})})})};return{id:n,validate:t,_toJsonHelper:o,toJson:i,_fromJsonHelper:a,fromJson:u}}function On(e,r){var n=function(a){throw{RE_EXN_ID:"Undefined_recursive_module",_1:e,Error:new Error}},t=function(a,u,s){if(typeof a=="number")switch(a){case 0:u[s]=n;return;case 1:u[s]={LAZY_DONE:!0,VAL:n};return;case 2:u[s]=[n,n,n,0];return}else{if(a.TAG===0){var c=a._0,f={};u[s]=f;for(var l=c.length,p=0;p<l;++p){var h=c[p];t(h[0],f,h[1])}return}u[s]=a._0;return}},o={},i="dummy";return t(r,o,i),o[i]}function Sn(e,r,n){var t=function(c,f,l,p,h){if(typeof c=="number")switch(c){case 0:p[h]=l;return;case 1:case 2:return Ha(f,l)}else{if(c.TAG!==0)return;for(var m=c._0,b=0,$=m.length;b<$;++b){var v=m[b],W=v[1];t(v[0],f[W],l[W],f,W)}return}};if(typeof e=="number")throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error};if(e.TAG===0){for(var o=e._0,i=0,a=o.length;i<a;++i){var u=o[i],s=u[1];t(u[0],r[s],n[s],r,s)}return}throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error}}function cf(e){switch(e){case 0:return"Nominal";case 1:return"Ordinal";case 2:return"Interval";case 3:return"Ratio"}}function ff(e){switch(e){case"Interval":return 2;case"Nominal":return 0;case"Ordinal":return 1;case"Ratio":return 3;default:return}}function lr(e){return g(cf(e))}function pr(e){return _(A(e),function(r){return M(ff(r),["Quantity scale '",r,"' is not one of Nominal, Ordinal, Interval, or Ratio"])})}var lt=g,pt=A;var dt=g,_t=A;function eu(e){var r=function(u){return u.id},n=function(u){return te({hd:hi(u.concept!=="","Dimension concept cannot be empty"),tl:{hd:Ke(u.explicit===!sr(u.graphic),["Dimension '",j(u.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:te(L(u.dimensions,n)),tl:{hd:te(L(u.tokens,e.validate)),tl:0}}}})},t=function(u,s){var c=Je.add(s,u.id),f=_e(u.dimensions,cr,c,r,t),l=_e(u.tokens,f[0],f[1],e.id,e._toJsonHelper);return[Ue(l[0],[u.id,H({hd:["concept",g(u.concept)],tl:{hd:["concept_scale",lr(u.concept_scale)],tl:{hd:["concept_attributes",Z(u.concept_attributes,lt)],tl:{hd:["graphic",oe(u.graphic,tr)],tl:{hd:["graphic_scale",lr(u.graphic_scale)],tl:{hd:["graphic_attributes",Z(u.graphic_attributes,dt)],tl:{hd:["function",Ce(u.function)],tl:{hd:["scope",Qe(u.scope)],tl:{hd:["explicit",pe(u.explicit)],tl:{hd:["dimensions",Z(L(u.dimensions,r),x)],tl:{hd:["tokens",Z(L(u.tokens,e.id),x)],tl:{hd:["organisation",g(u.organisation)],tl:0}}}}}}}}}}}})]),l[1]]},o=function(u){return H(Ue(L(t(u,Je.empty)[0],function(s){return[j(s[0]),s[1]]}),["start",x(u.id)]))},i=function(u,s,c,f,l,p){return _(U(U(M(N(u,j(s)),["Cannot find object matching ID '",j(s),"'"]),"Reading Schema.Dimension.t"),"Reading ID ".concat(j(s))),function(h){return _(C(V(h),"JSON is not a valid object"),function(m){var b=function(E,ee){return _(M(N(m,E),["Unable to find key '",E,"'"]),ee)},$=b("concept",A),v=b("concept_scale",pr),W=b("concept_attributes",function(E){return Y(E,pt)}),R=b("graphic",function(E){return ie(E,or)}),T=b("graphic_scale",pr),k=b("graphic_attributes",function(E){return Y(E,_t)}),K=b("function",we),w=b("scope",Ze),y=b("explicit",de),G=b("organisation",A),O=b("dimensions",function(E){return Y(E,F)}),P=b("tokens",function(E){return Y(E,F)});return _(ve(U(O,"Reading dimensions"),i,u,2,c,f,l,p),function(E){return _(ve(U(P,"Reading tokens"),e._fromJsonHelper,u,3,E[0],E[1],E[2],E[3]),function(ee){var Re=ee[3],$e=ee[2],Ee=ee[1],Fe=ee[0],He=function(B,I){return M(J.get(B,I),["Unable to find value with ID '",j(I),"' (reading Schema.Scheme.t)"])},rr=_(U(O,"Loading dimensions"),function(B){return ue(L(B,function(I){return He($e,I)}))}),qe=_(U(P,"Loading tokens"),function(B){return ue(L(B,function(I){return He(Re,I)}))});return _($i([$,v,W,R,T,k,K,w,y,rr,qe,G]),function(B){var I=B[0],dr=B[1],_r=B[2],De=B[3],vr=B[4],mr=B[5],hr=B[6],un=B[7],sn=B[8],re=B[9],We=B[10],At=B[11],Ot={id:s,concept:I,concept_scale:dr,concept_attributes:_r,graphic:De,graphic_scale:vr,graphic_attributes:mr,function:hr,scope:un,explicit:sn,dimensions:re,tokens:We,organisation:At};return U(z([Fe,Ee,J.set($e,s,Ot),Re]),"Successfully read Dimension with ID ".concat(j(s)))})})})})})},a=function(u){return _(C(V(u),"JSON is not a valid object (reading Schema.Dimension.t)"),function(s){var c=_(C(N(s,"start"),"Unable to find start of model (reading Schema.Dimension.t)"),F);return _(c,function(f){return _(i(s,f,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(l){return C(J.get(l[2],f),"Missing start of model (reading Schema.Dimension.t)")})})})};return{id:r,validate:n,_toJsonHelper:t,toJson:o,_fromJsonHelper:i,fromJson:a}}function ru(e,r,n){var t=function(c){return c.id},o=function(c){return te({hd:Ke(ft(c.tokens)>0||ft(c.dimensions)>0||ft(c.schemes)>0,["Representation '",j(c.id),"' must have at least one token, dimension, or scheme"]),tl:{hd:te(L(c.tokens,e.validate)),tl:{hd:te(L(c.dimensions,r.validate)),tl:{hd:te(L(c.schemes,n.validate)),tl:{hd:te(L(c.subrepresentations,o)),tl:0}}}}})},i=function(c,f){var l=Je.add(f,c.id),p=_e(c.tokens,cr,l,e.id,e._toJsonHelper),h=_e(c.dimensions,p[0],p[1],r.id,r._toJsonHelper),m=_e(c.schemes,h[0],h[1],n.id,n._toJsonHelper),b=_e(c.subrepresentations,m[0],m[1],t,i);return[Ue(b[0],[c.id,H({hd:["domain",g(c.domain)],tl:{hd:["display",tr(c.display)],tl:{hd:["tokens",Z(L(c.tokens,e.id),x)],tl:{hd:["dimensions",Z(L(c.dimensions,r.id),x)],tl:{hd:["schemes",Z(L(c.schemes,n.id),x)],tl:{hd:["subrepresentations",Z(L(c.subrepresentations,t),x)],tl:0}}}}}})]),b[1]]},a=function(c){return H(Ue(L(i(c,Je.empty)[0],function(f){return[j(f[0]),f[1]]}),["start",x(c.id)]))},u=function(c,f,l,p,h,m){return _(U(U(M(N(c,j(f)),["Cannot find object matching ID '",j(f),"'"]),"Reading Schema.Representation.t"),"Reading ID ".concat(j(f))),function(b){return _(C(V(b),"JSON is not a valid object"),function($){var v=function(y,G){return _(M(N($,y),["Unable to find key '",y,"'"]),G)},W=v("domain",A),R=v("display",or),T=v("tokens",function(y){return Y(y,F)}),k=v("dimensions",function(y){return Y(y,F)}),K=v("schemes",function(y){return Y(y,F)}),w=v("subrepresentations",function(y){return Y(y,F)});return _(ve(U(T,"Reading tokens"),e._fromJsonHelper,c,3,l,p,h,m),function(y){return _(ve(U(k,"Reading dimensions"),r._fromJsonHelper,c,2,y[0],y[1],y[2],y[3]),function(G){return _(ve(U(K,"Reading schemes"),n._fromJsonHelper,c,1,G[0],G[1],G[2],G[3]),function(O){return _(ve(U(w,"Reading subrepresentations"),u,c,0,O[0],O[1],O[2],O[3]),function(P){var E=P[3],ee=P[2],Re=P[1],$e=P[0],Ee=function(B,I){return M(J.get(B,I),["Unable to find value with ID '",j(I),"'"])},Fe=_(U(T,"Loading tokens"),function(B){return ue(L(B,function(I){return Ee(E,I)}))}),He=_(U(k,"Loading dimensions"),function(B){return ue(L(B,function(I){return Ee(ee,I)}))}),rr=_(U(K,"Loading schemes"),function(B){return ue(L(B,function(I){return Ee(Re,I)}))}),qe=_(U(w,"Loading subrepresentations"),function(B){return ue(L(B,function(I){return Ee($e,I)}))});return _(Vr([W,R,Fe,He,rr,qe]),function(B){var I=B[0],dr=B[1],_r=B[2],De=B[3],vr=B[4],mr=B[5],hr={id:f,domain:I,display:dr,tokens:_r,dimensions:De,schemes:vr,subrepresentations:mr};return U(z([J.set($e,f,hr),Re,ee,E]),"Successfully read Representation with ID ".concat(j(f)))})})})})})})})},s=function(c){return _(C(V(c),"JSON is not a valid object (reading Schema.Representation.t)"),function(f){var l=_(C(N(f,"start"),"Unable to find start of model (reading Schema.Representation.t)"),F);return _(l,function(p){return _(u(f,p,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return C(J.get(h[0],p),"Missing start of model (reading Schema.Representation.t)")})})})};return{id:t,validate:o,_toJsonHelper:i,toJson:a,_fromJsonHelper:u,fromJson:s}}var nu=On(["Schema.res",18,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),vt=On(["Schema.res",43,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),vo=On(["Schema.res",65,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),mt=On(["Schema.res",88,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),Yr=ru(mt,vt,vo);Sn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},nu,{id:Yr.id,validate:Yr.validate,toJson:Yr.toJson,fromJson:Yr.fromJson,_toJsonHelper:Yr._toJsonHelper,_fromJsonHelper:Yr._fromJsonHelper});var en=eu(mt);Sn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},vt,{id:en.id,validate:en.validate,toJson:en.toJson,fromJson:en.fromJson,_toJsonHelper:en._toJsonHelper,_fromJsonHelper:en._fromJsonHelper});var rn=Ya(vt,mt);Sn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},vo,{id:rn.id,validate:rn.validate,toJson:rn.toJson,fromJson:rn.fromJson,_toJsonHelper:rn._toJsonHelper,_fromJsonHelper:rn._fromJsonHelper});var nn=Fa(vt,vo,nu);Sn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},mt,{id:nn.id,validate:nn.validate,toJson:nn.toJson,fromJson:nn.fromJson,_toJsonHelper:nn._toJsonHelper,_fromJsonHelper:nn._fromJsonHelper});function ht(e){return H({hd:["id",x(e.id)],tl:{hd:["nodes",$r(e.nodes,x)],tl:{hd:["message",g(e.message)],tl:{hd:["details",g(e.details)],tl:{hd:["suggestion",oe(e.suggestion,g)],tl:0}}}}})}function bt(e){return _(C(V(e),"Unable to parse object for ModelError"),function(r){var n=function(s,c){return _(M(N(r,s),["Unable to find key '",s,"'"]),c)},t=n("id",F),o=n("nodes",function(s){return Wr(s,F)}),i=n("message",A),a=n("details",A),u=n("suggestion",function(s){return ie(s,A)});return S(_n([t,o,i,a,u]),function(s){return{id:s[0],nodes:s[1],message:s[2],details:s[3],suggestion:s[4]}})})}function lf(e,r){var n=String(yi(Array.from(r,function(t){return ur(t.codePointAt(0))}),0,function(t,o,i){return i%5==0&&i<60?(t<<1)+(o-32|0)|0:t}));return Xr(j(Na(e))+n+"1")}function se(e,r,n,t,o){return{id:lf(e,r),nodes:e,message:r,details:n,suggestion:t}}var tu=ht,ou=bt,Ye=se;function iu(e,r){return e.TAG===0?{TAG:0,_0:r(e._0)}:{TAG:1,_0:e._0}}function Or(e,r){return iu(e,ne(r))}function au(e,r){return e.TAG===0?r(e._0):{TAG:1,_0:e._0}}function uu(e,r){return au(e,ne(r))}function su(e,r){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:d(r,e._0)}}function Ge(e,r){return e!==void 0?{TAG:0,_0:Q(e)}:{TAG:1,_0:d(r,void 0)}}function Jn(e,r,n){return e.TAG===0?{TAG:1,_0:r}:{TAG:1,_0:d(n,[e._0,r])}}function ae(e,r){var n=[],t=[];return yr(e,function(o){if(o.TAG===0){n.push(o._0);return}t.push(o._0)}),t.length!==0?{TAG:1,_0:d(r,t)}:{TAG:0,_0:n}}function be(e,r){var n=[];return yr(e,function(t){t.TAG!==0&&n.push(t._0)}),n.length!==0?{TAG:1,_0:d(r,n)}:{TAG:0,_0:void 0}}function cu(e,r){return Or(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6]],r),function(n){return n})}function fu(e,r){return Or(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]],r),function(n){return n})}function lu(e,r){return Or(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]],r),function(n){return n})}function pu(e,r){return Or(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]],r),function(n){return n})}function du(e,r){return Or(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]],r),function(n){return n})}var fe=Or;var mo=uu;function _u(e,r,n){return{first:e,second:r,kind:n}}function Gn(e,r){return se([],"Internal Error: "+e,r,"Notify Aaron about this so he can fix it :-) ",void 0)}function vu(e){return se(e,"Schema has no parent, but it needs one.","All schemas, except for Representation schemas, must either be in the hierarchy, or be anchored below a R-symbol in the hierarchy. This schema is neither in the hierarchy, nor anchored.","Connect this schema below another schema.",void 0)}function ho(e){return se(e,'Missing "Function" of schema.','This schema requires a "Function", whether it is semantic, auxiliary, or arbitrary. This has not been set.','Select the appropriate "Function" from the dropdown menu.',void 0)}function bo(e){return se(e,'Missing whether schema is "Explicit".','This schema needs to be marked as "Explicit", or not, depending on whether it is explicit in the representation. This has not been set.','Select the appropriate "Explicit" value (Yes or No) from the dropdown menu.',void 0)}function mu(e){return se(e,'Missing the "Scope" of the schema.','This schema is either "Global" or "Local" in "Scope". This has not been set.','Select the appropriate "Scope" value (Global or Local) from the dropdown menu.',void 0)}function hu(e,r){return se(e,'Missing the "'+r+' Scale" of the R-dimension.',`This R-dimension's "`+r+' Scale" must be one of "Nominal", "Ordinal", "Interval", or "Ratio". This has not been set.','Select the appropriate "'+r+' Scale" value from the dropdown menu.',void 0)}function En(e,r,n){return Ye(e,n+" is using default "+r+".","We give each "+n+" the default "+r+' "#Ref#", but this is intended only as a placeholder.',"Replace this "+n+"schema's "+r+".",void 0)}function D(e){return Fr(e,[[],[]],function(r,n){return[mn(r[0],n[0]),mn(r[1],n[1])]})}function df(e,r){var n=[],t=vn(e,function(s){return s[2]!==2}),o=vn(r,function(s){return sr(Pn(t,function(c){return s===c[1]}))}),i=o.slice(0),a=function(s){for(;;){var c=s;if(o.length===0)return;var f=ur(To(o.pop()));n.push(f),s=vn(c,function(l,p){return function(h){if(h[0]!==p)return!0;var m=h[1],b=vn(l,function(W){return m===W[1]}),$=b.length;if($!==1)$!==0||o.push(m);else{var v=b[0];v===h&&o.push(m)}return!1}}(c,f))}};if(a(t),!(i.length===0&&r.length!==0))return[i,n,[]];var u=se([],"Model has a cycle.","Models should not contain cycles: that is, the hierarchy and anchoring links should always connect a higher schema to a lower schema. We have found a situation where a lower schema is connected to a higher schema.","We've detected a cycle. Find the link going the 'wrong way', and remove it.",void 0);return[i,n,[u]]}function Sr(e,r,n,t,o){var i=e!==void 0?e:!0;return Ut(r,function(a){var u=J.get(n,a);if(u===void 0)return{TAG:1,_0:[[Gn("MISSING","Expected node with ID "+j(a)+" is missing")],[]]};var s=u[0];if(s===t||s===4&&i)return wn(o,a,u[1])})}function Ro(e,r,n,t){if(r.length===0)return{TAG:0,_0:void 0};var o=be(Ut(r,function(a){return Ar(J.get(n,a),function(u){var s=u[1];return s.TAG===0?{TAG:0,_0:void 0}:{TAG:1,_0:s._0}})}),D),i={TAG:1,_0:[[se([e],t+" schema has unexpected anchored children.","Anchoring is a type of link that is uniquely below R-symbol schemas. However, this node is a "+t+" schema.","(1) Make this schema an R-symbol. (2) Connect the children using hierarchy. (3) Remove the children.",void 0)],[]]};return be([o,i],D)}function _f(e,r,n,t,o){var i=function(b,$,v){var W=b!==void 0?b:!0;return Sr(W,t,n,$,v)},a=r.domain,u=a==="#Rep#"?{TAG:1,_0:[[],[Ye([e],"Representation is using default domain.",'We give each Representation the default name "#Rep#", but this is intended only as a placeholder.',"Replace this Representation schema's domain.",void 0)]]}:{TAG:0,_0:a},s=r.display,c=s==="#Ref#"?{TAG:1,_0:[[],[En([e],"display","Representation")]]}:{TAG:0,_0:s},f=fe(ae(i(void 0,3,function(b,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===3)return{TAG:0,_0:v._0}}),D),le),l=fe(ae(i(void 0,2,function(b,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===2)return{TAG:0,_0:v._0}}),D),le),p=fe(ae(i(void 0,1,function(b,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===1)return{TAG:0,_0:v._0}}),D),le),h=fe(ae(i(void 0,0,function(b,$){if($.TAG!==0)return{TAG:1,_0:$._0};var v=$._0;if(v.TAG===0)return{TAG:0,_0:v._0}}),D),le),m=Ro(e,o,n,"Representation");return fe(cu([u,c,f,l,p,h,m],D),function(b){return{TAG:0,_0:{id:e,domain:b[0],display:b[1],tokens:b[2],dimensions:b[3],schemes:b[4],subrepresentations:b[5]}}})}function vf(e,r,n,t,o){var i=function(R,T,k){var K=R!==void 0?R:!0;return Sr(K,t,n,T,k)},a=r.concept_structure,u=a==="#Sch#"?{TAG:1,_0:[[],[Ye([e],"R-Scheme is using default concept structure.",'We give each R-Scheme the default concept structure "#Sch#", but this is intended only as a placeholder.',"Replace this R-Scheme schema's concept structure.",void 0)]]}:{TAG:0,_0:a},s=r.graphic_structure,c=s==="#Ref#"?{TAG:1,_0:[[],[En([e],"graphic structure","R-scheme")]]}:{TAG:0,_0:s},f=Ge(r.function,function(R){return[[ho([e])],[]]}),l=Ge(r.explicit,function(R){return[[bo([e])],[]]}),p=Ge(r.scope,function(R){return[[mu([e])],[]]}),h={TAG:0,_0:r.organisation},m=fe(ae(i(void 0,3,function(R,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var k=T._0;if(k.TAG===3)return{TAG:0,_0:k._0}}),D),le),b=mo(ae(i(void 0,2,function(R,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var k=T._0;if(k.TAG===2)return{TAG:0,_0:k._0}}),D),function(R){return Ge(Xa(R),function(T){return[[se([e],"R-scheme has no R-dimension below it.","This R-scheme has no immediate children that are R-dimensions. However, an R-scheme must directly encapsulate at least one R-dimension.","Add an R-dimension, or replace this R-scheme with another schema.",void 0)],[]]})}),$=fe(ae(i(void 0,1,function(R,T){if(T.TAG!==0)return{TAG:1,_0:T._0};var k=T._0;if(k.TAG===1)return{TAG:0,_0:k._0}}),D),le),v=be(i(!1,0,function(R,T){return{TAG:1,_0:[[se([e,R],"R-scheme has a Representation below it.","R-scheme schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),W=Ro(e,o,n,"R-scheme");return fe(lu([u,c,f,l,p,m,b,$,h,v,W],D),function(R){return{TAG:1,_0:{id:e,concept_structure:R[0],graphic_structure:R[1],function:R[2],explicit:R[3],scope:R[4],tokens:R[5],dimensions:R[6],schemes:R[7],organisation:R[8]}}})}function mf(e,r,n,t,o){var i=function(O,P,E){var ee=O!==void 0?O:!0;return Sr(ee,t,n,P,E)},a=r.concept,u=a==="#Dim#"?{TAG:1,_0:[[],[Ye([e],"R-dimension is using default concept.",'We give each R-dimension the default concept "#Dim#", but this is intended only as a placeholder.',"Replace this R-dimension schema's concept.",void 0)]]}:{TAG:0,_0:a},s=Ge(r.concept_scale,function(O){return[[hu([e],"Concept")],[]]}),c={TAG:0,_0:r.concept_attributes},f=r.graphic,l=f==="#Ref#"?{TAG:1,_0:[[],[En([e],"graphic","R-dimension")]]}:{TAG:0,_0:f},p=Ge(r.concept_scale,function(O){return[[hu([e],"Graphic")],[]]}),h={TAG:0,_0:r.graphic_attributes},m=Ge(r.function,function(O){return[[ho([e])],[]]}),b=Ge(r.explicit,function(O){return[[bo([e])],[]]}),$=Ge(r.scope,function(O){return[[mu([e])],[]]}),v={TAG:0,_0:r.organisation},W={contents:0},R={contents:0},T=fe(ae(i(void 0,3,function(O,P){if(P.TAG===0){var E=P._0;return E.TAG!==3?void 0:(W.contents=W.contents+1|0,{TAG:0,_0:E._0})}return W.contents=W.contents+1|0,{TAG:1,_0:P._0}}),D),le),k=fe(ae(i(void 0,2,function(O,P){if(P.TAG===0){var E=P._0;return E.TAG!==2?void 0:(R.contents=R.contents+1|0,{TAG:0,_0:E._0})}return R.contents=R.contents+1|0,{TAG:1,_0:P._0}}),D),le),K=be(i(!1,0,function(O,P){return{TAG:1,_0:[[se([e,O],"R-dimension has a Representation below it.","R-dimension schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),w=be(i(!1,1,function(O,P){return{TAG:1,_0:[[se([e,O],"R-dimensions has an R-scheme below it.","R-dimension schemas cannot have R-scheme schemas as direct descendants.","Remove this R-scheme schema, or connect it elsewhere in the model.",void 0)],[]]}}),D),y=Ro(e,o,n,"R-dimension"),G=(W.contents+R.contents|0)>=1?{TAG:0,_0:void 0}:{TAG:1,_0:[[se([e],"R-dimensions must have at least one child.","R-dimensions must contain at least one R-symbol, or the must split into sub-R-dimensions (or do both). This R-dimension has no R-symbol children and no sub-R-dimensions.","Add an R-symbol or a sub-R-dimension below this R-dimension.",void 0)],[]]};return fe(du([u,s,c,l,p,h,m,b,$,T,k,v,K,w,y,G],D),function(O){return{TAG:2,_0:{id:e,concept:O[0],concept_scale:O[1],concept_attributes:O[2],graphic:O[3],graphic_scale:O[4],graphic_attributes:O[5],function:O[6],scope:O[8],explicit:O[7],dimensions:O[10],tokens:O[9],organisation:O[11]}}})}function hf(e,r,n,t,o){var i=function(w,y){return Sr(void 0,o,n,w,y)},a=function(w,y,G){var O=w!==void 0?w:!0;return Sr(O,t,n,y,G)},u=r.concept,s=u==="#Sym#"?{TAG:1,_0:[[],[Ye([e],"R-symbol is using default concept.",'We give each R-symbol the default concept "#Sym#", but this is intended only as a placeholder.',"Replace this R-symbol schema's concept.",void 0)]]}:{TAG:0,_0:u},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[En([e],"graphic","R-symbol")]]}:{TAG:0,_0:c},l=Ge(r.is_class,function(w){return[[se([e],'Unspecified if R-symbol is a "class" R-symbol.','R-symbols can be "standard" or "class": that is, they can stand in for more than one actual thing in the representation. This has not been specified.','Select whether this token is a class using the "Is class?" dropdown.',void 0)],[]]}),p=Ge(r.function,function(w){return[[ho([e])],[]]}),h=Ge(r.explicit,function(w){return[[bo([e])],[]]}),m=function(w,y,G){return se([e,w],(y.startsWith("R-")?"An ":"A ")+y+" schema below an R-symbol must be anchored.","Children of R-symbols must either be a sub-R-symbol, or it must be an anchored schema. This schema is not anchored, but it is not a sub-R-symbol: it is "+(y.startsWith("R-")?"an ":"a ")+y+".",G?"Replace this connection with an anchoring connection.":"Remove this schema, or place it elsewhere in the hierarchy.",void 0)},b=fe(ae(a(void 0,3,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var G=y._0;if(G.TAG===3)return{TAG:0,_0:G._0}}),D),le),$=be(a(!1,2,function(w,y){return{TAG:1,_0:[[m(w,"R-dimension",!0)],[]]}}),D),v=be(a(!1,1,function(w,y){return{TAG:1,_0:[[m(w,"R-scheme",!0)],[]]}}),D),W=be(a(!1,0,function(w,y){return{TAG:1,_0:[[m(w,"Representation",!1)],[]]}}),D),R=fe(ae(i(3,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var G=y._0;if(G.TAG===3)return{TAG:0,_0:G._0}}),D),le),T=fe(ae(i(2,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var G=y._0;if(G.TAG===2)return{TAG:0,_0:G._0}}),D),le),k=fe(ae(i(1,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var G=y._0;if(G.TAG===1)return{TAG:0,_0:G._0}}),D),le),K=fe(ae(i(0,function(w,y){if(y.TAG!==0)return{TAG:1,_0:y._0};var G=y._0;if(G.TAG===0)return{TAG:0,_0:G._0}}),D),le);return fe(pu([s,f,l,p,h,b,R,T,k,K,$,v,W],D),function(w){return{TAG:3,_0:{id:e,concept:w[0],graphic:w[1],is_class:w[2],function:w[3],explicit:w[4],sub_tokens:w[5],anchored_tokens:w[6],anchored_dimensions:w[7],anchored_schemes:w[8],anchored_representations:w[9]}}})}function bf(e,r,n,t,o){var i=function(W,R,T){var k=W!==void 0?W:!0;return Sr(k,o,n,R,T)},a=function(W,R,T){var k=W!==void 0?W:!0;return Sr(k,t,n,R,T)},u=r.description,s=u==="#Placeholder#"?{TAG:1,_0:[[],[En([e],"description","Placeholder")]]}:{TAG:0,_0:u},c=Ge(r.isIntensional,function(W){return[[se([e],"Unspecified why Placeholder is included.","Placeholders can be included because the substructure is not understood, or because it is understood but has chosen not to be modelled. You must indicate which case this is.",'Select whether this Placeholder is understood using the "Omitted but understood?" dropdown.',void 0)],[]]}),f=be(a(!0,0,function(W,R){return R.TAG===0?R._0.TAG===0?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),l=be(a(!1,1,function(W,R){return R.TAG===0?R._0.TAG===1?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),p=be(a(!1,2,function(W,R){return R.TAG===0?R._0.TAG===2?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),h=be(a(!1,3,function(W,R){return R.TAG===0?R._0.TAG===3?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),m=be(i(!0,0,function(W,R){return R.TAG===0?R._0.TAG===0?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),b=be(i(!1,1,function(W,R){return R.TAG===0?R._0.TAG===1?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),$=be(i(!1,2,function(W,R){return R.TAG===0?R._0.TAG===2?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D),v=be(i(!1,3,function(W,R){return R.TAG===0?R._0.TAG===3?{TAG:0,_0:void 0}:void 0:{TAG:1,_0:R._0}}),D);return mo(fu([s,c,f,l,p,h,m,b,$,v],D),function(W){return{TAG:1,_0:[[],[]]}})}function bu(e,r){var n=df(r,J.keys(e)),t=n[2],o=n[1],i=n[0];if(t.length!==0)return{TAG:1,_0:[t,[]]};var a=function(m,b){for(;;){var $=b,v=m;if($<0)return v;var W=Wi(o,$),R=Kn(r,function(y){return function(G){if(G[0]===y&&G[2]===0)return ce(G[1])}}(W)),T=Kn(r,function(y){return function(G){if(G[0]===y&&G[2]===1)return ce(G[1])}}(W)),k=J.get(e,W),K;if(k!==void 0)switch(k.TAG|0){case 0:K=[0,_f(W,k._0,v,R,T)];break;case 1:K=[1,vf(W,k._0,v,R,T)];break;case 2:K=[2,mf(W,k._0,v,R,T)];break;case 3:K=[3,hf(W,k._0,v,R,T)];break;case 4:K=[4,bf(W,k._0,v,R,T)];break}else K=[4,{TAG:1,_0:[[Gn("BAD LINK","Node with ID "+j(W)+" missing.")],[]]}];var w=J.set(v,W,[K[0],K[1]]);b=$-1|0,m=w}},u=a(J.empty(void 0),o.length-1|0),s=function(m,b){var $=J.get(u,m);if($!==void 0){var v=$[1];if(v.TAG===0){var W=v._0;if(W.TAG===0){var R=ae(Kn(r,function(G){if(G[2]===2){var O=G[1],P=G[0],E=J.get(u,P),ee=J.get(u,O);if(E!==void 0){var Re=E[1];if(Re.TAG===0){if(ee!==void 0){var $e=ee[1];if($e.TAG===0)return{TAG:0,_0:_u(Re._0,$e._0,{_0:"Automatic conversion"})}}}else if(ee!==void 0&&ee[1].TAG!==0)return}var Ee=Gn("REL MISSING","A relation link should be between two nodes ("+j(P)+", "+j(O)+"), but I can't find them!");return{TAG:1,_0:[[Ee],[]]}}}),D);return fe(R,function(G){return{root:W,relations:G}})}var T=vu([m]);return{TAG:1,_0:[[T],[]]}}var k=J.get(e,m);if(k!==void 0)switch(k.TAG|0){case 0:case 4:return v;default:var K=vu([m]);return Jn(v,[[K],[]],D)}else{var w=Gn("EXTRA ROOT","We have found an ID ("+j(m)+"), but have no idea what it's for!");return Jn(v,[[w],[]],D)}}else{var y=Gn("LOST ROOT"+(b?" MULTI":""),"We know what the root should be ("+j(m)+"), but somehow never found it!");return Jn(ae(xr(J.values(u),function(G){return G[1]}),D),[[y],[]],D)}},c=i.length;if(c!==1){if(c!==0){var f=xr(i,function(m){return s(m,!0)}),l=Ye(i,"More than one model detected.","There are multiple models in this file, or a model with multiple roots.",void 0,void 0);return Jn(ae(f,D),[[],[l]],D)}if(J.isEmpty(e))return{TAG:1,_0:[[],[]]};var p=se([],"Could not determine root of model.","Each model should have a root. Somehow, we failed to find a root!",void 0,void 0);return{TAG:1,_0:[[p],[]]}}var h=i[0];return s(h,!1)}var $o=function(e,r,n){var t,o;o=n.length;var i=[];for(t=0;t<o-1;++t)i.push(n[t]);var a=n[o-1];for(t=0;t<a.length;++t)i.push(a[t]);return e[r].apply(e,i)};var jf=ms(Du());var TW=ge.float_;var Wt=e=>{if(e===null)return null;if(e===void 0)return;let r={};for(let[n,t]of Object.entries(e))typeof t=="function"?r[n]=t:t===void 0?r[n]=void 0:t===null?r[n]=null:typeof t=="object"?t instanceof Array?r[n]=t.map(Wt):r[n]=Wt(t):typeof t=="symbol"?r[n]=t:r[n]=JSON.parse(JSON.stringify(t));return r},Nu=(e,r)=>e[r];var Iu=e=>{var r=Wt(e);return Object.keys(r).forEach(n=>{r[n]===void 0&&delete r[n]}),r};function an(e,r){return Nu(e,r)}function Jo(e){return Iu(e)}function kf(e,r,n,t,o,i,a,u,s,c,f,l,p,h,m,b,$,v,W,R,T,k,K,w,y,G){return Jo({color:e,fontColor:r,fontSize:n,fontScaling:t,fontWeight:o,highlightColor:i,highlightFontColor:a,highlightFontSize:u,highlightFontWeight:s,labelProperty:c,mouseCursor:f,opacity:l,renderLabel:p,semanticStrokeWidth:h,strokeWidth:m,markerStart:b,markerEnd:$,markerHeight:v,markerWidth:W,type:R,strokeDasharray:T,strokeDashoffset:k,strokeLinecap:K,offsetSource:w,offsetTarget:y})}var Jr={create:kf};var Go={contents:0};function Vu(e){return Go.contents=Go.contents+1|0,e+("/"+Go.contents)}var Uf=Vu("Color-ReactD3Graph.DOMAIN_ERROR");function Mf(e){return/^#(([0-9a-f])|([0-9A-F])){6}$/.test(e)}function Df(e){var r=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7);return[r,n,t]}function Eo(e){return Number("0x".concat(e))/255}function Bo(e){var r=(e*255|0).toString(16);return r.length<2?"0"+r:r}function Nf(e){if(Mf(e)){var r=Df(e);return{red:Eo(r[0]),green:Eo(r[1]),blue:Eo(r[2])}}throw{RE_EXN_ID:Uf,Error:new Error}}function If(e){return"#".concat(Bo(e.red),Bo(e.green),Bo(e.blue))}function Gr(e){return If(Nf(e))}function Vf(e){var r;switch(e){case 0:r="Hierarchy";break;case 1:r="Anchor";break;case 2:r="Relation";break}return g(r)}function xf(e){return _(A(e),function(r){switch(r){case"Anchor":return z(1);case"Hierarchy":return z(0);case"Relation":return z(2);default:return ke(["Unknown relation value '",r,"'"])}})}var Ff={toJson:Vf,fromJson:xf};function qf(e){var r;switch(e){case 0:r="Hierarchy";break;case 1:r="Anchor";break;case 2:r="Relation";break;case 3:r="Overlap";break;case 4:r="Disjoint";break;case 5:r="Generic";break}return g(r)}function Pf(e){return _(A(e),function(r){switch(r){case"Anchor":return z(1);case"Disjoint":return z(4);case"Generic":return z(5);case"Hierarchy":return z(0);case"Overlap":return z(3);case"Relation":return z(2);default:return ke(["Unknown relation value '",r,"'"])}})}var Hf={toJson:qf,fromJson:Pf},Kf={V1:Ff,V2:Hf},Co={Stable:Kf};var fg=Jr.create(ce(Gr("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0),lg=Jr.create(ce(Gr("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,"arrowheadCircle",void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0);function yt(e,r){return Kr(Ar(ao([e,r]),function(n){var t=n[1],o=n[0],i=o.x,a=o.y,u=t.x,s=t.y,c=an(o,"size"),f=u-i,l=s-a,p;if(Math.abs(f/l)>c.width/c.height){var h=c.width/20*Math.sign(f),m=l*h/f;p=[h,m]}else{var b=c.height/20*Math.sign(l),$=f*b/l;p=[$,b]}var v=p[1],W=p[0],R=an(o,"payload"),T=R.kind;if(T!==2)return{dx:W-1,dy:v};if(Math.abs(W-c.width/20*Math.sign(f))>=1e-4)return{dx:W-1,dy:v};var k=c.height/10-v+c.height/20,K=(-8+8*k/(c.height/10))*-1*Math.sign(W);return{dx:W+K-1,dy:v}}),{dx:0,dy:0})}var pg=Jr.create(ce(Gr("#808080")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,4,void 0,void 0,void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return yt(e,r)},function(e,r,n){return yt(r,e)},void 0);function gt(e,r){return Kr(Ar(ao([e,r]),function(n){var t=n[0],o=t.x,i=n[1].x,a=an(t,"size").width,u=za(o,i)?a/20-4:a/-20+1;return{dx:u,dy:0}}),{dx:0,dy:0})}var dg=Jr.create(ce(Gr("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,2,"arrowheadCircleSmall","arrowheadCircleSmall",void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return gt(e,r)},function(e,r,n){return gt(r,e)},void 0),_g=Jr.create(ce(Gr("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,2,"arrowheadDiamond","arrowheadDiamond",void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return gt(e,r)},function(e,r,n){return gt(r,e)},void 0),vg=Jr.create(ce(Gr("#AA0000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,5,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return yt(e,r)},function(e,r,n){return yt(r,e)},void 0);function xu(e,r){var n=function(u,s){u.addEventListener("message",function(c){return qn(d(r.fromJson,JSON.parse(c.data)),s)})},t=function(u,s){var c=JSON.stringify(d(e.toJson,s));u.postMessage(c)},o=function(u){this.onmessage=function(s){return qn(d(e.fromJson,JSON.parse(s.data)),u)}},i=function(u){postMessage(JSON.stringify(d(r.toJson,u)))},a=function(u){var s=function(c){var f=d(u,c);postMessage(JSON.stringify(d(r.toJson,f)))};this.onmessage=function(c){return qn(d(e.fromJson,JSON.parse(c.data)),s)}};return{create:function(u){return new Worker(u)},listen:n,post:t,terminate:function(u){u.terminate()},WorkerThread:{create:a,listen:o,respond:i}}}function Fu(e){return H({hd:["domain",g(e.domain)],tl:{hd:["display",g(e.display)],tl:{hd:["notes",g(e.notes)],tl:0}}})}function qu(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(a,u){return _(M(N(r,a),["Unable to find key '",a,"'"]),u)},t=n("domain",A),o=n("display",A),i=n("notes",A);return S(Se([t,o,i]),function(a){return{domain:a[0],display:a[1],notes:a[2]}})})}var zf={domain:"#Rep#",display:"#Ref#",notes:""};function Xf(e){return H({hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",pe(e.explicit)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function Pu(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(f,l){return _(M(N(r,f),["Unable to find key '",f,"'"]),l)},t=n("concept_structure",A),o=n("graphic_structure",A),i=n("function",we),a=n("explicit",de),u=n("scope",Ze),s=n("organisation",A),c=n("notes",A);return S(jt([t,o,i,a,u,s,c]),function(f){return{concept_structure:f[0],graphic_structure:f[1],function:f[2],explicit:f[3],scope:f[4],organisation:f[5],notes:f[6]}})})}function Hu(e){return{concept_structure:e.concept_structure,graphic_structure:e.graphic_structure,function:e.function,explicit:e.explicit,scope:e.scope,organisation:e.organisation,notes:e.notes}}function Qf(e){return H({hd:["version",ir(2)],tl:{hd:["concept_structure",g(e.concept_structure)],tl:{hd:["graphic_structure",g(e.graphic_structure)],tl:{hd:["function",oe(e.function,Ce)],tl:{hd:["explicit",oe(e.explicit,pe)],tl:{hd:["scope",oe(e.scope,Qe)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}})}function Zf(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(h,m){return _(M(N(r,h),["Unable to find key '",h,"'"]),m)},t=n("version",ar),o=Rr(t);if(o.TAG!==0)return S(Pu(e),Hu);var i=o._0;if(i!==2)return ke(["Unrecognised version of InspectorState.Scheme: ",String(i)]);var a=n("concept_structure",A),u=n("graphic_structure",A),s=n("function",function(h){return ie(h,we)}),c=n("explicit",function(h){return ie(h,de)}),f=n("scope",function(h){return ie(h,Ze)}),l=n("organisation",A),p=n("notes",A);return S(jt([a,u,s,c,f,l,p]),function(h){return{concept_structure:h[0],graphic_structure:h[1],function:h[2],explicit:h[3],scope:h[4],organisation:h[5],notes:h[6]}})})}var Yf={concept_structure:"#Sch#",graphic_structure:"#Ref#",function:void 0,explicit:void 0,scope:void 0,organisation:"",notes:""};function el(e){return H({hd:["concept",g(e.concept)],tl:{hd:["concept_scale",lr(e.concept_scale)],tl:{hd:["concept_attributes",Z(e.concept_attributes,lt)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",lr(e.graphic_scale)],tl:{hd:["graphic_attributes",Z(e.graphic_attributes,dt)],tl:{hd:["function",Ce(e.function)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["explicit",pe(e.explicit)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}})}function Ku(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(m,b){return _(M(N(r,m),["Unable to find key '",m,"'"]),b)},t=n("concept",A),o=n("concept_scale",pr),i=n("concept_attributes",function(m){return Y(m,pt)}),a=n("graphic",A),u=n("graphic_scale",pr),s=n("graphic_attributes",function(m){return Y(m,_t)}),c=n("function",we),f=n("scope",Ze),l=n("explicit",de),p=n("organisation",A),h=n("notes",A);return S(kt([t,o,i,a,u,s,c,f,l,p,h]),function(m){return{concept:m[0],concept_scale:m[1],concept_attributes:m[2],graphic:m[3],graphic_scale:m[4],graphic_attributes:m[5],function:m[6],scope:m[7],explicit:m[8],organisation:m[9],notes:m[10]}})})}function zu(e){return{concept:e.concept,concept_scale:e.concept_scale,concept_attributes:e.concept_attributes,graphic:e.graphic,graphic_scale:e.graphic_scale,graphic_attributes:e.graphic_attributes,function:e.function,scope:e.scope,explicit:e.explicit,organisation:e.organisation,notes:e.notes}}function rl(e){return H({hd:["version",ir(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["concept_scale",oe(e.concept_scale,lr)],tl:{hd:["concept_attributes",Z(e.concept_attributes,g)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["graphic_scale",oe(e.graphic_scale,lr)],tl:{hd:["graphic_attributes",Z(e.graphic_attributes,g)],tl:{hd:["function",oe(e.function,Ce)],tl:{hd:["scope",oe(e.scope,Qe)],tl:{hd:["explicit",oe(e.explicit,pe)],tl:{hd:["organisation",g(e.organisation)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}}}}}}})}function nl(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(v,W){return _(M(N(r,v),["Unable to find key '",v,"'"]),W)},t=n("version",ar),o=Rr(t);if(o.TAG!==0)return S(Ku(e),zu);var i=o._0;if(i!==2)return ke(["Unknown version for InspectorState.Dimension: ",String(i)]);var a=n("concept",A),u=n("concept_scale",function(v){return ie(v,pr)}),s=n("concept_attributes",function(v){return Y(v,A)}),c=n("graphic",A),f=n("graphic_scale",function(v){return ie(v,pr)}),l=n("graphic_attributes",function(v){return Y(v,A)}),p=n("function",function(v){return ie(v,we)}),h=n("scope",function(v){return ie(v,Ze)}),m=n("explicit",function(v){return ie(v,de)}),b=n("organisation",A),$=n("notes",A);return S(kt([a,u,s,c,f,l,p,h,m,b,$]),function(v){return{concept:v[0],concept_scale:v[1],concept_attributes:v[2],graphic:v[3],graphic_scale:v[4],graphic_attributes:v[5],function:v[6],scope:v[7],explicit:v[8],organisation:v[9],notes:v[10]}})})}var tl={concept:"#Dim#",concept_scale:void 0,concept_attributes:0,graphic:"#Ref#",graphic_scale:void 0,graphic_attributes:0,function:void 0,scope:void 0,explicit:void 0,organisation:"",notes:""};function ol(e){return H({hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",pe(e.is_class)],tl:{hd:["function",Ce(e.function)],tl:{hd:["explicit",pe(e.explicit)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}})}function Xu(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return _(M(N(r,c),["Unable to find key '",c,"'"]),f)},t=n("concept",A),o=n("graphic",A),i=n("is_class",de),a=n("function",we),u=n("explicit",de),s=n("notes",A);return S(Vr([t,o,i,a,u,s]),function(c){return{concept:c[0],graphic:c[1],is_class:c[2],function:c[3],explicit:c[4],notes:c[5]}})})}function Qu(e){return{concept:e.concept,graphic:e.graphic,is_class:e.is_class,function:e.function,explicit:e.explicit,notes:e.notes}}function il(e){return H({hd:["version",ir(2)],tl:{hd:["concept",g(e.concept)],tl:{hd:["graphic",g(e.graphic)],tl:{hd:["is_class",oe(e.is_class,pe)],tl:{hd:["function",oe(e.function,Ce)],tl:{hd:["explicit",oe(e.explicit,pe)],tl:{hd:["notes",g(e.notes)],tl:0}}}}}}})}function al(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(p,h){return _(M(N(r,p),["Unable to find key '",p,"'"]),h)},t=n("version",ar),o=Rr(t);if(o.TAG!==0)return S(Xu(e),Qu);var i=o._0;if(i!==2)return ke(["Unknown version for InspectorState.Token: ",String(i)]);var a=n("concept",A),u=n("graphic",A),s=n("is_class",function(p){return ie(p,de)}),c=n("function",function(p){return ie(p,we)}),f=n("explicit",function(p){return ie(p,de)}),l=n("notes",A);return S(Vr([a,u,s,c,f,l]),function(p){return{concept:p[0],graphic:p[1],is_class:p[2],function:p[3],explicit:p[4],notes:p[5]}})})}var ul={concept:"#Sym#",graphic:"#Ref#",is_class:void 0,function:void 0,explicit:void 0,notes:""};function sl(e){return H({hd:["version",ir(1)],tl:{hd:["description",g(e.description)],tl:{hd:["isIntensional",oe(e.isIntensional,pe)],tl:{hd:["notes",g(e.notes)],tl:0}}}})}function cl(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return _(M(N(r,c),["Unable to find key '",c,"'"]),f)},t=n("version",ar),o=Rr(t);if(o.TAG!==0)return Ir("Unable to determine InspectorState.Placeholder version");var i=o._0;if(i!==1)return ke(["Unknown InspectorState.Placeholder version ",String(i)]);var a=n("description",A),u=n("isIntensional",function(c){return ie(c,de)}),s=n("notes",A);return S(Se([a,u,s]),function(c){return{description:c[0],isIntensional:c[1],notes:c[2]}})})}function fl(e){var r;switch(e.TAG|0){case 0:r=["representation",Fu(e._0)];break;case 1:r=["scheme",Xf(e._0)];break;case 2:r=["dimension",el(e._0)];break;case 3:r=["token",ol(e._0)];break}return H({hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}})}function Zu(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(i,a){return _(M(N(r,i),["Unable to find key '",i,"'"]),a)},t=n("kind",A),o=n("value",z);return _(me([t,o]),function(i){var a=i[1],u=i[0];switch(u){case"dimension":return S(Ku(a),function(s){return{TAG:2,_0:s}});case"representation":return S(qu(a),function(s){return{TAG:0,_0:s}});case"scheme":return S(Pu(a),function(s){return{TAG:1,_0:s}});case"token":return S(Xu(a),function(s){return{TAG:3,_0:s}});default:return ke(["Unknown Schema slot kind '",u,"'"])}})})}var ll={toJson:fl,fromJson:Zu};function Yu(e){switch(e.TAG|0){case 0:return{TAG:0,_0:e._0};case 1:return{TAG:1,_0:Hu(e._0)};case 2:return{TAG:2,_0:zu(e._0)};case 3:return{TAG:3,_0:Qu(e._0)}}}function pl(e){var r;switch(e.TAG|0){case 0:r=["representation",Fu(e._0)];break;case 1:r=["scheme",Qf(e._0)];break;case 2:r=["dimension",rl(e._0)];break;case 3:r=["token",il(e._0)];break;case 4:r=["placeholder",sl(e._0)];break}return H({hd:["version",ir(2)],tl:{hd:["kind",g(r[0])],tl:{hd:["value",r[1]],tl:0}}})}function dl(e){return _(C(V(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(s,c){return _(M(N(r,s),["Unable to find key '",s,"'"]),c)},t=n("version",ar),o=Rr(t);if(o.TAG!==0)return S(Zu(e),Yu);var i=o._0;if(i!==2)return ke(["Unknown InspectorState version ",String(i)]);var a=n("kind",A),u=n("value",z);return _(me([a,u]),function(s){var c=s[1],f=s[0];switch(f){case"dimension":return S(nl(c),function(l){return{TAG:2,_0:l}});case"placeholder":return S(cl(c),function(l){return{TAG:4,_0:l}});case"representation":return S(qu(c),function(l){return{TAG:0,_0:l}});case"scheme":return S(Zf(c),function(l){return{TAG:1,_0:l}});case"token":return S(al(c),function(l){return{TAG:3,_0:l}});default:return ke(["Unknown Schema slot kind '",f,"'"])}})})}function _l(e){switch(e){case 0:return{TAG:0,_0:zf};case 1:return{TAG:1,_0:Yf};case 2:return{TAG:2,_0:tl};case 3:return{TAG:3,_0:ul};case 4:return{TAG:4,_0:{description:"#Placeholder#",isIntensional:void 0,notes:""}}}}function vl(e){switch(e.TAG|0){case 0:return e._0.domain;case 1:return e._0.concept_structure;case 2:case 3:return e._0.concept;case 4:return e._0.description}}function ml(e){switch(e.TAG|0){case 0:return e._0.display;case 1:return e._0.graphic_structure;case 2:return e._0.graphic;case 3:return e._0.graphic;case 4:return""}}var hl={V1:ll,V2:{toJson:pl,fromJson:dl,v1_to_v2:Yu}},wo={empty:_l,name:vl,reference:ml,Stable:hl};function bl(e){return H({hd:["id",x(e.id)],tl:{hd:["slots",J.toJson(e.slots,wo.Stable.V2.toJson)],tl:{hd:["links",$r(e.links,function(r){var n=x,t=x,o=Co.Stable.V2.toJson;return[je(n,r[0]),je(t,r[1]),je(o,r[2])]})],tl:0}}})}function Rl(e){return _(C(V(e),"Failed to decode Request state object JSON"),function(r){var n=function(a,u){return _(M(N(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",F),o=n("slots",function(a){return J.fromJson(a,wo.Stable.V2.fromJson)}),i=n("links",function(a){return Wr(a,function(u){var s=F,c=F,f=Co.Stable.V2.fromJson,l=Kr(jo(u),[]);if(l.length!==3)return Ir("Not a triple");var p=l[0],h=l[1],m=l[2];return Se([je(s,p),je(c,h),je(f,m)])})});return S(Se([t,o,i]),function(a){return{id:a[0],slots:a[1],links:a[2]}})})}function $l(e){return H({hd:["id",x(e.id)],tl:{hd:["warnings",$r(e.warnings,tu)],tl:{hd:["errors",$r(e.errors,ht)],tl:0}}})}function Wl(e){return _(C(V(e),"Failed to decode Response state object JSON"),function(r){var n=function(a,u){return _(M(N(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",F),o=n("warnings",function(a){return Wr(a,ou)}),i=n("errors",function(a){return Wr(a,bt)});return S(Se([t,o,i]),function(a){return{id:a[0],warnings:a[1],errors:a[2]}})})}var yl=so(void 0),gl=[],Al=[],Ol={id:yl,warnings:gl,errors:Al},Sl={toJson:$l,fromJson:Wl,empty:Ol},Jl={toJson:bl,fromJson:Rl},Gl=xu,Cn=function(e){return Gl(Jl,e)}(Sl);var Hg=Cn.create,Kg=Cn.listen,zg=Cn.post,Xg=Cn.terminate,es=Cn.WorkerThread;je(es.create,function(e){var r=e.slots,n=e.links,t=[],o=[],i=bu(r,n);su(i,function(s){$o(t,"push",[s[0]]),$o(o,"push",[s[1]])}),yr(n,function(s){var c=s[2],f=s[1],l=s[0];return yr(n,function(p){if(s!==p&&f===p[0]&&c===0&&p[2]===0){var h=p[1],m=Pn(n,function(R){return l===R[0]&&h===R[1]&&R[2]===0&&s!==R?p!==R:!1});if(Ua(m)){var b=[l,f,h],$="Transitive hierarchical connections",v="Connections in the hierarchy are transitive, so normally you do not connect a grandparent schema to its grandchildren schemas.",W="Remove the transitive connection.";o.push(Ye(b,$,v,W,void 0));return}}})});var a=Hn(t),u=Hn(o);return{id:e.id,warnings:u,errors:a}});var aA;})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
