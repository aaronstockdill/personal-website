(()=>{var Zu=Object.create;var Rt=Object.defineProperty;var Yu=Object.getOwnPropertyDescriptor;var es=Object.getOwnPropertyNames;var rs=Object.getPrototypeOf,ns=Object.prototype.hasOwnProperty;var ts=e=>Rt(e,"__esModule",{value:!0});var $t=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var is=(e,r,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of es(r))!ns.call(e,t)&&t!=="default"&&Rt(e,t,{get:()=>r[t],enumerable:!(n=Yu(r,t))||n.enumerable});return e},os=e=>is(ts(Rt(e!=null?Zu(rs(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var cu=$t((lW,su)=>{"use strict";var uu=Object.getOwnPropertySymbols,of=Object.prototype.hasOwnProperty,af=Object.prototype.propertyIsEnumerable;function uf(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function sf(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;var t=Object.getOwnPropertyNames(r).map(function(o){return r[o]});if(t.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}su.exports=sf()?Object.assign:function(e,r){for(var n,t=uf(e),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)of.call(n,a)&&(t[a]=n[a]);if(uu){i=uu(n);for(var u=0;u<i.length;u++)af.call(n,i[u])&&(t[i[u]]=n[i[u]])}}return t}});var Ou=$t(V=>{"use strict";var ui=cu(),Qr=60103,fu=60106;V.Fragment=60107;V.StrictMode=60108;V.Profiler=60114;var lu=60109,pu=60110,du=60112;V.Suspense=60113;var _u=60115,vu=60116;typeof Symbol=="function"&&Symbol.for&&(ke=Symbol.for,Qr=ke("react.element"),fu=ke("react.portal"),V.Fragment=ke("react.fragment"),V.StrictMode=ke("react.strict_mode"),V.Profiler=ke("react.profiler"),lu=ke("react.provider"),pu=ke("react.context"),du=ke("react.forward_ref"),V.Suspense=ke("react.suspense"),_u=ke("react.memo"),vu=ke("react.lazy"));var ke,mu=typeof Symbol=="function"&&Symbol.iterator;function cf(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}function gn(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bu={};function Zr(e,r,n){this.props=e,this.context=r,this.refs=bu,this.updater=n||hu}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(gn(85));this.updater.enqueueSetState(this,e,r,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ru(){}Ru.prototype=Zr.prototype;function si(e,r,n){this.props=e,this.context=r,this.refs=bu,this.updater=n||hu}var ci=si.prototype=new Ru;ci.constructor=si;ui(ci,Zr.prototype);ci.isPureReactComponent=!0;var fi={current:null},$u=Object.prototype.hasOwnProperty,Wu={key:!0,ref:!0,__self:!0,__source:!0};function yu(e,r,n){var t,i={},o=null,a=null;if(r!=null)for(t in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(o=""+r.key),r)$u.call(r,t)&&!Wu.hasOwnProperty(t)&&(i[t]=r[t]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var s=Array(u),c=0;c<u;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(t in u=e.defaultProps,u)i[t]===void 0&&(i[t]=u[t]);return{$$typeof:Qr,type:e,key:o,ref:a,props:i,_owner:fi.current}}function ff(e,r){return{$$typeof:Qr,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function li(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qr}function lf(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var gu=/\/+/g;function pi(e,r){return typeof e=="object"&&e!==null&&e.key!=null?lf(""+e.key):r.toString(36)}function lt(e,r,n,t,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qr:case fu:a=!0}}if(a)return a=e,i=i(a),e=t===""?"."+pi(a,0):t,Array.isArray(i)?(n="",e!=null&&(n=e.replace(gu,"$&/")+"/"),lt(i,r,n,"",function(c){return c})):i!=null&&(li(i)&&(i=ff(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gu,"$&/")+"/")+e)),r.push(i)),1;if(a=0,t=t===""?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var s=t+pi(o,u);a+=lt(o,r,n,s,i)}else if(s=cf(e),typeof s=="function")for(e=s.call(e),u=0;!(o=e.next()).done;)o=o.value,s=t+pi(o,u++),a+=lt(o,r,n,s,i);else if(o==="object")throw r=""+e,Error(gn(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r));return a}function pt(e,r,n){if(e==null)return e;var t=[],i=0;return lt(e,t,"","",function(o){return r.call(n,o,i++)}),t}function pf(e){if(e._status===-1){var r=e._result;r=r(),e._status=0,e._result=r,r.then(function(n){e._status===0&&(n=n.default,e._status=1,e._result=n)},function(n){e._status===0&&(e._status=2,e._result=n)})}if(e._status===1)return e._result;throw e._result}var Au={current:null};function Ye(){var e=Au.current;if(e===null)throw Error(gn(321));return e}var df={ReactCurrentDispatcher:Au,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:fi,IsSomeRendererActing:{current:!1},assign:ui};V.Children={map:pt,forEach:function(e,r,n){pt(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return pt(e,function(){r++}),r},toArray:function(e){return pt(e,function(r){return r})||[]},only:function(e){if(!li(e))throw Error(gn(143));return e}};V.Component=Zr;V.PureComponent=si;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=df;V.cloneElement=function(e,r,n){if(e==null)throw Error(gn(267,e));var t=ui({},e.props),i=e.key,o=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(o=r.ref,a=fi.current),r.key!==void 0&&(i=""+r.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(s in r)$u.call(r,s)&&!Wu.hasOwnProperty(s)&&(t[s]=r[s]===void 0&&u!==void 0?u[s]:r[s])}var s=arguments.length-2;if(s===1)t.children=n;else if(1<s){u=Array(s);for(var c=0;c<s;c++)u[c]=arguments[c+2];t.children=u}return{$$typeof:Qr,type:e.type,key:i,ref:o,props:t,_owner:a}};V.createContext=function(e,r){return r===void 0&&(r=null),e={$$typeof:pu,_calculateChangedBits:r,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:lu,_context:e},e.Consumer=e};V.createElement=yu;V.createFactory=function(e){var r=yu.bind(null,e);return r.type=e,r};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:du,render:e}};V.isValidElement=li;V.lazy=function(e){return{$$typeof:vu,_payload:{_status:-1,_result:e},_init:pf}};V.memo=function(e,r){return{$$typeof:_u,type:e,compare:r===void 0?null:r}};V.useCallback=function(e,r){return Ye().useCallback(e,r)};V.useContext=function(e,r){return Ye().useContext(e,r)};V.useDebugValue=function(){};V.useEffect=function(e,r){return Ye().useEffect(e,r)};V.useImperativeHandle=function(e,r,n){return Ye().useImperativeHandle(e,r,n)};V.useLayoutEffect=function(e,r){return Ye().useLayoutEffect(e,r)};V.useMemo=function(e,r){return Ye().useMemo(e,r)};V.useReducer=function(e,r,n){return Ye().useReducer(e,r,n)};V.useRef=function(e){return Ye().useRef(e)};V.useState=function(e){return Ye().useState(e)};V.version="17.0.2"});var Ju=$t((dW,Su)=>{"use strict";Su.exports=Ou()});function Wt(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function qe(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,a=n.length,u=o-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return qe(s,c.concat([f]))}}(t,n);r=Wt(n,o,-u|0),e=t.apply(null,Wt(n,0,o))}}function Te(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,a){return e(r,t,i,o,a)};case 6:return function(t,i,o,a,u){return e(r,t,i,o,a,u)};case 7:return function(t,i,o,a,u,s){return e(r,t,i,o,a,u,s)};default:return qe(e,[r])}}function On(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return qe(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,a){return e(r,n,i,o,a)};case 6:return function(i,o,a,u){return e(r,n,i,o,a,u)};case 7:return function(i,o,a,u,s){return e(r,n,i,o,a,u,s)};default:return qe(e,[r,n])}}function bi(e,r,n,t,i,o,a){var u=e.length;if(u===6)return e(r,n,t,i,o,a);switch(u){case 1:return qe(e(r),[n,t,i,o,a]);case 2:return qe(e(r,n),[t,i,o,a]);case 3:return qe(e(r,n,t),[i,o,a]);case 4:return qe(e(r,n,t,i),[o,a]);case 5:return qe(e(r,n,t,i,o),[a]);case 6:return e(r,n,t,i,o,a);case 7:return function(s){return e(r,n,t,i,o,a,s)};default:return qe(e,[r,n,t,i,o,a])}}function $e(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function Ri(e){if(e!==void 0)return $e(e)}function yt(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function k(e,r){if(r in e)return $e(e[r])}function x(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function D(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return $e(e)}function $i(e){if(Array.isArray(e))return e}function H(e){return e===void 0?{BS_PRIVATE_NESTED_SOME_NONE:0}:e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?{BS_PRIVATE_NESTED_SOME_NONE:e.BS_PRIVATE_NESTED_SOME_NONE+1|0}:e}function Wi(e){if(e!==void 0)return H(e)}function K(e){if(!(e!==null&&e.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return e;var r=e.BS_PRIVATE_NESTED_SOME_NONE;if(r!==0)return{BS_PRIVATE_NESTED_SOME_NONE:r-1|0}}function rn(e){if(typeof e=="string")return e}function gt(e){if(typeof e=="number")return e}function yi(e){if(typeof e=="object"&&!Array.isArray(e)&&e!==null)return H(e)}function Ar(e){if(Array.isArray(e))return e}function gi(e){if(typeof e=="boolean")return e}function At(e,r,n){for(var t=new Array(n),i=0,o=r;i<n;)t[i]=e[o],i=i+1|0,o=o+1|0;return t}function _r(e,r){for(;;){var n=r,t=e,i=t.length,o=i===0?1:i,a=n.length,u=o-a|0;if(u===0)return t.apply(null,n);if(u>=0)return function(s,c){return function(f){return _r(s,c.concat([f]))}}(t,n);r=At(n,o,-u|0),e=t.apply(null,At(n,0,o))}}function p(e,r){var n=e.length;if(n===1)return e(r);switch(n){case 1:return e(r);case 2:return function(t){return e(r,t)};case 3:return function(t,i){return e(r,t,i)};case 4:return function(t,i,o){return e(r,t,i,o)};case 5:return function(t,i,o,a){return e(r,t,i,o,a)};case 6:return function(t,i,o,a,u){return e(r,t,i,o,a,u)};case 7:return function(t,i,o,a,u,s){return e(r,t,i,o,a,u,s)};default:return _r(e,[r])}}function Y(e){var r=e.length;return r===1?e:function(n){return p(e,n)}}function Ai(e,r,n){var t=e.length;if(t===2)return e(r,n);switch(t){case 1:return _r(e(r),[n]);case 2:return e(r,n);case 3:return function(i){return e(r,n,i)};case 4:return function(i,o){return e(r,n,i,o)};case 5:return function(i,o,a){return e(r,n,i,o,a)};case 6:return function(i,o,a,u){return e(r,n,i,o,a,u)};case 7:return function(i,o,a,u,s){return e(r,n,i,o,a,u,s)};default:return _r(e,[r,n])}}function We(e){var r=e.length;return r===2?e:function(n,t){return Ai(e,n,t)}}function as(e,r,n,t){var i=e.length;if(i===3)return e(r,n,t);switch(i){case 1:return _r(e(r),[n,t]);case 2:return _r(e(r,n),[t]);case 3:return e(r,n,t);case 4:return function(o){return e(r,n,t,o)};case 5:return function(o,a){return e(r,n,t,o,a)};case 6:return function(o,a,u){return e(r,n,t,o,a,u)};case 7:return function(o,a,u,s){return e(r,n,t,o,a,u,s)};default:return _r(e,[r,n,t])}}function rr(e){var r=e.length;return r===3?e:function(n,t,i){return as(e,n,t,i)}}var Ot={contents:0};function Sn(e){return Ot.contents=Ot.contents+1|0,e+("/"+Ot.contents)}function St(e,r){return e<r?-1:e===r?0:1}function Oi(e,r){return e?r?0:1:r?-1:0}function Jn(e,r){return e===r?0:e<r?-1:1}function Si(e,r){if(!(r>=0&&r<e.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error};return e[r]}function Or(e,r){for(var n=e.length,t=r.length,i=new Array(n+t|0),o=0;o<n;++o)i[o]=e[o];for(var a=0;a<t;++a)i[n+a|0]=r[a];return i}function Ji(e,r){for(var n=0,t=e.length;n<t;++n)r(e[n])}function Ei(e,r){return Ji(e,Y(r))}function Bi(e,r){for(var n=e.length,t=new Array(n),i=0;i<n;++i)t[i]=r(e[i]);return t}function nn(e,r){return Bi(e,Y(r))}function Gi(e,r){for(var n=e.length,t=new Array(n),i=0,o=0;o<n;++o){var a=e[o],u=r(a);u!==void 0&&(t[i]=K(u),i=i+1|0)}return t.length=i,t}function Ci(e,r){return Gi(e,Y(r))}function wi(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i]);return t}function tn(e,r,n){return wi(e,r,We(n))}function Li(e,r,n){for(var t=r,i=0,o=e.length;i<o;++i)t=n(t,e[i],i);return t}function Ti(e,r,n){return Li(e,r,rr(n))}function cs(e,r,n,t,i){for(;;){var o=n,a=r;if(o>=t)return o;var u=e[o];if(!i(u,a))return o;n=o+1|0,r=u}}function Sr(e,r){var n=e.length;if(n===0||n===1)return n;var t=e[0],i=e[1];if(r(t,i))for(var o=i,a=2;;){var u=a,s=o;if(u>=n)return u;var c=e[u];if(!r(s,c))return u;a=u+1|0,o=c}else return r(i,t)?-cs(e,i,2,n,r)|0:1}function En(e,r){return{hd:r,tl:e}}function ds(e,r){for(;;){var n=r,t=e;if(!t)return n;var i={hd:t.hd,tl:0};n.tl=i,r=i,e=t.tl}}function _s(e,r,n){for(;;){var t=r,i=e;if(!i)return;var o={hd:n(i.hd),tl:0};t.tl=o,r=o,e=i.tl}}function ji(e,r){if(!e)return r;var n={hd:e.hd,tl:0};return ds(e.tl,n).tl=r,n}function ki(e,r){if(!e)return 0;var n={hd:r(e.hd),tl:0};return _s(e.tl,n,r),n}function Bn(e,r){return ki(e,Y(r))}function Jt(e){for(var r=e,n=0;;){var t=n,i=r;if(!i)return t;n=t+1|0,r=i.tl}}function vs(e,r,n){for(;;){var t=n,i=r;if(!t)return;e[i]=t.hd,n=t.tl,r=i+1|0}}function Jr(e){for(var r=e.length-1|0,n=0;;){var t=n,i=r;if(i<0)return t;n={hd:e[i],tl:t},r=i-1|0}}function on(e){var r=Jt(e),n=new Array(r);return vs(n,0,e),n}function Ui(e,r,n){for(;;){var t=r,i=e;if(!i)return t;r=n(t,i.hd),e=i.tl}}function Gn(e,r,n){return Ui(e,r,We(n))}function Mi(e){if(e!==void 0)return K(e);throw{RE_EXN_ID:"Not_found",Error:new Error}}function Di(e,r){if(e!==void 0)return H(r(K(e)))}function Er(e,r){return Di(e,Y(r))}function Ni(e,r){if(e!==void 0)return r(K(e))}function Cn(e,r){return Ni(e,Y(r))}function Ii(e,r){return e!==void 0?K(e):r}function Vi(e){return e!==void 0}function xi(e){return e===void 0}var wn=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var a=n[i-1];for(t=0;t<a.length;++t)o.push(a[t]);return e[r].apply(e,o)};var Me=Sn("Rpc-RepWeb.RpcError"),ms={},hs={},bs={},Rs={},$s={};function Ws(e,r){return p(e.reader,r)}function ys(e,r){return p(e.writer,r)}function gs(e){return e.name}function De(e,r,n,t){return{reader:function(i){return p(n,p(e.reader,i))},writer:function(i){return p(e.writer,p(t,i))},name:r}}function As(e,r){return{reader:e.reader,writer:e.writer,name:r}}function Os(e){return{reader:function(r){return p(p(e,void 0).reader,r)},writer:function(r){return p(p(e,void 0).writer,r)},name:"<rec>"}}var Ss=new Uint8Array([]);function Js(e){}function Es(e){return Ss}var Fi={reader:Js,writer:Es,name:"unit"};function Bs(e){var r=e[0];if(r===0)return!1;if(r===1)return!0;throw{RE_EXN_ID:Me,Error:new Error}}function Gs(e){return e?new Uint8Array([1]):new Uint8Array([0])}var Cs={reader:Bs,writer:Gs,name:"bool"};function qi(e,r,n){for(;;){var t=n,i=r;if(i===0)return t;n=p(e,t),r=i-1|0}}function Ln(e){var r=function(f,l){return qi(function(d){return d/2|0},l,f)%256},n=r(e,0),t=r(e,8),i=r(e,16),o=r(e,24),a=r(e,32),u=r(e,40),s=r(e,48),c=r(e,56);return new Uint8Array([c,s,u,a,o,i,t,n])}function Tn(e){var r=function(f,l){return qi(function(d){return d<<1},l,f)},n=e[7],t=e[6],i=e[5],o=e[4],a=e[3],u=e[2],s=e[1],c=e[0];return((((((n+r(t,8)|0)+r(i,16)|0)+r(o,24)|0)+r(a,32)|0)+r(u,40)|0)+r(s,48)|0)+r(c,56)|0}var ws={reader:Tn,writer:Ln,name:"int"};function Ls(e){return new Float64Array(e.reverse().buffer)[0]}function Ts(e){var r=new Float64Array(1);return r.set([e]),new Uint8Array(r.buffer).reverse()}var js={reader:Ls,writer:Ts,name:"float"};function ks(e){var r=[];return e.forEach(function(n){r.push(String.fromCharCode(n))}),wn("","concat",[r])}function Us(e){return new Uint8Array(e.split("").map(function(r){return r.charCodeAt(0)|0}))}var Ms={reader:ks,writer:Us,name:"string"};function Br(e,r,n){return e.subarray(r,r+n|0)}function jn(e){var r=e.reduce(function(i,o){return i+o.length|0},0),n=new Uint8Array(r),t={contents:0};return e.forEach(function(i){n.set(i,t.contents),t.contents=t.contents+i.length|0}),n}function Gr(e){var r=function(t){for(var i=function(d,h,v){for(;;){var R=v,W=h,_=d;if(_===0)return R;var $=Tn(Br(t,W,8));v=R.concat([$]),h=W+8|0,d=_-1|0}},o=i(e,0,[]),a=e<<3,u=[];;){var s=u,c=a,f=o.shift();if(f===void 0)return s;var l=Br(t,c,f);u=s.concat([l]),a=c+f|0}},n=function(t){var i=t.map(function(o){return Ln(o.length)});return jn(i.concat(t))};return{reader:r,writer:n,name:"tuple"}}function Ds(e,r){return De(Gr(2),"".concat("(",e.name,", ",r.name,")"),function(n){if(n.length!==2)throw{RE_EXN_ID:Me,Error:new Error};var t=n[0],i=n[1];return[p(e.reader,t),p(r.reader,i)]},function(n){return[p(e.writer,n[0]),p(r.writer,n[1])]})}function Ns(e,r,n){return De(Gr(3),"".concat("(",e.name,", ",r.name,", ",n.name,")"),function(t){if(t.length!==3)throw{RE_EXN_ID:Me,Error:new Error};var i=t[0],o=t[1],a=t[2];return[p(e.reader,i),p(r.reader,o),p(n.reader,a)]},function(t){return[p(e.writer,t[0]),p(r.writer,t[1]),p(n.writer,t[2])]})}function Is(e,r,n,t){return De(Gr(4),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,")"),function(i){if(i.length!==4)throw{RE_EXN_ID:Me,Error:new Error};var o=i[0],a=i[1],u=i[2],s=i[3];return[p(e.reader,o),p(r.reader,a),p(n.reader,u),p(t.reader,s)]},function(i){return[p(e.writer,i[0]),p(r.writer,i[1]),p(n.writer,i[2]),p(t.writer,i[3])]})}function Vs(e,r,n,t,i){return De(Gr(5),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,")"),function(o){if(o.length!==5)throw{RE_EXN_ID:Me,Error:new Error};var a=o[0],u=o[1],s=o[2],c=o[3],f=o[4];return[p(e.reader,a),p(r.reader,u),p(n.reader,s),p(t.reader,c),p(i.reader,f)]},function(o){return[p(e.writer,o[0]),p(r.writer,o[1]),p(n.writer,o[2]),p(t.writer,o[3]),p(i.writer,o[4])]})}function xs(e,r,n,t,i,o){return De(Gr(6),"".concat("(",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,")"),function(a){if(a.length!==6)throw{RE_EXN_ID:Me,Error:new Error};var u=a[0],s=a[1],c=a[2],f=a[3],l=a[4],d=a[5];return[p(e.reader,u),p(r.reader,s),p(n.reader,c),p(t.reader,f),p(i.reader,l),p(o.reader,d)]},function(a){return[p(e.writer,a[0]),p(r.writer,a[1]),p(n.writer,a[2]),p(t.writer,a[3]),p(i.writer,a[4]),p(o.writer,a[5])]})}function Fs(e){var r=e.length-1|0;return[e[0],Br(e,1,r)]}function qs(e){return jn([new Uint8Array([e[0]]),e[1]])}var Cr={reader:Fs,writer:qs,name:"either"};function Pi(e,r){return De(Cr,"Rpc.Datatype.Either2.t".concat("<",e.name,", ",r.name,">"),function(n){var t=n[1],i=n[0];if(i===0)return{TAG:0,_0:p(e.reader,t)};if(i!==1)throw{RE_EXN_ID:Me,Error:new Error};return{TAG:1,_0:p(r.reader,t)}},function(n){return n.TAG===0?[0,p(e.writer,n._0)]:[1,p(r.writer,n._0)]})}function Ps(e,r,n){return De(Cr,"Rpc.Datatype.Either3.t".concat("<",e.name,", ",r.name,", ",n.name,">"),function(t){var i=t[1];switch(t[0]){case 0:return{TAG:0,_0:p(e.reader,i)};case 1:return{TAG:1,_0:p(r.reader,i)};case 2:return{TAG:2,_0:p(n.reader,i)};default:throw{RE_EXN_ID:Me,Error:new Error}}},function(t){switch(t.TAG|0){case 0:return[0,p(e.writer,t._0)];case 1:return[1,p(r.writer,t._0)];case 2:return[2,p(n.writer,t._0)]}})}function Hs(e,r,n,t){return De(Cr,"Rpc.Datatype.Either4.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,">"),function(i){var o=i[1];switch(i[0]){case 0:return{TAG:0,_0:p(e.reader,o)};case 1:return{TAG:1,_0:p(r.reader,o)};case 2:return{TAG:2,_0:p(n.reader,o)};case 3:return{TAG:3,_0:p(t.reader,o)};default:throw{RE_EXN_ID:Me,Error:new Error}}},function(i){switch(i.TAG|0){case 0:return[0,p(e.writer,i._0)];case 1:return[1,p(r.writer,i._0)];case 2:return[2,p(n.writer,i._0)];case 3:return[3,p(t.writer,i._0)]}})}function Ks(e,r,n,t,i){return De(Cr,"Rpc.Datatype.Either5.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,">"),function(o){var a=o[1];switch(o[0]){case 0:return{TAG:0,_0:p(e.reader,a)};case 1:return{TAG:1,_0:p(r.reader,a)};case 2:return{TAG:2,_0:p(n.reader,a)};case 3:return{TAG:3,_0:p(t.reader,a)};case 4:return{TAG:4,_0:p(i.reader,a)};default:throw{RE_EXN_ID:Me,Error:new Error}}},function(o){switch(o.TAG|0){case 0:return[0,p(e.writer,o._0)];case 1:return[1,p(r.writer,o._0)];case 2:return[2,p(n.writer,o._0)];case 3:return[3,p(t.writer,o._0)];case 4:return[4,p(i.writer,o._0)]}})}function zs(e,r,n,t,i,o){return De(Cr,"Rpc.Datatype.Either6.t".concat("<",e.name,", ",r.name,", ",n.name,", ",t.name,", ",i.name,", ",o.name,">"),function(a){var u=a[1];switch(a[0]){case 0:return{TAG:0,_0:p(e.reader,u)};case 1:return{TAG:1,_0:p(r.reader,u)};case 2:return{TAG:2,_0:p(n.reader,u)};case 3:return{TAG:3,_0:p(t.reader,u)};case 4:return{TAG:4,_0:p(i.reader,u)};case 5:return{TAG:5,_0:p(o.reader,u)};default:throw{RE_EXN_ID:Me,Error:new Error}}},function(a){switch(a.TAG|0){case 0:return[0,p(e.writer,a._0)];case 1:return[1,p(r.writer,a._0)];case 2:return[2,p(n.writer,a._0)];case 3:return[3,p(t.writer,a._0)];case 4:return[4,p(i.writer,a._0)];case 5:return[5,p(o.writer,a._0)]}})}function Xs(e){var r=Pi(e,Fi),n=r.writer,t=r.reader;return{reader:function(i){var o=p(t,i);if(o.TAG===0)return H(o._0)},writer:function(i){return i!==void 0?p(n,{TAG:0,_0:K(i)}):p(n,{TAG:1,_0:void 0})},name:"option<"+e.name+">"}}function Hi(e){var r=function(t){var i=Tn(Br(t,0,8)),o=[],a=function(u,s){for(;;){var c=s,f=u;if(f===0)return;var l=Tn(Br(t,c,8)),d=p(e.reader,Br(t,c+8|0,l));o.push(d),s=(c+8|0)+l|0,u=f-1|0}};return a(i,8),o},n=function(t){var i=Ln(t.length),o=nn(t,function(a){var u=p(e.writer,a),s=Ln(u.length);return jn([s,u])});return jn(Or([i],o))};return{reader:r,writer:n,name:"array<"+e.name+">"}}function Qs(e){var r=Hi(e),n=r.writer,t=r.reader;return{reader:function(i){return Jr(p(t,i))},writer:function(i){return p(n,on(i))},name:"list<"+e.name+">"}}var ye={Either2:ms,Either3:hs,Either4:bs,Either5:Rs,Either6:$s,read:Ws,write:ys,name:gs,convert:De,alias:As,recur:Os,unit_:Fi,bool_:Cs,int_:ws,float_:js,string_:Ms,option_:Xs,array_:Hi,list_:Qs,tuple2_:Ds,tuple3_:Ns,tuple4_:Is,tuple5_:Vs,tuple6_:xs,tupleN_:Gr,either2_:Pi,either3_:Ps,either4_:Hs,either5_:Ks,either6_:zs,eitherN_:Cr};var Ki=function(e,r){for(var n in e)r(n)};function wr(e,r){if(e===r)return 0;var n=typeof e,t=typeof r;switch(n){case"boolean":if(t==="boolean")return Oi(e,r);break;case"function":if(t==="function")throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if(t==="number")return St(e,r);break;case"string":return t==="string"?Jn(e,r):1;case"undefined":return-1;default:}switch(t){case"string":return-1;case"undefined":return 1;default:if(n==="boolean")return 1;if(t==="boolean")return-1;if(n==="function")return 1;if(t==="function")return-1;if(n==="number")return r===null||r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(t==="number")return e===null||e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e===null)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?1:-1;if(r===null)return e.BS_PRIVATE_NESTED_SOME_NONE!==void 0?-1:1;if(e.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return r.BS_PRIVATE_NESTED_SOME_NONE!==void 0?zi(e,r):-1;var i=e.TAG|0,o=r.TAG|0;if(i===248)return St(e[1],r[1]);if(i===251)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(i!==o)return i<o?-1:1;var a=e.length|0,u=r.length|0;if(a===u)if(Array.isArray(e))for(var s=0;;){var c=s;if(c===a)return 0;var f=wr(e[c],r[c]);if(f!==0)return f;s=c+1|0}else return e instanceof Date&&r instanceof Date?e-r:zi(e,r);else if(a<u)for(var l=0;;){var d=l;if(d===a)return-1;var h=wr(e[d],r[d]);if(h!==0)return h;l=d+1|0}else for(var v=0;;){var R=v;if(R===u)return 1;var W=wr(e[R],r[R]);if(W!==0)return W;v=R+1|0}}}function zi(e,r){var n={contents:void 0},t={contents:void 0},i=function(l,d){var h=l[2],v=l[1];if(!v.hasOwnProperty(d)||wr(l[0][d],v[d])>0){var R=h.contents;if(!(R!==void 0&&d>=R)){h.contents=d;return}}},o=[e,r,t],a=function(l){return i(o,l)},u=[r,e,n],s=function(l){return i(u,l)};Ki(e,a),Ki(r,s);var c=n.contents,f=t.contents;return c!==void 0?f!==void 0?Jn(c,f):-1:f!==void 0?1:0}function Xi(e,r){return wr(e,r)>0}function Qi(e,r){return wr(e,r)<0}function Zs(e){return e}function Ys(e){return"TAG: ".concat(e)}function ec(e){return e}function Lr(e,r){return e.concat(r)}function Zi(e){return Gn(e,[],Lr)}function Yi(e,r){return e.concat([{TAG:1,_0:r}])}function kn(e){return[{TAG:0,_0:e}]}function Un(e){return[{TAG:0,_0:wn("","concat",[e])}]}function Tr(e,r){return r.map(function(n){return{TAG:1,_0:n}}).concat(e)}function jr(e,r){return e.concat(r.map(function(n){return{TAG:1,_0:n}}))}var eo={toString:Ys,fromString:Zs,toJson:ec,fromJson:rn};function ee(e){return{TAG:0,_0:e,_1:[]}}function kr(e){return{TAG:1,_0:kn(e)}}function Ne(e){return{TAG:1,_0:Un(e)}}function L(e,r){return e.TAG===0?{TAG:0,_0:e._0,_1:e._1.concat([eo.fromString(r)])}:{TAG:1,_0:Yi(e._0,r)}}function O(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0),_1:e._1}:{TAG:1,_0:e._0}}function m(e,r){if(e.TAG===0){var n=p(r,e._0),t=e._1;return n.TAG===0?{TAG:0,_0:n._0,_1:t.concat(n._1)}:{TAG:1,_0:Tr(n._0,t)}}else return{TAG:1,_0:e._0}}function Et(e,r){if(e.TAG===0)return p(r,e._0)}function ve(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;return n.TAG===0?{TAG:0,_0:[r._0,n._0],_1:t.concat(n._1)}:{TAG:1,_0:Tr(n._0,t)}}var i=e[1],o=r._0;return i.TAG===0?{TAG:1,_0:jr(o,i._1)}:{TAG:1,_0:Lr(o,i._0)}}function oe(e){if(!e)return{TAG:0,_0:0,_1:[]};var r=ve([e.hd,oe(e.tl)]);if(r.TAG!==0)return{TAG:1,_0:r._0};var n=r._0;return{TAG:0,_0:En(n[1],n[0]),_1:r._1}}function re(e){if(!e)return{TAG:0,_0:void 0,_1:[]};var r=ve([e.hd,re(e.tl)]);return r.TAG===0?{TAG:0,_0:void 0,_1:r._1}:{TAG:1,_0:r._0}}function ro(e,r){return e!==void 0?{TAG:0,_0:K(e),_1:[]}:{TAG:1,_0:r}}function E(e,r){return ro(e,kn(r))}function T(e,r){return ro(e,Un(r))}function no(e,r){return e?{TAG:0,_0:void 0,_1:[]}:{TAG:1,_0:r}}function to(e,r){return no(e,kn(r))}function Ke(e,r){return no(e,Un(r))}function Oe(e){var r=e[0];if(r.TAG===0){var n=e[1],t=r._1;if(n.TAG===0){var i=e[2],o=n._1;return i.TAG===0?{TAG:0,_0:[r._0,n._0,i._0],_1:t.concat(o,i._1)}:{TAG:1,_0:Tr(i._0,t.concat(o))}}var a=e[2],u=n._0;return a.TAG===0?{TAG:1,_0:jr(Tr(u,t),a._1)}:{TAG:1,_0:Tr(Lr(u,a._0),t)}}var s=e[1],c=r._0;if(s.TAG===0){var f=e[2],l=s._1;return f.TAG===0?{TAG:1,_0:jr(c,l.concat(f._1))}:{TAG:1,_0:Lr(jr(c,l),f._0)}}var d=e[2],h=s._0;return d.TAG===0?{TAG:1,_0:jr(Lr(c,h),d._1)}:{TAG:1,_0:Zi({hd:c,tl:{hd:h,tl:{hd:d._0,tl:0}}})}}function ze(e){return O(ve([ve([e[0],e[1]]),ve([e[2],e[3]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1]]})}function an(e){return O(ve([ve([e[0],e[1]]),Oe([e[2],e[3],e[4]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],n[0],n[1],n[2]]})}function Ur(e){return O(ve([Oe([e[0],e[1],e[2]]),Oe([e[3],e[4],e[5]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2]]})}function Bt(e){return O(ve([Oe([e[0],e[1],e[2]]),ze([e[3],e[4],e[5],e[6]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],n[0],n[1],n[2],n[3]]})}function io(e){return O(ve([ze([e[0],e[1],e[2],e[3]]),an([e[4],e[5],e[6],e[7],e[8]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3],n[4]]})}function oo(e){return O(ve([an([e[0],e[1],e[2],e[3],e[4]]),an([e[5],e[6],e[7],e[8],e[9]])]),function(r){var n=r[1],t=r[0];return[t[0],t[1],t[2],t[3],t[4],n[0],n[1],n[2],n[3],n[4]]})}function Gt(e){return O(Oe([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),Oe([e[8],e[9],e[10]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2]]})}function ao(e){return O(Oe([ze([e[0],e[1],e[2],e[3]]),ze([e[4],e[5],e[6],e[7]]),ze([e[8],e[9],e[10],e[11]])]),function(r){var n=r[2],t=r[1],i=r[0];return[i[0],i[1],i[2],i[3],t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3]]})}function Mr(e){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:e._0}}var Zd=ye.array_,vr=nn;function mr(e,r){return m(E(Ar(e),"JSON is not a valid array (reading array)"),function(n){return tn(n,ee([]),function(t,i){return m(t,function(o){return O(p(r,i),function(a){return Or(o,[a])})})})})}function un(e,r){return e.filter(Y(r))}function Mn(e,r){return Wi(e.find(Y(r)))}function uo(e,r){return tn(e,[],function(n,t){var i=p(r,t);return i!==void 0?Or(n,[K(i)]):n})}var Dn=e=>[...new Set(e)];var so=Si;var sn=Or;var hr=Ei;var br=nn;var Nn=Ci;var Dr=tn;var co=Ti;function ge(e){return e!==void 0?e.h:0}function Ee(e,r,n,t){var i=ge(e),o=ge(t);return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t}}function me(e,r){return{k:e,v:r,h:1,l:void 0,r:void 0}}function fo(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function cn(e,r){return e.v===r?e:{k:e.k,v:r,h:e.h,l:e.l,r:e.r}}function Ae(e,r,n,t){var i=e!==void 0?e.h:0,o=t!==void 0?t.h:0;if(i>(o+2|0)){var a=e.l,u=e.r;return ge(a)>=ge(u)?Ee(a,e.k,e.v,Ee(u,r,n,t)):Ee(Ee(a,e.k,e.v,u.l),u.k,u.v,Ee(u.r,r,n,t))}if(o<=(i+2|0))return{k:r,v:n,h:i>=o?i+1|0:o+1|0,l:e,r:t};var s=t.l,c=t.r;return ge(c)>=ge(s)?Ee(Ee(e,r,n,s),t.k,t.v,c):Ee(Ee(e,r,n,s.l),s.k,s.v,Ee(s.r,t.k,t.v,c))}function Rr(e,r,n){var t=e.l;return t!==void 0?Ae(Rr(t,r,n),e.k,e.v,e.r):(r.contents=e.k,n.contents=e.v,e.r)}function Ct(e){return e===void 0}function In(e,r){for(;;){var n=e;if(n===void 0)return;In(n.l,r),r(n.k,n.v),e=n.r}}function fn(e,r){if(e!==void 0){var n=fn(e.l,r),t=r(e.v),i=fn(e.r,r);return{k:e.k,v:t,h:e.h,l:n,r:i}}}function ln(e,r){if(e!==void 0){var n=e.k,t=ln(e.l,r),i=r(n,e.v),o=ln(e.r,r);return{k:n,v:i,h:e.h,l:t,r:o}}}function lo(e,r,n){return e!==void 0?Ae(lo(e.l,r,n),e.k,e.v,e.r):me(r,n)}function po(e,r,n){return e!==void 0?Ae(e.l,e.k,e.v,po(e.r,r,n)):me(r,n)}function Xe(e,r,n,t){if(e===void 0)return lo(t,r,n);if(t===void 0)return po(e,r,n);var i=e.k,o=e.v,a=e.h,u=e.l,s=e.r,c=t.k,f=t.v,l=t.h,d=t.l,h=t.r;return a>(l+2|0)?Ae(u,i,o,Xe(s,r,n,t)):l>(a+2|0)?Ae(Xe(e,r,n,d),c,f,h):Ee(e,r,n,t)}function _o(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.k},t={contents:r.v},i=Rr(r,n,t);return Xe(e,n.contents,t.contents,i)}function Vn(e,r,n,t){return n!==void 0?Xe(e,r,K(n),t):_o(e,t)}function pn(e,r){if(e!==void 0){var n=e.k,t=e.v,i=pn(e.l,r),o=r(n,t),a=pn(e.r,r);return o!==void 0?Xe(i,n,K(o),a):_o(i,a)}}function dn(e){var r=e.l,n=e.r,t=r!==void 0?dn(r):0,i=n!==void 0?dn(n):0;return(1+t|0)+i|0}function vo(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;var i=t.k,o=t.v,a=t.l,u=t.r;r={hd:[i,o],tl:vo(u,n)},e=a}}function wt(e){return vo(e,0)}function mo(e,r,n){for(;;){var t=r,i=e,o=i.k,a=i.l,u=i.r,s=a!==void 0?mo(a,t,n):t;n[s]=o;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function ho(e,r,n){for(;;){var t=r,i=e,o=i.l,a=i.r,u=o!==void 0?ho(o,t,n):t;n[u]=i.v;var s=u+1|0;if(a===void 0)return s;r=s,e=a}}function bo(e,r,n){for(;;){var t=r,i=e,o=i.l,a=i.k,u=i.r,s=o!==void 0?bo(o,t,n):t;n[s]=[a,i.v];var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function Lt(e){if(e===void 0)return[];var r=dn(e),n=new Array(r);return bo(e,0,n),n}function Tt(e){if(e===void 0)return[];var r=dn(e),n=new Array(r);return mo(e,0,n),n}function jt(e){if(e===void 0)return[];var r=dn(e),n=new Array(r);return ho(e,0,n),n}function _n(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return me(t[0],t[1]);case 2:var i=e[r],o=e[r-1|0],a=o,u=i;return{k:a[0],v:a[1],h:2,l:me(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r-1|0],f=e[r-2|0],l=f,d=c,h=s;return{k:d[0],v:d[1],h:2,l:me(h[0],h[1]),r:me(l[0],l[1])};default:var v=n/2|0,R=_n(e,r,v),W=e[r-v|0],_=_n(e,(r-v|0)-1|0,(n-v|0)-1|0);return Ee(R,W[0],W[1],_)}}function vn(e,r,n){switch(n){case 0:return;case 1:var t=e[r];return me(t[0],t[1]);case 2:var i=e[r],o=e[r+1|0],a=o,u=i;return{k:a[0],v:a[1],h:2,l:me(u[0],u[1]),r:void 0};case 3:var s=e[r],c=e[r+1|0],f=e[r+2|0],l=f,d=c,h=s;return{k:d[0],v:d[1],h:2,l:me(h[0],h[1]),r:me(l[0],l[1])};default:var v=n/2|0,R=vn(e,r,v),W=e[r+v|0],_=vn(e,(r+v|0)+1|0,(n-v|0)-1|0);return Ee(R,W[0],W[1],_)}}function Ro(e,r,n){for(;;){var t=e;if(t===void 0)return;var i=t.k,o=n(r,i);if(o===0)return H(t.v);e=o<0?t.l:t.r}}function $o(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.k,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function kt(e){var r=e.l;e.l=r.r,r.r=e;var n=ge(e.l),t=ge(e.r);e.h=(n>t?n:t)+1|0;var i=ge(r.l),o=e.h;return r.h=(i>o?i:o)+1|0,r}function Ut(e){var r=e.r;e.r=r.l,r.l=e;var n=ge(e.l),t=ge(e.r);e.h=(n>t?n:t)+1|0;var i=ge(r.r),o=e.h;return r.h=(i>o?i:o)+1|0,r}function rc(e){var r=e.l,n=Ut(r);return e.l=n,kt(e)}function nc(e){var r=e.r,n=kt(r);return e.r=n,Ut(e)}function xn(e){var r=ge(e.l),n=ge(e.r);return e.h=(r>n?r:n)+1|0,e}function Mt(e){var r=e.l,n=e.r,t=ge(r),i=ge(n);if(t>(2+i|0)){var o=r.l,a=r.r;return fo(o,a)?xn(kt(e)):xn(rc(e))}if(i>(2+t|0)){var u=n.l,s=n.r;return fo(s,u)?xn(Ut(e)):xn(nc(e))}return e.h=(t>i?t:i)+1|0,e}function Dt(e,r,n,t){if(e===void 0)return me(r,n);var i=e.k,o=t(r,i);if(o===0)return e.v=n,e;var a=e.l,u=e.r;if(o<0){var s=Dt(a,r,n,t);e.l=s}else e.r=Dt(u,r,n,t);return Mt(e)}function Wo(e,r){var n=e.length;if(n!==0){var t=Sr(e,function(u,s){return r(u[0],s[0])<0}),i;t>=0?i=vn(e,0,t):(t=-t|0,i=_n(e,t-1|0,t));for(var o=t;o<n;++o){var a=e[o];i=Dt(i,a[0],a[1],r)}return i}}function Nt(e,r,n){if(e===void 0)return me(r,n);var t=e.k;if(r===t)return e.k=r,e.v=n,e;var i=e.l,o=e.r;if(r<t){var a=Nt(i,r,n);e.l=a}else e.r=Nt(o,r,n);return Mt(e)}function go(e){var r=e.length;if(r!==0){var n=Sr(e,function(a,u){return a[0]<u[0]}),t;n>=0?t=vn(e,0,n):(n=-n|0,t=_n(e,n-1|0,n));for(var i=n;i<r;++i){var o=e[i];t=Nt(t,o[0],o[1])}return t}}var Ao=go;var T_=ye.string_;function y(e){return e}function g(e){return T(rn(e),["Not a JSON string: ",String(e)])}var j_=Ao([[" ",.3],["!",.33],[".",.33],[",",.33],[";",.33],[":",.33],['"',.4],["'",.25],["/",.35],["\\",.35],["@",1.2],["#",.66],["$",.66],["\xC2\xA3",.66],["&",.8],["*",.45],["(",.4],[")",.4],["[",.4],["]",.4],["{",.4],["}",.4],["|",.3],["+",.7],["-",.4],["\xE2\x80\x93",.66],["\xE2\x80\x94",1.15],["=",.7],["_",.66],["0",.66],["1",.6],["2",.66],["3",.66],["4",.66],["5",.66],["6",.66],["7",.66],["8",.66],["9",.66],["a",.66],["b",.66],["c",.6],["d",.66],["e",.66],["f",.33],["g",.66],["h",.66],["i",.25],["j",.25],["k",.66],["l",.25],["m",1],["n",.66],["o",.66],["p",.66],["q",.66],["r",.4],["s",.66],["t",.33],["u",.66],["v",.65],["w",.9],["x",.66],["y",.66],["z",.66],["A",.8],["B",.8],["C",.85],["D",.85],["E",.8],["F",.75],["G",.95],["H",.85],["I",.33],["J",.6],["K",.8],["L",.66],["M",1],["N",.85],["O",.95],["P",.8],["Q",.95],["R",.85],["S",.8],["T",.65],["U",.85],["V",.8],["W",1.15],["X",.8],["Y",.8],["Z",.75]]);var nr=y,tr=g;function Jc(e){switch(e){case 0:return"Semantic";case 1:return"Auxiliary";case 2:return"Arbitrary"}}function Ec(e){switch(e){case"Arbitrary":return 2;case"Auxiliary":return 1;case"Semantic":return 0;default:return}}function Be(e){return y(Jc(e))}function Ge(e){return m(g(e),function(r){return T(Ec(r),["Function '",r,"' is not one of Semantic, Auxiliary, or Arbitrary"])})}function Oo(e){var r=e.cmp,n=We(r);return{cmp:n}}function So(e){for(var r=Object.keys(e),n=r.length,t=new Array(n),i=0;i<n;++i){var o=r[i];t[i]=[o,e[o]]}return t}function Jo(e){for(var r={},n=e;;){var t=n;if(!t)return r;var i=t.hd;r[i[0]]=i[1],n=t.tl}}function Fn(e,r,n,t){if(e===void 0)return me(r,n);var i=e.k,o=t(r,i);if(o===0)return cn(e,n);var a=e.l,u=e.r,s=e.v;return o<0?Ae(Fn(a,r,n,t),i,s,u):Ae(a,i,s,Fn(u,r,n,t))}function qn(e,r,n,t){if(e!==void 0){var i=e.k,o=t(r,i);if(o===0){var a=n(H(e.v));if(a!==void 0)return cn(e,K(a));var u=e.l,s=e.r;if(u===void 0)return s;if(s===void 0)return u;var c={contents:s.k},f={contents:s.v},l=Rr(s,c,f);return Ae(u,c.contents,f.contents,l)}var d=e.l,h=e.r,v=e.v;if(o<0){var R=qn(d,r,n,t);return d===R?e:Ae(R,i,v,h)}var W=qn(h,r,n,t);return h===W?e:Ae(d,i,v,W)}var _=n(void 0);return _!==void 0?me(r,K(_)):e}function It(e,r,n){var t=e.k,i=e.l,o=e.r,a=n(r,t);if(a===0){if(i===void 0)return o;if(o===void 0)return i;var u={contents:o.k},s={contents:o.v},c=Rr(o,u,s);return Ae(i,u.contents,s.contents,c)}if(a<0){if(i===void 0)return e;var f=It(i,r,n);return f===i?e:Ae(f,t,e.v,o)}if(o===void 0)return e;var l=It(o,r,n);return l===o?e:Ae(i,t,e.v,l)}function Eo(e,r,n){if(e!==void 0)return It(e,r,n)}function Pn(e,r,n,t){var i=e.k,o=e.v,a=e.l,u=e.r,s=t(r,i);if(s===0)return n.contents=H(o),[a,u];if(s<0){if(a===void 0)return[void 0,e];var c=Pn(a,r,n,t);return[c[0],Xe(c[1],i,o,u)]}if(u===void 0)return[e,void 0];var f=Pn(u,r,n,t);return[Xe(a,i,o,f[0]),f[1]]}function Nr(e,r,n,t){if(e===void 0)return r!==void 0?pn(r,function(b,A){return n(b,void 0,H(A))}):void 0;if(r===void 0)return pn(e,function(b,A){return n(b,H(A),void 0)});if(e.h>=r.h){var i=e.k,o=e.v,a=e.l,u=e.r,s={contents:void 0},c=Pn(r,i,s,t),f=s.contents,l=Nr(a,c[0],n,t),d=n(i,H(o),f),h=Nr(u,c[1],n,t);return Vn(l,i,d,h)}var v=r.k,R=r.v,W=r.l,_=r.r,$={contents:void 0},j=Pn(e,v,$,t),ie=$.contents,P=Nr(j[0],W,n,t),q=n(v,ie,H(R)),B=Nr(j[1],_,n,t);return Vn(P,v,q,B)}var Bo=Ct,Go=$o;var Co=In;var wo=wt,Lo=Lt,To=Wo,jo=Tt,ko=jt;var Uo=Ro;var Mo=fn;var Do=ln;function No(e,r){var n=r.cmp;return{cmp:n,data:To(e,n)}}function Io(e,r){var n=e.data,t=e.cmp,i=Eo(n,r,t);return i===n?e:{cmp:t,data:i}}function Vt(e,r,n){var t=e.cmp;return{cmp:t,data:Fn(e.data,r,n,t)}}function Bc(e,r,n){var t=e.cmp;return{cmp:t,data:qn(e.data,r,n,t)}}function Vo(e,r,n){return Bc(e,r,Y(n))}function Gc(e,r,n){var t=e.cmp;return{cmp:t,data:Nr(e.data,r.data,n,t)}}function xo(e,r,n){return Gc(e,r,rr(n))}function xt(e){return{cmp:e.cmp,data:void 0}}function Fo(e){return Bo(e.data)}function qo(e,r){return Co(e.data,We(r))}function Cc(e,r){return{cmp:e.cmp,data:Mo(e.data,r)}}function Po(e,r){return Cc(e,Y(r))}function wc(e,r){return{cmp:e.cmp,data:Do(e.data,r)}}function Ho(e,r){return wc(e,We(r))}function Ft(e){return wo(e.data)}function Ko(e){return Lo(e.data)}function zo(e){return jo(e.data)}function Xo(e){return ko(e.data)}function Qo(e,r){return Uo(e.data,r,e.cmp)}function Zo(e,r){return Go(e.data,r,e.cmp)}function Ce(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n}}function we(e){return{v:e,h:1,l:void 0,r:void 0}}function Hn(e,r){return r!==void 0?e!==void 0?e.h>=r.h:!1:!0}function Ie(e,r,n){var t=e!==void 0?e.h:0,i=n!==void 0?n.h:0;if(t>(i+2|0)){var o=e.l,a=e.r;return Hn(o,a)?Ce(o,e.v,Ce(a,r,n)):Ce(Ce(o,e.v,a.l),a.v,Ce(a.r,r,n))}if(i<=(t+2|0))return{v:r,h:(t>=i?t:i)+1|0,l:e,r:n};var u=n.l,s=n.r;return Hn(s,u)?Ce(Ce(e,r,u),n.v,s):Ce(Ce(e,r,u.l),u.v,Ce(u.r,n.v,s))}function Kn(e,r){var n=e.l;return n!==void 0?Ie(Kn(n,r),e.v,e.r):(r.contents=e.v,e.r)}function Yo(e){return e===void 0}function ea(e,r){return e!==void 0?Ie(ea(e.l,r),e.v,e.r):we(r)}function ra(e,r){return e!==void 0?Ie(e.l,e.v,ra(e.r,r)):we(r)}function Ve(e,r,n){if(e===void 0)return ea(n,r);if(n===void 0)return ra(e,r);var t=e.h,i=n.h;return t>(i+2|0)?Ie(e.l,e.v,Ve(e.r,r,n)):i>(t+2|0)?Ie(Ve(e,r,n.l),n.v,n.r):Ce(e,r,n)}function na(e,r){if(e===void 0)return r;if(r===void 0)return e;var n={contents:r.v},t=Kn(r,n);return Ve(e,n.contents,t)}function zn(e){var r=e.l,n=e.r,t=r!==void 0?zn(r):0,i=n!==void 0?zn(n):0;return(1+t|0)+i|0}function ta(e){return e!==void 0?zn(e):0}function ia(e,r){for(;;){var n=r,t=e;if(t===void 0)return n;r={hd:t.v,tl:ia(t.r,n)},e=t.l}}function oa(e){return ia(e,0)}function aa(e,r,n){for(;;){var t=r,i=e,o=i.v,a=i.l,u=i.r,s=a!==void 0?aa(a,t,n):t;n[s]=o;var c=s+1|0;if(u===void 0)return c;r=c,e=u}}function ua(e){if(e===void 0)return[];var r=zn(e),n=new Array(r);return aa(e,0,n),n}function qt(e,r,n){switch(n){case 0:return;case 1:return we(e[r]);case 2:var t=e[r],i=e[r-1|0];return{v:i,h:2,l:we(t),r:void 0};case 3:var o=e[r],a=e[r-1|0],u=e[r-2|0];return{v:a,h:2,l:we(o),r:we(u)};default:var s=n/2|0,c=qt(e,r,s),f=e[r-s|0],l=qt(e,(r-s|0)-1|0,(n-s|0)-1|0);return Ce(c,f,l)}}function Pt(e,r,n){switch(n){case 0:return;case 1:return we(e[r]);case 2:var t=e[r],i=e[r+1|0];return{v:i,h:2,l:we(t),r:void 0};case 3:var o=e[r],a=e[r+1|0],u=e[r+2|0];return{v:a,h:2,l:we(o),r:we(u)};default:var s=n/2|0,c=Pt(e,r,s),f=e[r+s|0],l=Pt(e,(r+s|0)+1|0,(n-s|0)-1|0);return Ce(c,f,l)}}function sa(e,r,n){for(;;){var t=e;if(t===void 0)return!1;var i=t.v,o=n(r,i);if(o===0)return!0;e=o<0?t.l:t.r}}function Ht(e){var r=e.l;e.l=r.r,r.r=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var a=r.l,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function Kt(e){var r=e.r;e.r=r.l,r.l=e;var n=e.l,t=n!==void 0?n.h:0,i=e.r,o=i!==void 0?i.h:0;e.h=(t>o?t:o)+1|0;var a=r.r,u=a!==void 0?a.h:0,s=e.h;return r.h=(u>s?u:s)+1|0,r}function Lc(e){var r=e.l,n=Kt(r);return e.l=n,Ht(e)}function Tc(e){var r=e.r,n=Ht(r);return e.r=n,Kt(e)}function Xn(e){var r=e.l,n=r!==void 0?r.h:0,t=e.r,i=t!==void 0?t.h:0;return e.h=(n>i?n:i)+1|0,e}function jc(e){var r=e.l,n=e.r,t=r!==void 0?r.h:0,i=n!==void 0?n.h:0;if(t>(2+i|0)){var o=r.l,a=r.r;return Hn(o,a)?Xn(Ht(e)):Xn(Lc(e))}if(i>(2+t|0)){var u=n.l,s=n.r;return Hn(s,u)?Xn(Kt(e)):Xn(Tc(e))}return e.h=(t>i?t:i)+1|0,e}function zt(e,r,n){if(r===void 0)return we(n);var t=r.v,i=e(n,t);if(i===0)return r;var o=r.l,a=r.r;if(i<0){var u=zt(e,o,n);r.l=u}else r.r=zt(e,a,n);return jc(r)}function ca(e,r){var n=e.length;if(n!==0){var t=Sr(e,function(a,u){return r(a,u)<0}),i;t>=0?i=Pt(e,0,t):(t=-t|0,i=qt(e,t-1|0,t));for(var o=t;o<n;++o)i=zt(r,i,e[o]);return i}}function Ir(e,r,n){if(e===void 0)return we(r);var t=e.v,i=n(r,t);if(i===0)return e;var o=e.l,a=e.r;if(i<0){var u=Ir(o,r,n);return u===o?e:Ie(u,t,a)}var s=Ir(a,r,n);return s===a?e:Ie(o,t,s)}function Qn(e,r,n){if(e===void 0)return e;var t=e.v,i=e.l,o=e.r,a=n(r,t);if(a===0){if(i===void 0)return o;if(o===void 0)return i;var u={contents:o.v},s=Kn(o,u);return Ie(i,u.contents,s)}if(a<0){var c=Qn(i,r,n);return c===i?e:Ie(c,t,o)}var f=Qn(o,r,n);return f===o?e:Ie(i,t,f)}function Zn(e,r,n){var t=r.v,i=r.l,o=r.r,a=e(n,t);if(a===0)return[i,o];if(a<0){if(i===void 0)return[void 0,r];var u=Zn(e,i,n);return[u[0],Ve(u[1],t,o)]}if(o===void 0)return[r,void 0];var s=Zn(e,o,n);return[Ve(i,t,s[0]),s[1]]}function Xt(e,r,n,t){var i=r.v,o=r.l,a=r.r,u=e(n,i);if(u===0)return t.contents=!0,[o,a];if(u<0){if(o===void 0)return[void 0,r];var s=Xt(e,o,n,t);return[s[0],Ve(s[1],i,a)]}if(a===void 0)return[r,void 0];var c=Xt(e,a,n,t);return[Ve(o,i,c[0]),c[1]]}function Vr(e,r,n){if(e===void 0)return r;if(r===void 0)return e;var t=e.h,i=r.h;if(t>=i){if(i===1)return Ir(e,r.v,n);var o=e.v,a=e.l,u=e.r,s=Zn(n,r,o);return Ve(Vr(a,s[0],n),o,Vr(u,s[1],n))}if(t===1)return Ir(r,e.v,n);var c=r.v,f=r.l,l=r.r,d=Zn(n,e,c);return Ve(Vr(d[0],f,n),c,Vr(d[1],l,n))}function Yn(e,r,n){if(e!==void 0&&r!==void 0){var t=e.v,i=e.l,o=e.r,a={contents:!1},u=Xt(n,r,t,a),s=Yn(i,u[0],n),c=Yn(o,u[1],n);return a.contents?Ve(s,t,c):na(s,c)}}var fa=ca;var la=Yo,pa=sa;var da=ta,_a=oa,va=ua;function ma(e,r){var n=r.cmp;return{cmp:n,data:fa(e,n)}}function ha(e,r){var n=e.data,t=e.cmp,i=Qn(n,r,t);return i===n?e:{cmp:t,data:i}}function Qt(e,r){var n=e.data,t=e.cmp,i=Ir(n,r,t);return i===n?e:{cmp:t,data:i}}function ba(e,r){var n=e.cmp;return{cmp:n,data:Vr(e.data,r.data,n)}}function Ra(e,r){var n=e.cmp;return{cmp:n,data:Yn(e.data,r.data,n)}}function $a(e){return{cmp:e.cmp,data:void 0}}function Wa(e){return la(e.data)}function ya(e){return da(e.data)}function Zt(e){return _a(e.data)}function ga(e){return va(e.data)}function Aa(e,r){return pa(e.data,r,e.cmp)}var Mm=ye.int_;function $r(e){return e}function Wr(e){return O(E(gt(e),"JSON is not a number (reading Int)"),function(r){return r|0})}function Oa(e,r){return e.toString(r)}function Sa(e,r){return parseInt(e,r)}var nh=ye.option_;function Ja(e){var r=e[1];return Cn(e[0],function(n){return Er(r,function(t){return[n,t]})})}function ne(e,r){return e!==void 0?p(r,K(e)):null}function te(e,r){return e===null?ee(void 0):O(p(r,e),function(n){return H(n)})}var yr=Mi;var et=Er;var mn=Ii,Ea=Vi,ir=xi;var Ub=ye.list_;function Ba(e){return!e}function z(e,r){return on(Bn(e,r))}function X(e,r){return m(E(Ar(e),"JSON is not a valid array (reading list)"),function(n){return oe(Bn(Jr(n),r))})}var rt=Jt;var je=En;var Ga=ji;var G=Bn;var ce=Jr;var xr=Gn;var or=0;var Zb=ye.int_,Yt={counter:Date.now()|0};function Ca(e){var r=Yt.counter;return Yt.counter=Yt.counter+1|0,r}function wa(e){return Dr(e,0,function(r,n){return(r<<1)+n|0})}function w(e){return Oa(e,16)}function Fr(e){return Sa(e,16)}function N(e){return y(w(e))}function I(e){return O(g(e),Fr)}function Dc(e,r){return Xi(e,r)?1:Qi(e,r)?-1:0}var hn=Oo({cmp:Dc}),La=$a(hn);function Ta(e){return xr(e,La,Qt)}function Nc(e){return ma(e,hn)}function Ic(e){return z(Zt(e),N)}function Vc(e){return O(X(e,I),Ta)}function xc(e){return xt(hn)}function ja(e){return xr(e,xt(hn),function(r,n){return Vt(r,n[0],n[1])})}function Fc(e){return No(e,hn)}function qc(e,r){return Jo(G(Ft(e),function(n){return[w(n[0]),p(r,n[1])]}))}function Pc(e,r){return m(E(yi(e),"JSON is not an object (reading UUID)"),function(n){return O(oe(ce(br(So(n),function(t){var i=t[0];return O(p(r,t[1]),function(o){return[Fr(i),o]})}))),ja)})}var Se={toJson:Ic,fromJson:Vc,empty:La,isEmpty:Wa,has:Aa,add:Qt,remove:ha,union:ba,intersect:Ra,size:ya,toList:Zt,fromList:Ta,toArray:ga,fromArray:Nc},J={toJson:qc,fromJson:Pc,empty:xc,isEmpty:Fo,has:Zo,set:Vt,get:Qo,remove:Io,update:Vo,map:Po,mapWithKey:Ho,forEach:qo,merge:xo,keys:zo,values:Xo,toList:Ft,toArray:Ko,fromList:ja,fromArray:Fc};var t0=ye.bool_;function fe(e){return e}function le(e){return E(gi(e),"JSON is not a valid boolean")}function pe(e,r,n,t,i){return xr(e,[r,n],function(o,a){var u=o[1],s=o[0];if(Se.has(u,Te(t,a)))return[s,u];var c=On(i,a,u);return[Ga(s,c[0]),Se.union(u,c[1])]})}function de(e,r,n,t,i,o,a,u){return m(e,function(s){return xr(s,ee([i,o,a,u]),function(c,f){var l=function(d,h,v){return h!==void 0?$e(yt(h)):v!==void 0?$e(yt(v)):void 0};return m(c,function(d){var h=d[3],v=d[2],R=d[1],W=d[0],_;switch(t){case 0:_=J.has(W,f);break;case 1:_=J.has(R,f);break;case 2:_=J.has(v,f);break;case 3:_=J.has(h,f);break}return _?ee([W,R,v,h]):O(bi(r,n,f,W,R,v,h),function($){return[J.merge(W,$[0],l),J.merge(R,$[1],l),J.merge(v,$[2],l),J.merge(h,$[3],l)]})})})})}function ka(e,r,n){var t=function(c){return c.id},i=function(c){return re({hd:Ke(c.explicit===!ir(c.graphic),["Token '",w(c.id),"' must be explicit iff it has a graphic instance"]),tl:{hd:re(G(c.sub_tokens,i)),tl:{hd:re(G(c.anchored_tokens,i)),tl:{hd:re(G(c.anchored_dimensions,e.validate)),tl:{hd:re(G(c.anchored_schemes,r.validate)),tl:{hd:re(G(c.anchored_representations,n.validate)),tl:0}}}}}})},o=function(c,f){var l=Se.add(f,c.id),d=pe(c.sub_tokens,or,l,t,o),h=pe(c.anchored_tokens,d[0],d[1],t,o),v=pe(c.anchored_dimensions,h[0],h[1],e.id,e._toJsonHelper),R=pe(c.anchored_schemes,v[0],v[1],r.id,r._toJsonHelper),W=pe(c.anchored_representations,R[0],R[1],n.id,n._toJsonHelper);return[je(W[0],[c.id,x({hd:["concept",y(c.concept)],tl:{hd:["graphic",ne(c.graphic,nr)],tl:{hd:["is_class",fe(c.is_class)],tl:{hd:["function",Be(c.function)],tl:{hd:["explicit",fe(c.explicit)],tl:{hd:["sub_tokens",z(G(c.sub_tokens,t),N)],tl:{hd:["anchored_tokens",z(G(c.anchored_tokens,t),N)],tl:{hd:["anchored_dimensions",z(G(c.anchored_dimensions,e.id),N)],tl:{hd:["anchored_schemes",z(G(c.anchored_schemes,r.id),N)],tl:{hd:["anchored_representations",z(G(c.anchored_representations,n.id),N)],tl:0}}}}}}}}}})]),W[1]]},a=function(c){return x(je(G(o(c,Se.empty)[0],function(f){return[w(f[0]),f[1]]}),["start",N(c.id)]))},u=function(c,f,l,d,h,v){return m(L(L(T(k(c,w(f)),["Cannot find object matching ID '",w(f),"'"]),"Reading Schema.Token.t"),"Reading ID ".concat(w(f))),function(R){return m(E(D(R),"JSON is not a valid object"),function(W){var _=function(C,Z){return m(T(k(W,C),["Unable to find key '",C,"'"]),Z)},$=_("concept",g),j=_("graphic",function(C){return te(C,tr)}),ie=_("is_class",le),P=_("function",Ge),q=_("explicit",le),B=_("sub_tokens",function(C){return X(C,I)}),b=_("anchored_tokens",function(C){return X(C,I)}),A=_("anchored_dimensions",function(C){return X(C,I)}),U=_("anchored_schemes",function(C){return X(C,I)}),ue=_("anchored_representations",function(C){return X(C,I)});return m(de(L(B,"Reading sub-tokens"),u,c,3,l,d,h,v),function(C){return m(de(L(b,"Reading anchored tokens"),u,c,3,C[0],C[1],C[2],C[3]),function(Z){return m(de(L(A,"Reading anchored dimensions"),e._fromJsonHelper,c,2,Z[0],Z[1],Z[2],Z[3]),function(he){return m(de(L(U,"Reading anchored schemes"),r._fromJsonHelper,c,1,he[0],he[1],he[2],he[3]),function(be){var Je=be[3],xe=be[2],He=be[1],er=be[0];return m(de(L(ue,"Reading anchored schemes"),n._fromJsonHelper,c,0,er,He,xe,Je),function(Fe){var S=Fe[3],M=Fe[2],cr=Fe[1],fr=Fe[0],Ue=function(Q,Re){return T(J.get(Q,Re),["Unable to find value with ID '",w(Re),"' (reading Schema.Token.t)"])},lr=m(L(B,"Loading sub-tokens"),function(Q){return oe(G(Q,function(Re){return Ue(S,Re)}))}),pr=m(L(b,"Loading anchored tokens"),function(Q){return oe(G(Q,function(Re){return Ue(S,Re)}))}),dr=m(L(A,"Loading anchored dimensions"),function(Q){return oe(G(Q,function(Re){return Ue(M,Re)}))}),Yr=m(L(U,"Loading anchored schemes"),function(Q){return oe(G(Q,function(Re){return Ue(cr,Re)}))}),en=m(L(ue,"Loading anchored representations"),function(Q){return oe(G(Q,function(Re){return Ue(fr,Re)}))});return m(oo([$,j,ie,P,q,lr,pr,dr,Yr,en]),function(Q){var Re=Q[0],ht=Q[1],bt=Q[2],Fu=Q[3],qu=Q[4],Pu=Q[5],Hu=Q[6],Ku=Q[7],zu=Q[8],Xu=Q[9],Qu={id:f,concept:Re,graphic:ht,is_class:bt,function:Fu,explicit:qu,sub_tokens:Pu,anchored_tokens:Hu,anchored_dimensions:Ku,anchored_schemes:zu,anchored_representations:Xu};return L(ee([er,He,xe,J.set(Je,f,Qu)]),"Successfully read Token with ID ".concat(w(f)))})})})})})})})})},s=function(c){return m(E(D(c),"JSON is not a valid object (reading Schema.Token.t)"),function(f){var l=m(E(k(f,"start"),"Unable to find start of model (reading Schema.Token.t)"),I);return m(l,function(d){return m(u(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return E(J.get(h[3],d),"Missing start of model (reading Schema.Token.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:a,_fromJsonHelper:u,fromJson:s}}var Ua=function(e,r){var n;if(Array.isArray(r)){for(n=0;n<r.length;++n)e[n]=r[n];r.TAG!==void 0&&(e.TAG=r.TAG)}else for(var n in r)e[n]=r[n]};function Hc(e){switch(e){case"Global":return 0;case"Local":return 1;default:return}}function Qe(e){return y(e?"Local":"Global")}function Ze(e){return m(g(e),function(r){return T(Hc(r),["Scope '",r,"' is not one of Global or Local"])})}function Kc(e){return{TAG:0,_0:e}}function ei(e){if(!!e){var r=e.tl,n=e.hd;return r?{TAG:1,_0:n,_1:yr(ei(r))}:{TAG:0,_0:n}}}function ar(e){return e.TAG===0?{hd:e._0,tl:0}:{hd:e._0,tl:ar(e._1)}}function Ma(e){return ei(ce(e))}function ri(e){return e.TAG===0?1:1+ri(e._1)|0}function qr(e,r){return e.TAG===0?{TAG:0,_0:p(r,e._0)}:{TAG:1,_0:p(r,e._0),_1:qr(e._1,r)}}function ni(e){return e.TAG===0?O(e._0,Kc):O(ve([e._0,ni(e._1)]),function(r){return{TAG:1,_0:r[0],_1:r[1]}})}function Da(e,r){return z(ar(e),r)}function Na(e,r){return m(X(e,r),function(n){return E(ei(n),"Non-empty list is empty when reading JSON")})}function Ia(e,r){var n=function(s){return s.id},t=function(s){return re({hd:Ke(s.explicit===!ir(s.graphic_structure),["Scheme '",w(s.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:Ke(ri(s.dimensions)>2||!Ba(s.tokens),["Scheme '",w(s.id),"' must have either at least two dimensions, or at least one dimension and one token"]),tl:{hd:re(G(s.tokens,r.validate)),tl:{hd:re(ar(qr(s.dimensions,e.validate))),tl:{hd:re(G(s.schemes,t)),tl:0}}}}})},i=function(s,c){var f=Se.add(c,s.id),l=pe(s.tokens,or,f,r.id,r._toJsonHelper),d=pe(ar(s.dimensions),l[0],l[1],e.id,e._toJsonHelper),h=pe(s.schemes,d[0],d[1],n,i);return[je(h[0],[s.id,x({hd:["concept_structure",y(s.concept_structure)],tl:{hd:["graphic_structure",ne(s.graphic_structure,nr)],tl:{hd:["function",Be(s.function)],tl:{hd:["explicit",fe(s.explicit)],tl:{hd:["scope",Qe(s.scope)],tl:{hd:["tokens",z(G(s.tokens,r.id),N)],tl:{hd:["dimensions",Da(qr(s.dimensions,e.id),N)],tl:{hd:["schemes",z(G(s.schemes,n),N)],tl:{hd:["organisation",y(s.organisation)],tl:0}}}}}}}}})]),h[1]]},o=function(s){return x(je(G(i(s,Se.empty)[0],function(c){return[w(c[0]),c[1]]}),["start",N(s.id)]))},a=function(s,c,f,l,d,h){return m(L(L(T(k(s,w(c)),["Cannot find object matching ID '",w(c),"'"]),"Reading Schema.Scheme.t"),"Reading ID ".concat(w(c))),function(v){return m(E(D(v),"JSON is not a valid object (reading Scheme.Scheme.t)"),function(R){var W=function(U,ue){return m(T(k(R,U),["Unable to find key '",U,"' (reading Schema.Scheme.t)"]),ue)},_=W("concept_structure",g),$=W("graphic_structure",function(U){return te(U,tr)}),j=W("function",Ge),ie=W("explicit",le),P=W("scope",Ze),q=W("organisation",g),B=W("tokens",function(U){return X(U,I)}),b=W("dimensions",function(U){return Na(U,I)}),A=W("schemes",function(U){return X(U,I)});return m(de(L(B,"Reading tokens"),r._fromJsonHelper,s,3,f,l,d,h),function(U){return m(de(O(L(b,"Reading dimensions"),ar),e._fromJsonHelper,s,2,U[0],U[1],U[2],U[3]),function(ue){return m(de(L(A,"Reading schemes"),a,s,1,ue[0],ue[1],ue[2],ue[3]),function(C){var Z=C[3],he=C[2],be=C[1],Je=C[0],xe=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"' (reading Schema.Scheme.t)"])},He=m(L(B,"Loading tokens"),function(S){return oe(G(S,function(M){return xe(Z,M)}))}),er=m(L(b,"Loading dimensions"),function(S){return ni(qr(S,function(M){return xe(he,M)}))}),Fe=m(L(A,"Loading schemes"),function(S){return oe(G(S,function(M){return xe(be,M)}))});return m(io([_,$,j,ie,P,He,er,Fe,q]),function(S){var M=S[0],cr=S[1],fr=S[2],Ue=S[3],lr=S[4],pr=S[5],dr=S[6],Yr=S[7],en=S[8],Q={id:c,concept_structure:M,graphic_structure:cr,function:fr,explicit:Ue,scope:lr,tokens:pr,dimensions:dr,schemes:Yr,organisation:en};return L(ee([Je,J.set(be,c,Q),he,Z]),"Successfully read Scheme with ID ".concat(w(c)))})})})})})})},u=function(s){return m(E(D(s),"JSON is not a valid object (reading Schema.Scheme.t)"),function(c){var f=m(E(k(c,"start"),"Unable to find start of model (reading Schema.Scheme.t)"),I);return m(f,function(l){return m(a(c,l,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(d){return E(J.get(d[1],l),"Missing start of model (reading Schema.Scheme.t)")})})})};return{id:n,validate:t,_toJsonHelper:i,toJson:o,_fromJsonHelper:a,fromJson:u}}function bn(e,r){var n=function(a){throw{RE_EXN_ID:"Undefined_recursive_module",_1:e,Error:new Error}},t=function(a,u,s){if(typeof a=="number")switch(a){case 0:u[s]=n;return;case 1:u[s]={LAZY_DONE:!0,VAL:n};return;case 2:u[s]=[n,n,n,0];return}else{if(a.TAG===0){var c=a._0,f={};u[s]=f;for(var l=c.length,d=0;d<l;++d){var h=c[d];t(h[0],f,h[1])}return}u[s]=a._0;return}},i={},o="dummy";return t(r,i,o),i[o]}function Rn(e,r,n){var t=function(c,f,l,d,h){if(typeof c=="number")switch(c){case 0:d[h]=l;return;case 1:case 2:return Ua(f,l)}else{if(c.TAG!==0)return;for(var v=c._0,R=0,W=v.length;R<W;++R){var _=v[R],$=_[1];t(_[0],f[$],l[$],f,$)}return}};if(typeof e=="number")throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error};if(e.TAG===0){for(var i=e._0,o=0,a=i.length;o<a;++o){var u=i[o],s=u[1];t(u[0],r[s],n[s],r,s)}return}throw{RE_EXN_ID:"Assert_failure",_1:["caml_module.ml",107,10],Error:new Error}}function zc(e){switch(e){case 0:return"Nominal";case 1:return"Ordinal";case 2:return"Interval";case 3:return"Ratio"}}function Xc(e){switch(e){case"Interval":return 2;case"Nominal":return 0;case"Ordinal":return 1;case"Ratio":return 3;default:return}}function ur(e){return y(zc(e))}function sr(e){return m(g(e),function(r){return T(Xc(r),["Quantity scale '",r,"' is not one of Nominal, Ordinal, Interval, or Ratio"])})}var nt=y,tt=g;var it=y,ot=g;function Va(e){var r=function(u){return u.id},n=function(u){return re({hd:to(u.concept!=="","Dimension concept cannot be empty"),tl:{hd:Ke(u.explicit===!ir(u.graphic),["Dimension '",w(u.id),"' must be explicit if and only if it has a graphic instance"]),tl:{hd:re(G(u.dimensions,n)),tl:{hd:re(G(u.tokens,e.validate)),tl:0}}}})},t=function(u,s){var c=Se.add(s,u.id),f=pe(u.dimensions,or,c,r,t),l=pe(u.tokens,f[0],f[1],e.id,e._toJsonHelper);return[je(l[0],[u.id,x({hd:["concept",y(u.concept)],tl:{hd:["concept_scale",ur(u.concept_scale)],tl:{hd:["concept_attributes",z(u.concept_attributes,nt)],tl:{hd:["graphic",ne(u.graphic,nr)],tl:{hd:["graphic_scale",ur(u.graphic_scale)],tl:{hd:["graphic_attributes",z(u.graphic_attributes,it)],tl:{hd:["function",Be(u.function)],tl:{hd:["scope",Qe(u.scope)],tl:{hd:["explicit",fe(u.explicit)],tl:{hd:["dimensions",z(G(u.dimensions,r),N)],tl:{hd:["tokens",z(G(u.tokens,e.id),N)],tl:{hd:["organisation",y(u.organisation)],tl:0}}}}}}}}}}}})]),l[1]]},i=function(u){return x(je(G(t(u,Se.empty)[0],function(s){return[w(s[0]),s[1]]}),["start",N(u.id)]))},o=function(u,s,c,f,l,d){return m(L(L(T(k(u,w(s)),["Cannot find object matching ID '",w(s),"'"]),"Reading Schema.Dimension.t"),"Reading ID ".concat(w(s))),function(h){return m(E(D(h),"JSON is not a valid object"),function(v){var R=function(C,Z){return m(T(k(v,C),["Unable to find key '",C,"'"]),Z)},W=R("concept",g),_=R("concept_scale",sr),$=R("concept_attributes",function(C){return X(C,tt)}),j=R("graphic",function(C){return te(C,tr)}),ie=R("graphic_scale",sr),P=R("graphic_attributes",function(C){return X(C,ot)}),q=R("function",Ge),B=R("scope",Ze),b=R("explicit",le),A=R("organisation",g),U=R("dimensions",function(C){return X(C,I)}),ue=R("tokens",function(C){return X(C,I)});return m(de(L(U,"Reading dimensions"),o,u,2,c,f,l,d),function(C){return m(de(L(ue,"Reading tokens"),e._fromJsonHelper,u,3,C[0],C[1],C[2],C[3]),function(Z){var he=Z[3],be=Z[2],Je=Z[1],xe=Z[0],He=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"' (reading Schema.Scheme.t)"])},er=m(L(U,"Loading dimensions"),function(S){return oe(G(S,function(M){return He(be,M)}))}),Fe=m(L(ue,"Loading tokens"),function(S){return oe(G(S,function(M){return He(he,M)}))});return m(ao([W,_,$,j,ie,P,q,B,b,er,Fe,A]),function(S){var M=S[0],cr=S[1],fr=S[2],Ue=S[3],lr=S[4],pr=S[5],dr=S[6],Yr=S[7],en=S[8],Q=S[9],Re=S[10],ht=S[11],bt={id:s,concept:M,concept_scale:cr,concept_attributes:fr,graphic:Ue,graphic_scale:lr,graphic_attributes:pr,function:dr,scope:Yr,explicit:en,dimensions:Q,tokens:Re,organisation:ht};return L(ee([xe,Je,J.set(be,s,bt),he]),"Successfully read Dimension with ID ".concat(w(s)))})})})})})},a=function(u){return m(E(D(u),"JSON is not a valid object (reading Schema.Dimension.t)"),function(s){var c=m(E(k(s,"start"),"Unable to find start of model (reading Schema.Dimension.t)"),I);return m(c,function(f){return m(o(s,f,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(l){return E(J.get(l[2],f),"Missing start of model (reading Schema.Dimension.t)")})})})};return{id:r,validate:n,_toJsonHelper:t,toJson:i,_fromJsonHelper:o,fromJson:a}}function xa(e,r,n){var t=function(c){return c.id},i=function(c){return re({hd:Ke(rt(c.tokens)>0||rt(c.dimensions)>0||rt(c.schemes)>0,["Representation '",w(c.id),"' must have at least one token, dimension, or scheme"]),tl:{hd:re(G(c.tokens,e.validate)),tl:{hd:re(G(c.dimensions,r.validate)),tl:{hd:re(G(c.schemes,n.validate)),tl:{hd:re(G(c.subrepresentations,i)),tl:0}}}}})},o=function(c,f){var l=Se.add(f,c.id),d=pe(c.tokens,or,l,e.id,e._toJsonHelper),h=pe(c.dimensions,d[0],d[1],r.id,r._toJsonHelper),v=pe(c.schemes,h[0],h[1],n.id,n._toJsonHelper),R=pe(c.subrepresentations,v[0],v[1],t,o);return[je(R[0],[c.id,x({hd:["domain",y(c.domain)],tl:{hd:["display",nr(c.display)],tl:{hd:["tokens",z(G(c.tokens,e.id),N)],tl:{hd:["dimensions",z(G(c.dimensions,r.id),N)],tl:{hd:["schemes",z(G(c.schemes,n.id),N)],tl:{hd:["subrepresentations",z(G(c.subrepresentations,t),N)],tl:0}}}}}})]),R[1]]},a=function(c){return x(je(G(o(c,Se.empty)[0],function(f){return[w(f[0]),f[1]]}),["start",N(c.id)]))},u=function(c,f,l,d,h,v){return m(L(L(T(k(c,w(f)),["Cannot find object matching ID '",w(f),"'"]),"Reading Schema.Representation.t"),"Reading ID ".concat(w(f))),function(R){return m(E(D(R),"JSON is not a valid object"),function(W){var _=function(b,A){return m(T(k(W,b),["Unable to find key '",b,"'"]),A)},$=_("domain",g),j=_("display",tr),ie=_("tokens",function(b){return X(b,I)}),P=_("dimensions",function(b){return X(b,I)}),q=_("schemes",function(b){return X(b,I)}),B=_("subrepresentations",function(b){return X(b,I)});return m(de(L(ie,"Reading tokens"),e._fromJsonHelper,c,3,l,d,h,v),function(b){return m(de(L(P,"Reading dimensions"),r._fromJsonHelper,c,2,b[0],b[1],b[2],b[3]),function(A){return m(de(L(q,"Reading schemes"),n._fromJsonHelper,c,1,A[0],A[1],A[2],A[3]),function(U){return m(de(L(B,"Reading subrepresentations"),u,c,0,U[0],U[1],U[2],U[3]),function(ue){var C=ue[3],Z=ue[2],he=ue[1],be=ue[0],Je=function(S,M){return T(J.get(S,M),["Unable to find value with ID '",w(M),"'"])},xe=m(L(ie,"Loading tokens"),function(S){return oe(G(S,function(M){return Je(C,M)}))}),He=m(L(P,"Loading dimensions"),function(S){return oe(G(S,function(M){return Je(Z,M)}))}),er=m(L(q,"Loading schemes"),function(S){return oe(G(S,function(M){return Je(he,M)}))}),Fe=m(L(B,"Loading subrepresentations"),function(S){return oe(G(S,function(M){return Je(be,M)}))});return m(Ur([$,j,xe,He,er,Fe]),function(S){var M=S[0],cr=S[1],fr=S[2],Ue=S[3],lr=S[4],pr=S[5],dr={id:f,domain:M,display:cr,tokens:fr,dimensions:Ue,schemes:lr,subrepresentations:pr};return L(ee([J.set(be,f,dr),he,Z,C]),"Successfully read Representation with ID ".concat(w(f)))})})})})})})})},s=function(c){return m(E(D(c),"JSON is not a valid object (reading Schema.Representation.t)"),function(f){var l=m(E(k(f,"start"),"Unable to find start of model (reading Schema.Representation.t)"),I);return m(l,function(d){return m(u(f,d,J.empty(void 0),J.empty(void 0),J.empty(void 0),J.empty(void 0)),function(h){return E(J.get(h[0],d),"Missing start of model (reading Schema.Representation.t)")})})})};return{id:t,validate:i,_toJsonHelper:o,toJson:a,_fromJsonHelper:u,fromJson:s}}var Fa=bn(["Schema.res",18,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),at=bn(["Schema.res",43,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ti=bn(["Schema.res",65,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),ut=bn(["Schema.res",88,4],{TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]}),Pr=xa(ut,at,ti);Rn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},Fa,{id:Pr.id,validate:Pr.validate,toJson:Pr.toJson,fromJson:Pr.fromJson,_toJsonHelper:Pr._toJsonHelper,_fromJsonHelper:Pr._fromJsonHelper});var Hr=Va(ut);Rn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},at,{id:Hr.id,validate:Hr.validate,toJson:Hr.toJson,fromJson:Hr.fromJson,_toJsonHelper:Hr._toJsonHelper,_fromJsonHelper:Hr._fromJsonHelper});var Kr=Ia(at,ut);Rn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ti,{id:Kr.id,validate:Kr.validate,toJson:Kr.toJson,fromJson:Kr.fromJson,_toJsonHelper:Kr._toJsonHelper,_fromJsonHelper:Kr._fromJsonHelper});var zr=ka(at,ti,Fa);Rn({TAG:0,_0:[[0,"id"],[0,"validate"],[0,"toJson"],[0,"fromJson"],[0,"_toJsonHelper"],[0,"_fromJsonHelper"]]},ut,{id:zr.id,validate:zr.validate,toJson:zr.toJson,fromJson:zr.fromJson,_toJsonHelper:zr._toJsonHelper,_fromJsonHelper:zr._fromJsonHelper});function st(e){return x({hd:["id",N(e.id)],tl:{hd:["nodes",vr(e.nodes,N)],tl:{hd:["message",y(e.message)],tl:{hd:["details",y(e.details)],tl:{hd:["suggestion",ne(e.suggestion,y)],tl:0}}}}})}function ct(e){return m(E(D(e),"Unable to parse object for ModelError"),function(r){var n=function(s,c){return m(T(k(r,s),["Unable to find key '",s,"'"]),c)},t=n("id",I),i=n("nodes",function(s){return mr(s,I)}),o=n("message",g),a=n("details",g),u=n("suggestion",function(s){return te(s,g)});return O(an([t,i,o,a,u]),function(s){return{id:s[0],nodes:s[1],message:s[2],details:s[3],suggestion:s[4]}})})}function Qc(e,r){var n=String(co(Array.from(r,function(t){return yr(t.codePointAt(0))}),0,function(t,i,o){return o%5==0&&o<60?(t<<1)+(i-32|0)|0:t}));return Fr(w(wa(e))+n+"1")}function _e(e,r,n,t,i){return{id:Qc(e,r),nodes:e,message:r,details:n,suggestion:t}}var qa=st,Pa=ct,Pe=_e;function Ha(e,r){return e.TAG===0?{TAG:0,_0:r(e._0)}:{TAG:1,_0:e._0}}function Xr(e,r){return Ha(e,Y(r))}function Ka(e,r){return e.TAG===0?r(e._0):{TAG:1,_0:e._0}}function za(e,r){return Ka(e,Y(r))}function Xa(e,r){return e.TAG===0?{TAG:0,_0:e._0}:{TAG:1,_0:p(r,e._0)}}function Le(e,r){return e!==void 0?{TAG:0,_0:K(e)}:{TAG:1,_0:p(r,void 0)}}function $n(e,r,n){return e.TAG===0?{TAG:1,_0:r}:{TAG:1,_0:p(n,[e._0,r])}}function ae(e,r){var n=[],t=[];return hr(e,function(i){if(i.TAG===0){n.push(i._0);return}t.push(i._0)}),t.length!==0?{TAG:1,_0:p(r,t)}:{TAG:0,_0:n}}function gr(e,r){var n=[];return hr(e,function(t){t.TAG!==0&&n.push(t._0)}),n.length!==0?{TAG:1,_0:p(r,n)}:{TAG:0,_0:void 0}}function Qa(e,r){return Xr(ae([e[0],e[1],e[2],e[3],e[4],e[5]],r),function(n){return n})}function Za(e,r){return Xr(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]],r),function(n){return n})}function Ya(e,r){return Xr(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12]],r),function(n){return n})}function eu(e,r){return Xr(ae([e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14]],r),function(n){return n})}var se=Xr;var ru=za;function nu(e,r,n){return{first:e,second:r,kind:n}}function Wn(e,r){return _e([],"Internal Error: "+e,r,"Notify Aaron about this so he can fix it :-) ",void 0)}function tu(e){return _e(e,"Schema has no parent, but it needs one.","All schemas, except for Representation schemas, must either be in the hierarchy, or be anchored below a Token in the hierarchy. This schema is neither in the hierarchy, nor anchored.","Connect this schema below another schema.",void 0)}function ii(e){return _e(e,'Missing "Function" of schema.','This schema requires a "Function", whether it is semantic, auxiliary, or arbitrary. This has not been set.','Select the appropriate "Function" from the dropdown menu.',void 0)}function oi(e){return _e(e,'Missing whether schema is "Explicit".','This schema needs to be marked as "Explicit", or not, depending on whether it is explicit in the representation. This has not been set.','Select the appropriate "Explicit" value (Yes or No) from the dropdown menu.',void 0)}function iu(e){return _e(e,'Missing the "Scope" of the schema.','This schema is either "Global" or "Local" in "Scope". This has not been set.','Select the appropriate "Scope" value (Global or Local) from the dropdown menu.',void 0)}function ou(e,r){return _e(e,'Missing the "'+r+' Scale" of the R-dimension.',`This R-dimension's "`+r+' Scale" must be one of "Nominal", "Ordinal", "Interval", or "Ratio". This has not been set.','Select the appropriate "'+r+' Scale" value from the dropdown menu.',void 0)}function ft(e,r,n){return Pe(e,n+" is using default "+r+".","We give each "+n+" the default "+r+' "#Ref#", but this is intended only as a placeholder.',"Replace this "+n+"schema's "+r+".",void 0)}function F(e){return Dr(e,[[],[]],function(r,n){return[sn(r[0],n[0]),sn(r[1],n[1])]})}function Yc(e,r){var n=[],t=un(e,function(s){return s[2]!==2}),i=un(r,function(s){return ir(Mn(t,function(c){return s===c[1]}))}),o=i.slice(0),a=function(s){for(;;){var c=s;if(i.length===0)return;var f=yr(Ri(i.pop()));n.push(f),s=un(c,function(l,d){return function(h){if(h[0]!==d)return!0;var v=h[1],R=un(l,function($){return v===$[1]}),W=R.length;if(W!==1)W!==0||i.push(v);else{var _=R[0];_===h&&i.push(v)}return!1}}(c,f))}};if(a(t),t.length!==0)return[o,n,[]];var u=br(t,function(s){return _e([s[0],s[1]],"Model has a cycle.","Models should not contain cycles: that is, the hierarchy and anchoring links should always connect a higher schema to a lower schema. We have found a situation where a lower schema is connected to a higher schema.","We've detected a cycle involving these nodes, but it might not be here precisely. Find the link going the 'wrong way', and remove it.",void 0)});return[o,n,u]}function yn(e,r,n,t){return uo(e,function(i){var o=J.get(r,i);return o!==void 0?o[0]===n?On(t,i,o[1]):void 0:{TAG:1,_0:[[Wn("MISSING","Expected node with ID "+w(i)+" is missing")],[]]}})}function ef(e,r,n,t){var i=function(h,v){return yn(t,n,h,v)},o=r.domain,a=o==="#Rep#"?{TAG:1,_0:[[],[Pe([e],"Representation is using default domain.",'We give each Representation the default name "#Rep#", but this is intended only as a placeholder.',"Replace this Representation schema's domain.",void 0)]]}:{TAG:0,_0:o},u=r.display,s=u==="#Ref#"?{TAG:1,_0:[[],[ft([e],"display","Representation")]]}:{TAG:0,_0:u},c=se(ae(i(3,function(h,v){if(v.TAG!==0)return{TAG:1,_0:v._0};var R=v._0;if(R.TAG===3)return{TAG:0,_0:R._0}}),F),ce),f=se(ae(i(2,function(h,v){if(v.TAG!==0)return{TAG:1,_0:v._0};var R=v._0;if(R.TAG===2)return{TAG:0,_0:R._0}}),F),ce),l=se(ae(i(1,function(h,v){if(v.TAG!==0)return{TAG:1,_0:v._0};var R=v._0;if(R.TAG===1)return{TAG:0,_0:R._0}}),F),ce),d=se(ae(i(0,function(h,v){if(v.TAG!==0)return{TAG:1,_0:v._0};var R=v._0;if(R.TAG===0)return{TAG:0,_0:R._0}}),F),ce);return se(Qa([a,s,c,f,l,d],F),function(h){return{TAG:0,_0:{id:e,domain:h[0],display:h[1],tokens:h[2],dimensions:h[3],schemes:h[4],subrepresentations:h[5]}}})}function rf(e,r,n,t){var i=function(_,$){return yn(t,n,_,$)},o=r.concept_structure,a=o==="#Sch#"?{TAG:1,_0:[[],[Pe([e],"R-Scheme is using default concept structure.",'We give each R-Scheme the default concept structure "#Sch#", but this is intended only as a placeholder.',"Replace this R-Scheme schema's concept structure.",void 0)]]}:{TAG:0,_0:o},u=r.graphic_structure,s=u==="#Ref#"?{TAG:1,_0:[[],[ft([e],"graphic structure","R-scheme")]]}:{TAG:0,_0:u},c=Le(r.function,function(_){return[[ii([e])],[]]}),f=Le(r.explicit,function(_){return[[oi([e])],[]]}),l=Le(r.scope,function(_){return[[iu([e])],[]]}),d={TAG:0,_0:r.organisation},h=se(ae(i(3,function(_,$){if($.TAG!==0)return{TAG:1,_0:$._0};var j=$._0;if(j.TAG===3)return{TAG:0,_0:j._0}}),F),ce),v=ru(ae(i(2,function(_,$){if($.TAG!==0)return{TAG:1,_0:$._0};var j=$._0;if(j.TAG===2)return{TAG:0,_0:j._0}}),F),function(_){return Le(Ma(_),function($){return[[_e([e],"R-scheme has no R-dimension below it.","This R-scheme has no immediate children that are R-dimensions. However, an R-scheme must directly encapsulate at least one R-dimension.","Add an R-dimension, or replace this R-scheme with another schema.",void 0)],[]]})}),R=se(ae(i(1,function(_,$){if($.TAG!==0)return{TAG:1,_0:$._0};var j=$._0;if(j.TAG===1)return{TAG:0,_0:j._0}}),F),ce),W=gr(i(0,function(_,$){return{TAG:1,_0:[[_e([e,_],"R-scheme has a Representation below it.","R-scheme schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),F);return se(Za([a,s,c,f,l,h,v,R,d,W],F),function(_){return{TAG:1,_0:{id:e,concept_structure:_[0],graphic_structure:_[1],function:_[2],explicit:_[3],scope:_[4],tokens:_[5],dimensions:_[6],schemes:_[7],organisation:_[8]}}})}function nf(e,r,n,t){var i=function(b,A){return yn(t,n,b,A)},o=r.concept,a=o==="#Dim#"?{TAG:1,_0:[[],[Pe([e],"R-dimension is using default concept.",'We give each R-dimension the default concept "#Dim#", but this is intended only as a placeholder.',"Replace this R-dimension schema's concept.",void 0)]]}:{TAG:0,_0:o},u=Le(r.concept_scale,function(b){return[[ou([e],"Concept")],[]]}),s={TAG:0,_0:r.concept_attributes},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[ft([e],"graphic","R-dimension")]]}:{TAG:0,_0:c},l=Le(r.concept_scale,function(b){return[[ou([e],"Graphic")],[]]}),d={TAG:0,_0:r.graphic_attributes},h=Le(r.function,function(b){return[[ii([e])],[]]}),v=Le(r.explicit,function(b){return[[oi([e])],[]]}),R=Le(r.scope,function(b){return[[iu([e])],[]]}),W={TAG:0,_0:r.organisation},_={contents:0},$={contents:0},j=se(ae(i(3,function(b,A){if(A.TAG===0){var U=A._0;return U.TAG!==3?void 0:(_.contents=_.contents+1|0,{TAG:0,_0:U._0})}return _.contents=_.contents+1|0,{TAG:1,_0:A._0}}),F),ce),ie=se(ae(i(2,function(b,A){if(A.TAG===0){var U=A._0;return U.TAG!==2?void 0:($.contents=$.contents+1|0,{TAG:0,_0:U._0})}return $.contents=$.contents+1|0,{TAG:1,_0:A._0}}),F),ce),P=gr(i(0,function(b,A){return{TAG:1,_0:[[_e([e,b],"R-dimension has a Representation below it.","R-dimension schemas cannot have Representation schemas as direct descendants.","Remove this Representation schema, or connect it elsewhere in the model.",void 0)],[]]}}),F),q=gr(i(1,function(b,A){return{TAG:1,_0:[[_e([e,b],"R-dimensions has an R-scheme below it.","R-dimension schemas cannot have R-scheme schemas as direct descendants.","Remove this R-scheme schema, or connect it elsewhere in the model.",void 0)],[]]}}),F),B=(_.contents+$.contents|0)>=1?{TAG:0,_0:void 0}:{TAG:1,_0:[[_e([e],"R-dimensions must have at least one child.","R-dimensions must contain at least one Token, or the must split into sub-R-dimensions (or do both). This R-dimension has no Token children and no sub-R-dimensions.","Add a Token or a sub-R-dimension below this R-dimension.",void 0)],[]]};return se(eu([a,u,s,f,l,d,h,v,R,j,ie,W,P,q,B],F),function(b){return{TAG:2,_0:{id:e,concept:b[0],concept_scale:b[1],concept_attributes:b[2],graphic:b[3],graphic_scale:b[4],graphic_attributes:b[5],function:b[6],scope:b[8],explicit:b[7],dimensions:b[10],tokens:b[9],organisation:b[11]}}})}function tf(e,r,n,t,i){var o=function(B,b){return yn(i,n,B,b)},a=function(B,b){return yn(t,n,B,b)},u=r.concept,s=u==="#Tok#"?{TAG:1,_0:[[],[Pe([e],"Token is using default concept.",'We give each Token the default concept "#Tok#", but this is intended only as a placeholder.',"Replace this Token schema's concept.",void 0)]]}:{TAG:0,_0:u},c=r.graphic,f=c==="#Ref#"?{TAG:1,_0:[[],[ft([e],"graphic","Token")]]}:{TAG:0,_0:c},l=Le(r.is_class,function(B){return[[_e([e],'Unspecified if Token is a "class" Token.','Tokens can be "standard" or "class": that is, they can stand in for more than one actual thing in the representation. This has not been specified.','Select whether this token is a class using the "Is class?" dropdown.',void 0)],[]]}),d=Le(r.function,function(B){return[[ii([e])],[]]}),h=Le(r.explicit,function(B){return[[oi([e])],[]]}),v=function(B,b,A){return _e([e,B],(b.startsWith("R-")?"An ":"A ")+b+" schema below a Token must be anchored.","Children of Tokens must either be a sub-Token, or it must be an anchored schema. This schema is not anchored, but it is not a sub-Token: it is "+(b.startsWith("R-")?"an ":"a ")+b+".",A?"Replace this connection with an anchoring connection.":"Remove this schema, or place it elsewhere in the hierarchy.",void 0)},R=se(ae(a(3,function(B,b){if(b.TAG!==0)return{TAG:1,_0:b._0};var A=b._0;if(A.TAG===3)return{TAG:0,_0:A._0}}),F),ce),W=gr(a(2,function(B,b){return{TAG:1,_0:[[v(B,"R-dimension",!0)],[]]}}),F),_=gr(a(1,function(B,b){return{TAG:1,_0:[[v(B,"R-scheme",!0)],[]]}}),F),$=gr(a(0,function(B,b){return{TAG:1,_0:[[v(B,"Representation",!1)],[]]}}),F),j=se(ae(o(3,function(B,b){if(b.TAG!==0)return{TAG:1,_0:b._0};var A=b._0;if(A.TAG===3)return{TAG:0,_0:A._0}}),F),ce),ie=se(ae(o(2,function(B,b){if(b.TAG!==0)return{TAG:1,_0:b._0};var A=b._0;if(A.TAG===2)return{TAG:0,_0:A._0}}),F),ce),P=se(ae(o(1,function(B,b){if(b.TAG!==0)return{TAG:1,_0:b._0};var A=b._0;if(A.TAG===1)return{TAG:0,_0:A._0}}),F),ce),q=se(ae(o(0,function(B,b){if(b.TAG!==0)return{TAG:1,_0:b._0};var A=b._0;if(A.TAG===0)return{TAG:0,_0:A._0}}),F),ce);return se(Ya([s,f,l,d,h,R,j,ie,P,q,W,_,$],F),function(B){return{TAG:3,_0:{id:e,concept:B[0],graphic:B[1],is_class:B[2],function:B[3],explicit:B[4],sub_tokens:B[5],anchored_tokens:B[6],anchored_dimensions:B[7],anchored_schemes:B[8],anchored_representations:B[9]}}})}function au(e,r){var n=Yc(r,J.keys(e)),t=n[2],i=n[1],o=n[0];if(t.length!==0)return{TAG:1,_0:[t,[]]};var a=function(v,R){for(;;){var W=R,_=v;if(W<0)return _;var $=so(i,W),j=Nn(r,function(b){return function(A){if(A[0]===b&&A[2]===0)return $e(A[1])}}($)),ie=Nn(r,function(b){return function(A){if(A[0]===b&&A[2]===1)return $e(A[1])}}($)),P=J.get(e,$),q;if(P!==void 0)switch(P.TAG|0){case 0:q=[0,ef($,P._0,_,j)];break;case 1:q=[1,rf($,P._0,_,j)];break;case 2:q=[2,nf($,P._0,_,j)];break;case 3:q=[3,tf($,P._0,_,j,ie)];break;case 4:q=[4,{TAG:1,_0:[[],[Pe([$],"Placeholder","The Intelligence Engine cannot understand placeholders yet.",void 0,void 0)]]}];break}else q=[4,{TAG:1,_0:[[Wn("BAD LINK","Node with ID "+w($)+" missing.")],[]]}];var B=J.set(_,$,[q[0],q[1]]);R=W-1|0,v=B}},u=a(J.empty(void 0),i.length-1|0),s=function(v,R){var W=J.get(u,v);if(W!==void 0){var _=W[1];if(_.TAG===0){var $=_._0;if($.TAG===0){var j=ae(Nn(r,function(A){if(A[2]===2){var U=A[1],ue=A[0],C=J.get(u,ue),Z=J.get(u,U);if(C!==void 0){var he=C[1];if(he.TAG===0){if(Z!==void 0){var be=Z[1];if(be.TAG===0)return{TAG:0,_0:nu(he._0,be._0,{_0:"Automatic conversion"})}}}else if(Z!==void 0&&Z[1].TAG!==0)return}var Je=Wn("REL MISSING","A relation link should be between two nodes ("+w(ue)+", "+w(U)+"), but I can't find them!");return{TAG:1,_0:[[Je],[]]}}}),F);return se(j,function(A){return{root:$,relations:A}})}var ie=tu([v]);return{TAG:1,_0:[[ie],[]]}}var P=J.get(e,v);if(P!==void 0)switch(P.TAG|0){case 0:case 4:return _;default:var q=tu([v]);return $n(_,[[q],[]],F)}else{var B=Wn("EXTRA ROOT","We have found an ID ("+w(v)+"), but have no idea what it's for!");return $n(_,[[B],[]],F)}}else{var b=Wn("LOST ROOT"+(R?" MULTI":""),"We know what the root should be ("+w(v)+"), but somehow never found it!");return $n(ae(br(J.values(u),function(A){return A[1]}),F),[[b],[]],F)}},c=o.length;if(c!==1){if(c!==0){var f=br(o,function(v){return s(v,!0)}),l=Pe(o,"More than one model detected.","There are multiple models in this file, or a model with multiple roots.",void 0,void 0);return $n(ae(f,F),[[],[l]],F)}if(J.isEmpty(e))return{TAG:1,_0:[[],[]]};var d=_e([],"Could not determine root of model.","Each model should have a root. Somehow, we failed to find a root!",void 0,void 0);return{TAG:1,_0:[[d],[]]}}var h=o[0];return s(h,!1)}var ai=function(e,r,n){var t,i;i=n.length;var o=[];for(t=0;t<i-1;++t)o.push(n[t]);var a=n[i-1];for(t=0;t<a.length;++t)o.push(a[t]);return e[r].apply(e,o)};var $f=os(Ju());var WW=ye.float_;var dt=e=>{if(e===null)return null;if(e===void 0)return;let r={};for(let[n,t]of Object.entries(e))typeof t=="function"?r[n]=t:t===void 0?r[n]=void 0:t===null?r[n]=null:typeof t=="object"?t instanceof Array?r[n]=t.map(dt):r[n]=dt(t):typeof t=="symbol"?r[n]=t:r[n]=JSON.parse(JSON.stringify(t));return r},Eu=(e,r)=>e[r];var Bu=e=>{var r=dt(e);return Object.keys(r).forEach(n=>{r[n]===void 0&&delete r[n]}),r};function An(e,r){return Eu(e,r)}function di(e){return Bu(e)}function Wf(e,r,n,t,i,o,a,u,s,c,f,l,d,h,v,R,W,_,$,j,ie,P,q,B,b,A){return di({color:e,fontColor:r,fontSize:n,fontScaling:t,fontWeight:i,highlightColor:o,highlightFontColor:a,highlightFontSize:u,highlightFontWeight:s,labelProperty:c,mouseCursor:f,opacity:l,renderLabel:d,semanticStrokeWidth:h,strokeWidth:v,markerStart:R,markerEnd:W,markerHeight:_,markerWidth:$,type:j,strokeDasharray:ie,strokeDashoffset:P,strokeLinecap:q,offsetSource:B,offsetTarget:b})}var _t={create:Wf};var _i={contents:0};function Gu(e){return _i.contents=_i.contents+1|0,e+("/"+_i.contents)}var yf=Gu("Color-ReactD3Graph.DOMAIN_ERROR");function gf(e){return/^#(([0-9a-f])|([0-9A-F])){6}$/.test(e)}function Af(e){var r=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7);return[r,n,t]}function vi(e){return Number("0x".concat(e))/255}function Of(e){if(gf(e)){var r=Af(e);return{red:vi(r[0]),green:vi(r[1]),blue:vi(r[2])}}throw{RE_EXN_ID:yf,Error:new Error}}function Sf(e){return"#".concat((e.red*255|0).toString(16),(e.green*255|0).toString(16),(e.blue*255|0).toString(16))}function vt(e){return Sf(Of(e))}function Jf(e){var r;switch(e){case 0:r="Hierarchy";break;case 1:r="Anchor";break;case 2:r="Relation";break}return y(r)}function Ef(e){return m(g(e),function(r){switch(r){case"Anchor":return ee(1);case"Hierarchy":return ee(0);case"Relation":return ee(2);default:return Ne(["Unknown relation value '",r,"'"])}})}var Bf={toJson:Jf,fromJson:Ef},Gf={V1:Bf},mi={Stable:Gf};var zy=_t.create($e(vt("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0),Xy=_t.create($e(vt("#000000")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,"arrowheadCircle",void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(e,r,n){return{dx:0,dy:25}},function(e,r,n){return{dx:0,dy:-25}},void 0);function Cu(e,r){return mn(et(Ja([e,r]),function(n){var t=n[1],i=n[0],o=i.x,a=i.y,u=t.x,s=t.y,c=An(i,"size"),f=u-o,l=s-a,d;if(Math.abs(f/l)>c.width/c.height){var h=c.width/20*Math.sign(f),v=l*h/f;d=[h,v]}else{var R=c.height/20*Math.sign(l),W=f*R/l;d=[W,R]}var _=d[1],$=d[0],j=An(i,"payload"),ie=j.kind;if(ie!==2)return{dx:$-1,dy:_};if(Math.abs($-c.width/20*Math.sign(f))>=1e-4)return{dx:$-1,dy:_};var P=c.height/10-_+c.height/20,q=(-8+8*P/(c.height/10))*-1*Math.sign($);return{dx:$+q-1,dy:_}}),{dx:0,dy:0})}var Qy=_t.create($e(vt("#808080")),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,4,void 0,void 0,void 0,void 0,void 0,5,void 0,void 0,function(e,r,n){return Cu(e,r)},function(e,r,n){return Cu(r,e)},void 0);function wu(e,r){var n=function(a,u){a.addEventListener("message",function(s){return Et(p(r.fromJson,JSON.parse(s.data)),u)})},t=function(a,u){var s=JSON.stringify(p(e.toJson,u));a.postMessage(s)},i=function(a){this.onmessage=function(u){return Et(p(e.fromJson,JSON.parse(u.data)),function(s){var c=JSON.stringify(p(r.toJson,p(a,s)));postMessage(c)})}},o={create:i};return{create:function(a){return new Worker(a)},listen:n,post:t,WorkerThread:o}}function Lu(e){return x({hd:["domain",y(e.domain)],tl:{hd:["display",y(e.display)],tl:{hd:["notes",y(e.notes)],tl:0}}})}function Tu(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(a,u){return m(T(k(r,a),["Unable to find key '",a,"'"]),u)},t=n("domain",g),i=n("display",g),o=n("notes",g);return O(Oe([t,i,o]),function(a){return{domain:a[0],display:a[1],notes:a[2]}})})}var Cf={domain:"#Rep#",display:"#Ref#",notes:""};function wf(e){return x({hd:["concept_structure",y(e.concept_structure)],tl:{hd:["graphic_structure",y(e.graphic_structure)],tl:{hd:["function",Be(e.function)],tl:{hd:["explicit",fe(e.explicit)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["organisation",y(e.organisation)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}}})}function ju(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(f,l){return m(T(k(r,f),["Unable to find key '",f,"'"]),l)},t=n("concept_structure",g),i=n("graphic_structure",g),o=n("function",Ge),a=n("explicit",le),u=n("scope",Ze),s=n("organisation",g),c=n("notes",g);return O(Bt([t,i,o,a,u,s,c]),function(f){return{concept_structure:f[0],graphic_structure:f[1],function:f[2],explicit:f[3],scope:f[4],organisation:f[5],notes:f[6]}})})}function ku(e){return{concept_structure:e.concept_structure,graphic_structure:e.graphic_structure,function:e.function,explicit:e.explicit,scope:e.scope,organisation:e.organisation,notes:e.notes}}function Lf(e){return x({hd:["version",$r(2)],tl:{hd:["concept_structure",y(e.concept_structure)],tl:{hd:["graphic_structure",y(e.graphic_structure)],tl:{hd:["function",ne(e.function,Be)],tl:{hd:["explicit",ne(e.explicit,fe)],tl:{hd:["scope",ne(e.scope,Qe)],tl:{hd:["organisation",y(e.organisation)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}}}})}function Tf(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(h,v){return m(T(k(r,h),["Unable to find key '",h,"'"]),v)},t=n("version",Wr),i=Mr(t);if(i.TAG!==0)return O(ju(e),ku);var o=i._0;if(o!==2)return Ne(["Unrecognised version of InspectorState.Scheme: ",String(o)]);var a=n("concept_structure",g),u=n("graphic_structure",g),s=n("function",function(h){return te(h,Ge)}),c=n("explicit",function(h){return te(h,le)}),f=n("scope",function(h){return te(h,Ze)}),l=n("organisation",g),d=n("notes",g);return O(Bt([a,u,s,c,f,l,d]),function(h){return{concept_structure:h[0],graphic_structure:h[1],function:h[2],explicit:h[3],scope:h[4],organisation:h[5],notes:h[6]}})})}var jf={concept_structure:"#Sch#",graphic_structure:"#Ref#",function:void 0,explicit:void 0,scope:void 0,organisation:"",notes:""};function kf(e){return x({hd:["concept",y(e.concept)],tl:{hd:["concept_scale",ur(e.concept_scale)],tl:{hd:["concept_attributes",z(e.concept_attributes,nt)],tl:{hd:["graphic",y(e.graphic)],tl:{hd:["graphic_scale",ur(e.graphic_scale)],tl:{hd:["graphic_attributes",z(e.graphic_attributes,it)],tl:{hd:["function",Be(e.function)],tl:{hd:["scope",Qe(e.scope)],tl:{hd:["explicit",fe(e.explicit)],tl:{hd:["organisation",y(e.organisation)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}}}}}}})}function Uu(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(v,R){return m(T(k(r,v),["Unable to find key '",v,"'"]),R)},t=n("concept",g),i=n("concept_scale",sr),o=n("concept_attributes",function(v){return X(v,tt)}),a=n("graphic",g),u=n("graphic_scale",sr),s=n("graphic_attributes",function(v){return X(v,ot)}),c=n("function",Ge),f=n("scope",Ze),l=n("explicit",le),d=n("organisation",g),h=n("notes",g);return O(Gt([t,i,o,a,u,s,c,f,l,d,h]),function(v){return{concept:v[0],concept_scale:v[1],concept_attributes:v[2],graphic:v[3],graphic_scale:v[4],graphic_attributes:v[5],function:v[6],scope:v[7],explicit:v[8],organisation:v[9],notes:v[10]}})})}function Mu(e){return{concept:e.concept,concept_scale:e.concept_scale,concept_attributes:e.concept_attributes,graphic:e.graphic,graphic_scale:e.graphic_scale,graphic_attributes:e.graphic_attributes,function:e.function,scope:e.scope,explicit:e.explicit,organisation:e.organisation,notes:e.notes}}function Uf(e){return x({hd:["version",$r(2)],tl:{hd:["concept",y(e.concept)],tl:{hd:["concept_scale",ne(e.concept_scale,ur)],tl:{hd:["concept_attributes",z(e.concept_attributes,y)],tl:{hd:["graphic",y(e.graphic)],tl:{hd:["graphic_scale",ne(e.graphic_scale,ur)],tl:{hd:["graphic_attributes",z(e.graphic_attributes,y)],tl:{hd:["function",ne(e.function,Be)],tl:{hd:["scope",ne(e.scope,Qe)],tl:{hd:["explicit",ne(e.explicit,fe)],tl:{hd:["organisation",y(e.organisation)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}}}}}}}})}function Mf(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(_,$){return m(T(k(r,_),["Unable to find key '",_,"'"]),$)},t=n("version",Wr),i=Mr(t);if(i.TAG!==0)return O(Uu(e),Mu);var o=i._0;if(o!==2)return Ne(["Unknown version for InspectorState.Dimension: ",String(o)]);var a=n("concept",g),u=n("concept_scale",function(_){return te(_,sr)}),s=n("concept_attributes",function(_){return X(_,g)}),c=n("graphic",g),f=n("graphic_scale",function(_){return te(_,sr)}),l=n("graphic_attributes",function(_){return X(_,g)}),d=n("function",function(_){return te(_,Ge)}),h=n("scope",function(_){return te(_,Ze)}),v=n("explicit",function(_){return te(_,le)}),R=n("organisation",g),W=n("notes",g);return O(Gt([a,u,s,c,f,l,d,h,v,R,W]),function(_){return{concept:_[0],concept_scale:_[1],concept_attributes:_[2],graphic:_[3],graphic_scale:_[4],graphic_attributes:_[5],function:_[6],scope:_[7],explicit:_[8],organisation:_[9],notes:_[10]}})})}var Df={concept:"#Dim#",concept_scale:void 0,concept_attributes:0,graphic:"#Ref#",graphic_scale:void 0,graphic_attributes:0,function:void 0,scope:void 0,explicit:void 0,organisation:"",notes:""};function Nf(e){return x({hd:["concept",y(e.concept)],tl:{hd:["graphic",y(e.graphic)],tl:{hd:["is_class",fe(e.is_class)],tl:{hd:["function",Be(e.function)],tl:{hd:["explicit",fe(e.explicit)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}})}function Du(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return m(T(k(r,c),["Unable to find key '",c,"'"]),f)},t=n("concept",g),i=n("graphic",g),o=n("is_class",le),a=n("function",Ge),u=n("explicit",le),s=n("notes",g);return O(Ur([t,i,o,a,u,s]),function(c){return{concept:c[0],graphic:c[1],is_class:c[2],function:c[3],explicit:c[4],notes:c[5]}})})}function Nu(e){return{concept:e.concept,graphic:e.graphic,is_class:e.is_class,function:e.function,explicit:e.explicit,notes:e.notes}}function If(e){return x({hd:["version",$r(2)],tl:{hd:["concept",y(e.concept)],tl:{hd:["graphic",y(e.graphic)],tl:{hd:["is_class",ne(e.is_class,fe)],tl:{hd:["function",ne(e.function,Be)],tl:{hd:["explicit",ne(e.explicit,fe)],tl:{hd:["notes",y(e.notes)],tl:0}}}}}}})}function Vf(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(d,h){return m(T(k(r,d),["Unable to find key '",d,"'"]),h)},t=n("version",Wr),i=Mr(t);if(i.TAG!==0)return O(Du(e),Nu);var o=i._0;if(o!==2)return Ne(["Unknown version for InspectorState.Token: ",String(o)]);var a=n("concept",g),u=n("graphic",g),s=n("is_class",function(d){return te(d,le)}),c=n("function",function(d){return te(d,Ge)}),f=n("explicit",function(d){return te(d,le)}),l=n("notes",g);return O(Ur([a,u,s,c,f,l]),function(d){return{concept:d[0],graphic:d[1],is_class:d[2],function:d[3],explicit:d[4],notes:d[5]}})})}var xf={concept:"#Tok#",graphic:"#Ref#",is_class:void 0,function:void 0,explicit:void 0,notes:""};function Ff(e){return x({hd:["version",$r(1)],tl:{hd:["description",y(e.description)],tl:{hd:["isIntensional",ne(e.isIntensional,fe)],tl:{hd:["notes",y(e.notes)],tl:0}}}})}function qf(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(c,f){return m(T(k(r,c),["Unable to find key '",c,"'"]),f)},t=n("version",Wr),i=Mr(t);if(i.TAG!==0)return kr("Unable to determine InspectorState.Placeholder version");var o=i._0;if(o!==1)return Ne(["Unknown InspectorState.Placeholder version ",String(o)]);var a=n("description",g),u=n("isIntensional",function(c){return te(c,le)}),s=n("notes",g);return O(Oe([a,u,s]),function(c){return{description:c[0],isIntensional:c[1],notes:c[2]}})})}function Pf(e){var r;switch(e.TAG|0){case 0:r=["representation",Lu(e._0)];break;case 1:r=["scheme",wf(e._0)];break;case 2:r=["dimension",kf(e._0)];break;case 3:r=["token",Nf(e._0)];break}return x({hd:["kind",y(r[0])],tl:{hd:["value",r[1]],tl:0}})}function Iu(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(o,a){return m(T(k(r,o),["Unable to find key '",o,"'"]),a)},t=n("kind",g),i=n("value",ee);return m(ve([t,i]),function(o){var a=o[1],u=o[0];switch(u){case"dimension":return O(Uu(a),function(s){return{TAG:2,_0:s}});case"representation":return O(Tu(a),function(s){return{TAG:0,_0:s}});case"scheme":return O(ju(a),function(s){return{TAG:1,_0:s}});case"token":return O(Du(a),function(s){return{TAG:3,_0:s}});default:return Ne(["Unknown Schema slot kind '",u,"'"])}})})}var Hf={toJson:Pf,fromJson:Iu};function Vu(e){switch(e.TAG|0){case 0:return{TAG:0,_0:e._0};case 1:return{TAG:1,_0:ku(e._0)};case 2:return{TAG:2,_0:Mu(e._0)};case 3:return{TAG:3,_0:Nu(e._0)}}}function Kf(e){var r;switch(e.TAG|0){case 0:r=["representation",Lu(e._0)];break;case 1:r=["scheme",Lf(e._0)];break;case 2:r=["dimension",Uf(e._0)];break;case 3:r=["token",If(e._0)];break;case 4:r=["placeholder",Ff(e._0)];break}return x({hd:["version",$r(2)],tl:{hd:["kind",y(r[0])],tl:{hd:["value",r[1]],tl:0}}})}function zf(e){return m(E(D(e),"Failed to decode Schema slots object JSON"),function(r){var n=function(s,c){return m(T(k(r,s),["Unable to find key '",s,"'"]),c)},t=n("version",Wr),i=Mr(t);if(i.TAG!==0)return O(Iu(e),Vu);var o=i._0;if(o!==2)return Ne(["Unknown InspectorState version ",String(o)]);var a=n("kind",g),u=n("value",ee);return m(ve([a,u]),function(s){var c=s[1],f=s[0];switch(f){case"dimension":return O(Mf(c),function(l){return{TAG:2,_0:l}});case"placeholder":return O(qf(c),function(l){return{TAG:4,_0:l}});case"representation":return O(Tu(c),function(l){return{TAG:0,_0:l}});case"scheme":return O(Tf(c),function(l){return{TAG:1,_0:l}});case"token":return O(Vf(c),function(l){return{TAG:3,_0:l}});default:return Ne(["Unknown Schema slot kind '",f,"'"])}})})}function Xf(e){switch(e){case 0:return{TAG:0,_0:Cf};case 1:return{TAG:1,_0:jf};case 2:return{TAG:2,_0:Df};case 3:return{TAG:3,_0:xf};case 4:return{TAG:4,_0:{description:"#Placeholder#",isIntensional:void 0,notes:""}}}}function Qf(e){switch(e.TAG|0){case 0:return e._0.domain;case 1:return e._0.concept_structure;case 2:case 3:return e._0.concept;case 4:return e._0.description}}function Zf(e){switch(e.TAG|0){case 0:return e._0.display;case 1:return e._0.graphic_structure;case 2:return e._0.graphic;case 3:return e._0.graphic;case 4:return""}}var Yf={V1:Hf,V2:{toJson:Kf,fromJson:zf,v1_to_v2:Vu}},hi={empty:Xf,name:Qf,reference:Zf,Stable:Yf};function el(e){return x({hd:["id",N(e.id)],tl:{hd:["slots",J.toJson(e.slots,hi.Stable.V2.toJson)],tl:{hd:["links",vr(e.links,function(r){var n=N,t=N,i=mi.Stable.V1.toJson;return[Te(n,r[0]),Te(t,r[1]),Te(i,r[2])]})],tl:0}}})}function rl(e){return m(E(D(e),"Failed to decode Request state object JSON"),function(r){var n=function(a,u){return m(T(k(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",I),i=n("slots",function(a){return J.fromJson(a,hi.Stable.V2.fromJson)}),o=n("links",function(a){return mr(a,function(u){var s=I,c=I,f=mi.Stable.V1.fromJson,l=mn($i(u),[]);if(l.length!==3)return kr("Not a triple");var d=l[0],h=l[1],v=l[2];return Oe([Te(s,d),Te(c,h),Te(f,v)])})});return O(Oe([t,i,o]),function(a){return{id:a[0],slots:a[1],links:a[2]}})})}function nl(e){return x({hd:["id",N(e.id)],tl:{hd:["warnings",vr(e.warnings,qa)],tl:{hd:["errors",vr(e.errors,st)],tl:0}}})}function tl(e){return m(E(D(e),"Failed to decode Response state object JSON"),function(r){var n=function(a,u){return m(T(k(r,a),["Unable to find key '",a,"'"]),u)},t=n("id",I),i=n("warnings",function(a){return mr(a,Pa)}),o=n("errors",function(a){return mr(a,ct)});return O(Oe([t,i,o]),function(a){return{id:a[0],warnings:a[1],errors:a[2]}})})}var il=Ca(void 0),ol=[],al=[],ul={id:il,warnings:ol,errors:al},sl={toJson:nl,fromJson:tl,empty:ul},cl={toJson:el,fromJson:rl},fl=wu,mt=function(e){return fl(cl,e)}(sl);var Eg=mt.create,Bg=mt.listen,Gg=mt.post,xu=mt.WorkerThread;Te(xu.create,function(e){var r=e.slots,n=e.links,t=[],i=[],o=au(r,n);Xa(o,function(s){ai(t,"push",[s[0]]),ai(i,"push",[s[1]])}),hr(n,function(s){var c=s[2],f=s[1],l=s[0];return hr(n,function(d){if(s!==d&&f===d[0]&&c===0&&d[2]===0){var h=d[1],v=Mn(n,function(j){return l===j[0]&&h===j[1]&&j[2]===0&&s!==j?d!==j:!1});if(Ea(v)){var R=[l,f,h],W="Transitive hierarchical connections",_="Connections in the hierarchy are transitive, so normally you do not connect a grandparent schema to its grandchildren schemas.",$="Remove the transitive connection.";i.push(Pe(R,W,_,$,void 0));return}}})});var a=Dn(t),u=Dn(i);return{id:e.id,warnings:u,errors:a}});var Ng;})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
