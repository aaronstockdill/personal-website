<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Currying, partial application, and higher order functions - Blog for Aaron Stockdill</title>
        <style>
            *{box-sizing:border-box}:root{font-size:24px}body,html{font-family:sans-serif;font-weight:300;font-size:.66666rem;line-height:1rem;margin:0;padding:0}h1,h2,h3,h4,h5,h6{font-weight:700;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual}.borked-email{direction:rtl;unicode-bidi:bidi-override;text-align:left;-webkit-hyphens:manual;-ms-hyphens:manual;hyphens:manual}.menu-hamburger,.menu-header{display:none}nav{position:relative;max-width:60ch;width:100%;margin:0 auto;padding:.5rem .375rem;z-index:1000}nav a{padding:.125rem;margin-right:.75rem;font-size:.4rem;line-height:.5rem;text-transform:uppercase;text-decoration:none;letter-spacing:.1em}nav a.active{border-bottom-width:1px;border-bottom-style:solid;margin-bottom:calc(.25rem - 1px)}main{max-width:60ch;width:100%;margin:0 auto;padding:0 .5rem 2rem .5rem}main .anchor{width:0;height:0;display:block;position:relative;top:-2rem}main hr{border:none;height:1px;margin:1rem auto 2rem auto}main h1{font-size:2rem;line-height:2rem;margin-bottom:1rem;margin-left:-.05em}main h2{margin-top:1.5rem;margin-left:-.05em}main h3{font-size:.666666rem;font-style:italic;font-weight:400;margin-top:1rem;margin-bottom:.5rem}main h4{font-size:.666666rem;line-height:1rem;margin-top:1rem;margin-bottom:.5rem}main p{-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;margin-top:.5rem;margin-bottom:.5rem}main a{text-decoration:none}main a:hover{text-decoration:underline}main a::after{content:"°";margin-left:.07em}main a.footnote-ref::after{display:none}main sup{display:inline-block;margin-top:-1em}main li{padding-top:.2rem;padding-bottom:.2rem;list-style-type:circle}main .all-caps{letter-spacing:.07em;text-transform:uppercase}main .date{text-transform:uppercase;font-weight:300;font-size:.5rem;letter-spacing:.07em}main img{display:block;margin:auto;max-width:100%}main img+em{width:100%;display:block;font-family:sans-serif;font-style:normal;font-size:.5rem;line-height:.7rem;margin:.5rem 0 1rem 0}main blockquote{border-left:5px solid;padding:.5rem 1rem}main .email{text-decoration:none;transition:color .2s ease;font-family:monospace;font-size:.5rem;letter-spacing:.07em/2}main .email::after{content:"";margin-left:0}main .precontent{display:block;padding:0 1rem;font-size:.5rem}main .award h3{margin-bottom:-.25rem}main .contact-table .label{padding-right:1rem;text-transform:uppercase;letter-spacing:.07em;font-size:.5rem;margin-top:.75rem}main .contact-table .value{overflow-x:auto;display:block}main .contact-table a{text-decoration:none}main .contact-table a:hover{text-decoration:underline}main pre{width:100%;overflow-x:auto}main code{font-size:.9em}main .dynamic-link{margin:.3rem auto}main .dynamic-link:first-of-type{margin-top:1rem}main .dynamic-link h2{margin-bottom:.5rem}main .dynamic-link a{text-decoration:none;display:inline-block;margin-right:1rem}main .dynamic-link a:hover{text-decoration:underline}main .dynamic-link a::after{display:none}main .dynamic-link .pub-info{line-height:.85rem;font-size:.5rem}main .dynamic-link .pub-info>*{display:block}main .dynamic-link .bibtex,main .dynamic-link .pdflink{font-style:italic}main .dynamic-link .orig a{font-family:monospace;font-size:.5rem}main .dynamic-link .authors{display:block;margin-bottom:.5rem}main .ed-year{margin-top:-.5rem}main h2+.work-year{margin-top:-.5rem}main h3+.work-year{margin-top:-.2rem}main .blog-year{margin-top:1rem;margin-bottom:.5rem}main .pub-date,main .talk-date{font-size:.5rem;line-height:.85rem}main .blog-date{font-size:.4rem;line-height:.5rem;letter-spacing:.1em}main .post-links{margin-top:3rem;display:block;width:100%;height:2rem;position:relative}main .post-links a{font-size:.5rem;line-height:.7rem;text-transform:uppercase;letter-spacing:.07em;text-decoration:none;display:inline-block;position:absolute}main .post-links a::after{display:none}main .post-links a:hover{text-decoration:underline}main .post-links a.prev{width:calc(50% - 3rem);padding-left:1rem}main .post-links a.prev::before{content:"◀︎";display:inline-block;position:absolute;left:0}main .post-links a.next{width:calc(50% - 3rem);text-align:right;right:0;padding-right:1rem}main .post-links a.next::after{content:"▶︎";display:inline-block;position:absolute;right:0}main .post-links a.up{width:5rem;text-align:center;left:50%;margin-left:-2.5rem}main .footnote hr{border-bottom:1px solid;padding:1rem 0;width:50%;margin:0}main .footnote ol{padding-left:2em;counter-reset:item}main .footnote ol li{list-style:none;position:relative}main .footnote ol li::before{content:counter(item);counter-increment:item;vertical-align:super;position:absolute;font-size:smaller;display:inline-block;top:1.5ex;margin-left:-1.5em}main .footnote .footnote-backref::after{display:none}footer{width:100%;max-width:60ch;margin:0 auto;opacity:.8;padding:5px .5rem}footer .selector{display:inline-block;height:1rem;overflow-y:hidden;width:2.5rem;position:relative;font-size:.4rem;line-height:.5rem;letter-spacing:.1em;text-transform:uppercase;transition:height .2s ease}footer .selector a{position:absolute;top:1.2rem;cursor:pointer;transition:top .2s ease}footer .selector:hover a{top:0}
        </style>
        <style media="print">
            nav,ul.submenu{display:none}footer{display:none}a{text-decoration:none;color:#000}a[href^="http://"]:after,a[href^="https://"]:after{content:" [" attr(href) "]";color:#333}.container hr{margin:1rem auto}
        </style>
        <style>
          .welcome{height:calc(100vh - 6rem);min-height:calc(15vh + 18rem);position:relative}.welcome .welcome-content{position:relative;top:40%;transform:translateY(-50%)}.welcome .welcome-content h1{font-size:2.666666rem;text-transform:capitalize;margin:2rem 0 0 0;line-height:2.66666rem}.welcome .welcome-content p{margin:2rem 0 1rem 0}
        </style>
        <style media="only screen and (max-width: 599px)">
          main.welcome .conditional-break{display:inline-block}@media screen and (max-width:420px){main.welcome .conditional-break{display:block!important}}nav{position:fixed;overflow:hidden;padding:3rem 0 0 0;margin:0;width:0;height:100%;top:0;right:0;transition:height .5s ease,width .5s ease,background .2s linear .3s}nav a{display:block;position:relative;padding-top:.4rem;padding-bottom:.4rem;text-align:right;padding-right:1rem;font-size:.7rem}nav a.active{border-bottom:0 none;border-right:6px solid;margin:0 calc(1rem - 6px) .25rem 0}nav.showing{width:100%;transition:height .5s ease,width .5s ease,background .2s linear 0s}.menu-hamburger{display:block;position:fixed;right:.2rem;top:.4rem;width:1.8rem;height:1.8rem;z-index:1001;transform:scale(.75)}.menu-hamburger .bar{stroke-width:0;opacity:1}.menu-hamburger .bar-bottom,.menu-hamburger .bar-top{transition:all .5s ease-in-out}.menu-hamburger .bar-top{transform:translate(0,-15%) rotate(0)}.menu-hamburger .bar-bottom{transform:translate(0,15%) rotate(0)}.menu-hamburger.showing .bar-top{transform:translate(0,0) rotate(225deg)}.menu-hamburger.showing .bar-bottom{transform:translate(0,0) rotate(135deg)}footer{position:relative;width:100%;padding:5px 1rem}footer .selector.help-button{display:none}footer .separator{width:0}
        </style>
        <script>
          var t=localStorage.getItem("s");if(t===null){var m=window.matchMedia('(prefers-color-scheme: dark)');t=(match && match.matches)?"black":"white";localStorage.setItem("s",t)}document.write("<link rel='stylesheet' href='/css/"+t+".css' media='screen' id='theme'>")
        </script>
        <noscript><link rel='stylesheet' href='/css/white.css' media='screen' id='theme'></noscript>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content=""/>

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#333333">
        <meta name="apple-mobile-web-app-title" content="Aaron Stockdill">
        <meta name="application-name" content="Aaron Stockdill">
        <meta name="msapplication-TileColor" content="#333333">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-50 -50 500 500" class="menu-hamburger" id="menu-hamburger">
        <rect x="0" y="160" rx="0" ry="20" width="400" height="80" transform-origin="200 200" class="bar-top bar"></rect>
        <rect x="0" y="160" rx="0" ry="20" width="400" height="80" transform-origin="200 200" class="bar-bottom bar"></rect>
    </svg>
    <nav>
        <a href="/" class="">Home</a>
        <a href="/cv/" class="">CV</a>
        <a href="/research/" class="">Research</a>
        <a href="/teaching/" class="">Teaching</a>
        <a href="/contact/" class="">Contact</a>
        <a href="/blog/" class="active">Blog</a>
    </nav>
    <main class="">


<div class='writing'>
<h1>Currying, partial application, and higher order functions</h1>
<p>Functional programming has come into fashion
due to &#8212; surprisingly &#8212; Javascript.
For my purposes,
functional programming is programming which emphasises
immutability<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> (variables are set once, then cannot be changed)
and functional composition (functions are small and general, and then joined together to solve bigger problems).<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></p>
<p>One further feature I wish to highlight,
which is not necessary for functional programming,
is a type system from the Hindley-Milner tradition.
HM type systems are almost always found in functional programming languages,
and provide a useful notation for us to use when talking about currying, partial application, and higher order functions.</p>
<p>We will start with the HM type system,
then look at higher order functions,
before exploring currying and partial application.
These final two concepts are frequently muddled.
They often occur together, but are not the same thing!
In this post I want to tease them apart,
and perhaps illustrate why you might like to bring these ideas into your own code.</p>
<h2>Hindley-Milner types</h2>
<p>The Hindley-Milner rabbit hole runs deep,
and has many interesting twists and turns.
The type inference algorithms are more than a post in themselves,
so here we take the inference as a black box,
and write the types where we wish to make them clear.
Further, the power of true sum types is a revelation in code cleanliness;
again, we must bypass this detour.
Instead, we will consider three features:
ground types, function types, and type variables.</p>
<p>In the HM tradition, types are written post-fix,
separated by a colon.
The familiar Algol-style notation for typing would be <code>int x</code>,
denoting that <code>x</code> is an integer.
In contrast, in HM types we write <code>x : int</code>.
Here <code>int</code> is a ground type, one of the fundamental parts of the system.
There are ways to extend the set of ground types,
and even build <em>parametric</em> types,
but we ignore those here.<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup></p>
<h2>Higher order functions</h2>
<h2>Currying</h2>
<h2>Partial application</h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Whether the immutability is enforced by the programmer or the language, and whether it is pervasive or only the default, I am happy to consider functional programming as a big church.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>By this definition, one can consider even Python a functional programming language if used carefully. This is despite the presence of objects and classes, no tail recursion, and anonymous (&#8220;lambda&#8221;) functions that are embarrassingly under-powered.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>I couldn&#8217;t help myself. A quick description of parametric types would be they are types which can be specialised with other types. Think C++ templates, or Java Generics. The canonical example would be a list: a list of integers is a <code>int list</code>, while a list of list of strings would be a <code>string list list</code>. An empty list has type <code>'a list</code>, where <code>'a</code> is a type variable. We&#8217;ll get to that.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>
</div>
<div class='post-links'>
<a class='prev' href='/blog/ai-seminar/'>AI Seminar</a>
<a class='up' href='/blog/'>Up</a>
<!--<a class='next' href='{{-- NEXT-LINK --}}'>{{-- NEXT-TITLE --}}</a>-->
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['\\(','\\)'], ['\\(','\\)']]}
});
</script>
<script async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_SVG'></script>

        </main>
        <footer>
          <span class='selector'>
            <a id="white-button" class='theme-button' onclick='switch_theme("white")'>light</a>
            <a id="black-button" class='theme-button' onclick='switch_theme("black")'>dark</a>
          </span>
        </footer>
        <script>"use strict";var formatEmailLink,getEmail,preferred_theme,setupEmail,setupNav,switchEmail,switch_theme,indexOf=[].indexOf;preferred_theme=function e(){var t;return(t=window.matchMedia("(prefers-color-scheme: dark)"))&&t.matches?"black":"white"},switch_theme=function e(t){var r=arguments.length>0&&void 0!==t?t:"white";return document.querySelector("#theme").setAttribute("href","/css/".concat(r,".css")),localStorage.setItem("style",r),!1},String.prototype.rotate=function(e){var t,r,a,n,i,o;for(i="",this.toLowerCase(),r=0,a=(n=this).length;r<a;r++)(t=n[r]).match(/[a-z]/)?(o=(t.charCodeAt(0)-97+e)%26+97,i+=String.fromCharCode(o)):i+=t;return i},String.prototype.reverse=function(){return this.split("").reverse().join("")},switchEmail=function e(t){return"mailto:"+t.replace("mailto:","").reverse()},getEmail=function e(t,r){return t.rotate(13)+"@"+r},formatEmailLink=function e(t){return'<a href="mailto:'+t+' " class="borked-email email">'+t+"</a>"},setupEmail=function e(){var t,r,a,n,i,o,s,u,l,c,d,h,m,f,g;for(u=0,d=(o=document.querySelectorAll(".email-holder")).length;u<d;u++)s=(i=o[u]).dataset.beforeAt,r=i.dataset.afterAt,i.innerHTML=formatEmailLink(getEmail(s,r).reverse());for(g=[],l=0,h=(n=document.querySelectorAll(".borked-email")).length;l<h;l++){for((a=n[l]).addEventListener("mouseover",(function(e){if("false"!==e.target.borked&&"true"!==e.target.held)return e.target.href=switchEmail(e.target.href),e.target.borked="false"})),a.addEventListener("mouseout",(function(e){if("false"===e.target.borked&&"true"!==e.target.held)return setTimeout((function(){return e.target.href=switchEmail(e.target.href,500)})),e.target.borked="true"})),c=0,m=(f=["mousedown","touchstart"]).length;c<m;c++)t=f[c],a.addEventListener(t,(function(e){return"false"!==e.target.borked&&(e.target.href=switchEmail(e.target.href),e.target.borked="false"),e.target.held="true"}));g.push(function(){var e,r,n,i;for(i=[],e=0,r=(n=["mouseup","click","dragend","touchend"]).length;e<r;e++)t=n[e],i.push(a.addEventListener(t,(function(e){return"false"===e.target.borked&&(setTimeout((function(){return e.target.href=switchEmail(e.target.href,500)})),e.target.borked="true"),e.target.held="false"})));return i}())}return g},setupNav=function e(){var t,r;return t=document.getElementById("menu-hamburger"),r=document.getElementsByTagName("nav")[0],t.addEventListener("click",(function(e){return indexOf.call(t.classList,"showing")>=0?(t.classList.remove("showing"),r.classList.remove("showing")):(t.classList.add("showing"),r.classList.add("showing"))}))},document.body.onload=function(){return setupEmail(),setupNav()};</script>
    </body>
</html>

